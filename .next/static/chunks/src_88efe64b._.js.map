{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HiddevanBrussel/.cursor/dashboard/src/stores/theme-store.ts"],"sourcesContent":["import { create } from \"zustand\";\r\nimport { persist } from \"zustand/middleware\";\r\n\r\nexport type ThemeMode = \"auto\" | \"light\" | \"dark\";\r\n\r\ntype ThemeStore = {\r\n  mode: ThemeMode;\r\n  setMode: (mode: ThemeMode) => void;\r\n  resolved: \"light\" | \"dark\";\r\n  setResolved: (resolved: \"light\" | \"dark\") => void;\r\n};\r\n\r\nexport const useThemeStore = create<ThemeStore>()(\r\n  persist(\r\n    (set) => ({\r\n      mode: \"auto\",\r\n      resolved: \"light\",\r\n      setMode: (mode) => set({ mode }),\r\n      setResolved: (resolved) => set({ resolved }),\r\n    }),\r\n    { name: \"dashboard-theme\" }\r\n  )\r\n);\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAWO,MAAM,gBAAgB,IAAA,qJAAM,IACjC,IAAA,2JAAO,EACL,CAAC,MAAQ,CAAC;QACR,MAAM;QACN,UAAU;QACV,SAAS,CAAC,OAAS,IAAI;gBAAE;YAAK;QAC9B,aAAa,CAAC,WAAa,IAAI;gBAAE;YAAS;IAC5C,CAAC,GACD;IAAE,MAAM;AAAkB","debugId":null}},
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HiddevanBrussel/.cursor/dashboard/src/components/theme-provider.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useThemeStore } from \"@/stores/theme-store\";\r\nimport { useCallback, useEffect } from \"react\";\r\n\r\nexport function ThemeProvider({ children }: { children: React.ReactNode }) {\r\n  const { mode, resolved, setResolved } = useThemeStore();\r\n\r\n  const applyTheme = useCallback(() => {\r\n    const root = document.documentElement;\r\n    let next: \"light\" | \"dark\" = resolved;\r\n\r\n    if (mode === \"auto\") {\r\n      next =\r\n        typeof window !== \"undefined\" &&\r\n        window.matchMedia(\"(prefers-color-scheme: dark)\").matches\r\n          ? \"dark\"\r\n          : \"light\";\r\n    } else {\r\n      next = mode;\r\n    }\r\n\r\n    root.classList.remove(\"light\", \"dark\");\r\n    root.classList.add(next);\r\n    setResolved(next);\r\n  }, [mode, resolved, setResolved]);\r\n\r\n  useEffect(() => {\r\n    applyTheme();\r\n  }, [applyTheme]);\r\n\r\n  useEffect(() => {\r\n    if (mode !== \"auto\") return;\r\n    const mq = window.matchMedia(\"(prefers-color-scheme: dark)\");\r\n    const handler = () => applyTheme();\r\n    mq.addEventListener(\"change\", handler);\r\n    return () => mq.removeEventListener(\"change\", handler);\r\n  }, [mode, applyTheme]);\r\n\r\n  return (\r\n    <div className=\"min-h-screen transition-theme duration-theme\" data-theme={resolved}>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAKO,SAAS,cAAc,KAA2C;QAA3C,EAAE,QAAQ,EAAiC,GAA3C;;IAC5B,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,GAAG,IAAA,mJAAa;IAErD,MAAM,aAAa,IAAA,4KAAW;iDAAC;YAC7B,MAAM,OAAO,SAAS,eAAe;YACrC,IAAI,OAAyB;YAE7B,IAAI,SAAS,QAAQ;gBACnB,OACE,aAAkB,eAClB,OAAO,UAAU,CAAC,gCAAgC,OAAO,GACrD,SACA;YACR,OAAO;gBACL,OAAO;YACT;YAEA,KAAK,SAAS,CAAC,MAAM,CAAC,SAAS;YAC/B,KAAK,SAAS,CAAC,GAAG,CAAC;YACnB,YAAY;QACd;gDAAG;QAAC;QAAM;QAAU;KAAY;IAEhC,IAAA,0KAAS;mCAAC;YACR;QACF;kCAAG;QAAC;KAAW;IAEf,IAAA,0KAAS;mCAAC;YACR,IAAI,SAAS,QAAQ;YACrB,MAAM,KAAK,OAAO,UAAU,CAAC;YAC7B,MAAM;mDAAU,IAAM;;YACtB,GAAG,gBAAgB,CAAC,UAAU;YAC9B;2CAAO,IAAM,GAAG,mBAAmB,CAAC,UAAU;;QAChD;kCAAG;QAAC;QAAM;KAAW;IAErB,qBACE,6LAAC;QAAI,WAAU;QAA+C,cAAY;kBACvE;;;;;;AAGP;GAvCgB;;QAC0B,mJAAa;;;KADvC","debugId":null}},
    {"offset": {"line": 113, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HiddevanBrussel/.cursor/dashboard/src/stores/screensaver-store.ts"],"sourcesContent":["const STORAGE_KEY_MINUTES = \"dashboard.screensaverMinutes\";\r\nconst STORAGE_KEY_BACKGROUND = \"dashboard.screensaverBackground\";\r\n\r\n/** Screensaver timeout in minutes. 0 = disabled. */\r\nexport function getScreensaverMinutes(): number {\r\n  if (typeof window === \"undefined\") return 0;\r\n  try {\r\n    const v = localStorage.getItem(STORAGE_KEY_MINUTES);\r\n    const n = v ? parseInt(v, 10) : 0;\r\n    return Number.isFinite(n) && n >= 0 ? n : 0;\r\n  } catch {\r\n    return 0;\r\n  }\r\n}\r\n\r\nexport function setScreensaverMinutes(minutes: number): void {\r\n  try {\r\n    localStorage.setItem(STORAGE_KEY_MINUTES, String(Math.max(0, Math.round(minutes))));\r\n    window.dispatchEvent(new CustomEvent(\"screensaver-setting-changed\"));\r\n  } catch {\r\n    // ignore\r\n  }\r\n}\r\n\r\n/** Screensaver background image URL. Empty string = geen afbeelding. */\r\nexport function getScreensaverBackgroundImage(): string {\r\n  if (typeof window === \"undefined\") return \"\";\r\n  try {\r\n    const v = localStorage.getItem(STORAGE_KEY_BACKGROUND);\r\n    return typeof v === \"string\" ? v : \"\";\r\n  } catch {\r\n    return \"\";\r\n  }\r\n}\r\n\r\nexport function setScreensaverBackgroundImage(url: string): void {\r\n  try {\r\n    localStorage.setItem(STORAGE_KEY_BACKGROUND, url || \"\");\r\n    window.dispatchEvent(new CustomEvent(\"screensaver-setting-changed\"));\r\n  } catch {\r\n    // ignore\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA,MAAM,sBAAsB;AAC5B,MAAM,yBAAyB;AAGxB,SAAS;IACd;;IACA,IAAI;QACF,MAAM,IAAI,aAAa,OAAO,CAAC;QAC/B,MAAM,IAAI,IAAI,SAAS,GAAG,MAAM;QAChC,OAAO,OAAO,QAAQ,CAAC,MAAM,KAAK,IAAI,IAAI;IAC5C,EAAE,UAAM;QACN,OAAO;IACT;AACF;AAEO,SAAS,sBAAsB,OAAe;IACnD,IAAI;QACF,aAAa,OAAO,CAAC,qBAAqB,OAAO,KAAK,GAAG,CAAC,GAAG,KAAK,KAAK,CAAC;QACxE,OAAO,aAAa,CAAC,IAAI,YAAY;IACvC,EAAE,UAAM;IACN,SAAS;IACX;AACF;AAGO,SAAS;IACd;;IACA,IAAI;QACF,MAAM,IAAI,aAAa,OAAO,CAAC;QAC/B,OAAO,OAAO,MAAM,WAAW,IAAI;IACrC,EAAE,UAAM;QACN,OAAO;IACT;AACF;AAEO,SAAS,8BAA8B,GAAW;IACvD,IAAI;QACF,aAAa,OAAO,CAAC,wBAAwB,OAAO;QACpD,OAAO,aAAa,CAAC,IAAI,YAAY;IACvC,EAAE,UAAM;IACN,SAAS;IACX;AACF","debugId":null}},
    {"offset": {"line": 169, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HiddevanBrussel/.cursor/dashboard/src/components/screensaver.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect, useCallback } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport { getScreensaverMinutes, getScreensaverBackgroundImage } from \"@/stores/screensaver-store\";\r\n\r\nconst ACTIVITY_EVENTS = [\"mousemove\", \"mousedown\", \"keydown\", \"touchstart\", \"scroll\", \"click\"] as const;\r\n\r\nfunction useIdleScreensaver() {\r\n  const [active, setActive] = useState(false);\r\n  const [timeoutMinutes, setTimeoutMinutes] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const minutes = getScreensaverMinutes();\r\n    setTimeoutMinutes(minutes);\r\n    const onSettingChange = () => setTimeoutMinutes(getScreensaverMinutes());\r\n    window.addEventListener(\"screensaver-setting-changed\", onSettingChange);\r\n    return () => window.removeEventListener(\"screensaver-setting-changed\", onSettingChange);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (timeoutMinutes <= 0) {\r\n      setActive(false);\r\n      return;\r\n    }\r\n    const delayMs = timeoutMinutes * 60 * 1000;\r\n    let timeoutId: ReturnType<typeof setTimeout> | null = null;\r\n\r\n    const resetTimer = () => {\r\n      setActive(false);\r\n      if (timeoutId) clearTimeout(timeoutId);\r\n      timeoutId = setTimeout(() => setActive(true), delayMs);\r\n    };\r\n\r\n    resetTimer();\r\n\r\n    const onActivity = () => resetTimer();\r\n    for (const ev of ACTIVITY_EVENTS) {\r\n      window.addEventListener(ev, onActivity, { passive: true });\r\n    }\r\n\r\n    return () => {\r\n      for (const ev of ACTIVITY_EVENTS) {\r\n        window.removeEventListener(ev, onActivity);\r\n      }\r\n      if (timeoutId) clearTimeout(timeoutId);\r\n    };\r\n  }, [timeoutMinutes]);\r\n\r\n  return { active, setActive };\r\n}\r\n\r\nfunction ScreensaverClock() {\r\n  const [time, setTime] = useState(() => new Date());\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => setTime(new Date()), 1000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  const str = `${time.getHours().toString().padStart(2, \"0\")}:${time.getMinutes().toString().padStart(2, \"0\")}`;\r\n  const dateStr = time.toLocaleDateString(\"nl-NL\", {\r\n    weekday: \"long\",\r\n    day: \"numeric\",\r\n    month: \"long\",\r\n  });\r\n\r\n  return (\r\n    <div className=\"flex flex-col items-end gap-1\">\r\n      <time\r\n        dateTime={time.toISOString()}\r\n        className=\"text-5xl sm:text-6xl font-light tabular-nums text-white/90 drop-shadow-md\"\r\n      >\r\n        {str}\r\n      </time>\r\n      <span className=\"text-sm text-white/50 tabular-nums\">{dateStr}</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ScreensaverOverlay({ onDismiss }: { onDismiss: () => void }) {\r\n  const backgroundImage = getScreensaverBackgroundImage();\r\n\r\n  return (\r\n    <div\r\n      role=\"button\"\r\n      tabIndex={0}\r\n      aria-label=\"Screensaver aanraken om te sluiten\"\r\n      className=\"fixed inset-0 z-[9999] flex items-end justify-end p-8 cursor-pointer focus:outline-none focus-visible:ring-2 focus-visible:ring-white/50\"\r\n      style={\r\n        backgroundImage\r\n          ? undefined\r\n          : { background: \"linear-gradient(to bottom right, #111827, #1f2937, #000)\" }\r\n      }\r\n      onClick={onDismiss}\r\n      onKeyDown={(e) => {\r\n        if (e.key === \"Enter\" || e.key === \" \") onDismiss();\r\n      }}\r\n    >\r\n      {backgroundImage && (\r\n        <>\r\n          <div\r\n            className=\"absolute inset-0 bg-cover bg-center bg-no-repeat\"\r\n            style={{ backgroundImage: `url(${backgroundImage})` }}\r\n            aria-hidden\r\n          />\r\n          <div className=\"absolute inset-0 bg-black/50\" aria-hidden />\r\n        </>\r\n      )}\r\n      <div className=\"relative z-10\">\r\n        <ScreensaverClock />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function ScreensaverProvider({ children }: { children: React.ReactNode }) {\r\n  const { active, setActive } = useIdleScreensaver();\r\n\r\n  const dismiss = useCallback(() => setActive(false), []);\r\n\r\n  return (\r\n    <>\r\n      {children}\r\n      {active &&\r\n        typeof document !== \"undefined\" &&\r\n        createPortal(\r\n          <ScreensaverOverlay onDismiss={dismiss} />,\r\n          document.body\r\n        )}\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 398, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HiddevanBrussel/.cursor/dashboard/src/components/providers.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\r\nimport { useState } from \"react\";\r\nimport { ThemeProvider } from \"./theme-provider\";\r\nimport { ScreensaverProvider } from \"./screensaver\";\r\n\r\nexport function Providers({ children }: { children: React.ReactNode }) {\r\n  const [queryClient] = useState(\r\n    () =>\r\n      new QueryClient({\r\n        defaultOptions: {\r\n          queries: { staleTime: 60 * 1000 },\r\n        },\r\n      })\r\n  );\r\n\r\n  return (\r\n    <QueryClientProvider client={queryClient}>\r\n      <ThemeProvider>\r\n        <ScreensaverProvider>{children}</ScreensaverProvider>\r\n      </ThemeProvider>\r\n    </QueryClientProvider>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AACA;AACA;;;AALA;;;;;AAOO,SAAS,UAAU,KAA2C;QAA3C,EAAE,QAAQ,EAAiC,GAA3C;;IACxB,MAAM,CAAC,YAAY,GAAG,IAAA,yKAAQ;8BAC5B,IACE,IAAI,+LAAW,CAAC;gBACd,gBAAgB;oBACd,SAAS;wBAAE,WAAW,KAAK;oBAAK;gBAClC;YACF;;IAGJ,qBACE,6LAAC,gNAAmB;QAAC,QAAQ;kBAC3B,cAAA,6LAAC,2JAAa;sBACZ,cAAA,6LAAC,2JAAmB;0BAAE;;;;;;;;;;;;;;;;AAI9B;GAjBgB;KAAA","debugId":null}},
    {"offset": {"line": 459, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HiddevanBrussel/.cursor/dashboard/src/lib/onboarding-completed.ts"],"sourcesContent":["const KEY = \"onboarding_completed\";\r\n\r\nexport function setOnboardingCompleted(): void {\r\n  if (typeof window === \"undefined\") return;\r\n  window.localStorage.setItem(KEY, \"true\");\r\n}\r\n\r\nexport function getOnboardingCompleted(): boolean {\r\n  if (typeof window === \"undefined\") return false;\r\n  return window.localStorage.getItem(KEY) === \"true\";\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA,MAAM,MAAM;AAEL,SAAS;IACd;;IACA,OAAO,YAAY,CAAC,OAAO,CAAC,KAAK;AACnC;AAEO,SAAS;IACd;;IACA,OAAO,OAAO,YAAY,CAAC,OAAO,CAAC,SAAS;AAC9C","debugId":null}},
    {"offset": {"line": 483, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HiddevanBrussel/.cursor/dashboard/src/components/onboarding-guard.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { usePathname, useRouter } from \"next/navigation\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { getOnboardingCompleted, setOnboardingCompleted } from \"@/lib/onboarding-completed\";\r\n\r\nexport function OnboardingGuard({ children }: { children: React.ReactNode }) {\r\n  const pathname = usePathname();\r\n  const router = useRouter();\r\n  const [allowed, setAllowed] = useState<boolean | null>(null);\r\n\r\n  useEffect(() => {\r\n    const completed = getOnboardingCompleted();\r\n    const isOnboardingStart = pathname === \"/onboarding/start\";\r\n    const isOnboardingWizard = pathname === \"/onboarding\";\r\n\r\n    if (completed || isOnboardingStart || isOnboardingWizard) {\r\n      setAllowed(true);\r\n      return;\r\n    }\r\n\r\n    // Geen onboarding-flag in localStorage: check of er al een dashboard is (bijv. eerste start na deploy met bestaande data)\r\n    fetch(\"/api/dashboard\")\r\n      .then((r) => r.json())\r\n      .then((d) => {\r\n        if (d?.id) {\r\n          setOnboardingCompleted();\r\n          setAllowed(true);\r\n          if (pathname === \"/\" || pathname === \"/dashboards\") {\r\n            router.replace(`/dashboards/${d.id}`);\r\n          }\r\n        } else {\r\n          router.replace(\"/onboarding/start\");\r\n          setAllowed(false);\r\n        }\r\n      })\r\n      .catch(() => {\r\n        router.replace(\"/onboarding/start\");\r\n        setAllowed(false);\r\n      });\r\n  }, [pathname, router]);\r\n\r\n  if (allowed === null || !allowed) {\r\n    return (\r\n      <div className=\"flex min-h-screen items-center justify-center bg-page-light dark:bg-dark-page\">\r\n        <div className=\"h-8 w-8 animate-spin rounded-full border-2 border-accent-yellow dark:border-accent-green border-t-transparent\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return <>{children}</>;\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMO,SAAS,gBAAgB,KAA2C;QAA3C,EAAE,QAAQ,EAAiC,GAA3C;;IAC9B,MAAM,WAAW,IAAA,oJAAW;IAC5B,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAiB;IAEvD,IAAA,0KAAS;qCAAC;YACR,MAAM,YAAY,IAAA,kKAAsB;YACxC,MAAM,oBAAoB,aAAa;YACvC,MAAM,qBAAqB,aAAa;YAExC,IAAI,aAAa,qBAAqB,oBAAoB;gBACxD,WAAW;gBACX;YACF;YAEA,0HAA0H;YAC1H,MAAM,kBACH,IAAI;6CAAC,CAAC,IAAM,EAAE,IAAI;4CAClB,IAAI;6CAAC,CAAC;oBACL,IAAI,cAAA,wBAAA,EAAG,EAAE,EAAE;wBACT,IAAA,kKAAsB;wBACtB,WAAW;wBACX,IAAI,aAAa,OAAO,aAAa,eAAe;4BAClD,OAAO,OAAO,CAAC,AAAC,eAAmB,OAAL,EAAE,EAAE;wBACpC;oBACF,OAAO;wBACL,OAAO,OAAO,CAAC;wBACf,WAAW;oBACb;gBACF;4CACC,KAAK;6CAAC;oBACL,OAAO,OAAO,CAAC;oBACf,WAAW;gBACb;;QACJ;oCAAG;QAAC;QAAU;KAAO;IAErB,IAAI,YAAY,QAAQ,CAAC,SAAS;QAChC,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,qBAAO;kBAAG;;AACZ;GA7CgB;;QACG,oJAAW;QACb,kJAAS;;;KAFV","debugId":null}},
    {"offset": {"line": 575, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HiddevanBrussel/.cursor/dashboard/src/components/page-background.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { createContext, useContext, useEffect, useState } from \"react\";\r\n\r\nfunction fetchBackground(): Promise<string | null> {\r\n  return fetch(\"/api/dashboard\")\r\n    .then((r) => r.json())\r\n    .then((d) => d?.background ?? null)\r\n    .catch(() => null);\r\n}\r\n\r\nconst PageBackgroundContext = createContext<string | null>(null);\r\n\r\nexport function usePageBackground() {\r\n  return useContext(PageBackgroundContext);\r\n}\r\n\r\nexport function PageBackgroundProvider({\r\n  children,\r\n}: {\r\n  children: React.ReactNode;\r\n}) {\r\n  const [url, setUrl] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    fetchBackground().then(setUrl);\r\n    const onUpdate = () => fetchBackground().then(setUrl);\r\n    window.addEventListener(\"page-background-changed\", onUpdate);\r\n    return () => window.removeEventListener(\"page-background-changed\", onUpdate);\r\n  }, []);\r\n\r\n  return (\r\n    <PageBackgroundContext.Provider value={url}>\r\n      {url ? (\r\n        <div\r\n          className=\"fixed inset-0 -z-10 bg-cover bg-center bg-no-repeat\"\r\n          style={{ backgroundImage: `url(${url})` }}\r\n          aria-hidden\r\n        />\r\n      ) : null}\r\n      {children}\r\n    </PageBackgroundContext.Provider>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;;;AAFA;;AAIA,SAAS;IACP,OAAO,MAAM,kBACV,IAAI,CAAC,CAAC,IAAM,EAAE,IAAI,IAClB,IAAI,CAAC,CAAC;YAAM;eAAA,CAAA,gBAAA,cAAA,wBAAA,EAAG,UAAU,cAAb,2BAAA,gBAAiB;OAC7B,KAAK,CAAC,IAAM;AACjB;AAEA,MAAM,sCAAwB,IAAA,8KAAa,EAAgB;AAEpD,SAAS;;IACd,OAAO,IAAA,2KAAU,EAAC;AACpB;GAFgB;AAIT,SAAS,uBAAuB,KAItC;QAJsC,EACrC,QAAQ,EAGT,GAJsC;;IAKrC,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,yKAAQ,EAAgB;IAE9C,IAAA,0KAAS;4CAAC;YACR,kBAAkB,IAAI,CAAC;YACvB,MAAM;6DAAW,IAAM,kBAAkB,IAAI,CAAC;;YAC9C,OAAO,gBAAgB,CAAC,2BAA2B;YACnD;oDAAO,IAAM,OAAO,mBAAmB,CAAC,2BAA2B;;QACrE;2CAAG,EAAE;IAEL,qBACE,6LAAC,sBAAsB,QAAQ;QAAC,OAAO;;YACpC,oBACC,6LAAC;gBACC,WAAU;gBACV,OAAO;oBAAE,iBAAiB,AAAC,OAAU,OAAJ,KAAI;gBAAG;gBACxC,aAAW;;;;;uBAEX;YACH;;;;;;;AAGP;IA1BgB;KAAA","debugId":null}}]
}