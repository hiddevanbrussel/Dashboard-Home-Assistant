(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[172],{48442:(e,t,r)=>{Promise.resolve().then(r.bind(r,51537))},51537:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>R});var a=r(95155),i=r(20063),d=r(99776),l=r(22454),n=r(80549),o=r(75448),s=r(12115),c=r(47650),g=r(23812),u=r.n(g);r(97517),r(98805);var x=r(40583),h=r(32893),y=r(17666),m=r(85449),b=r(59427),p=r(46705),_=r(80598),v=r(26327),k=r(78192),w=r(60890),j=r(65993),f=r(97703),N=r(91456),C=r(6191),F=r(65229),E=r(5917),S=r(18514),A=r(24219),z=r(93420),B=r(71650),D=r(64269);let M=[{type:"title_card",label:"Titel",Icon:x.A},{type:"climate_card_2",label:"Klimaat",Icon:h.A},{type:"light_card",label:"Lamp",Icon:y.A},{type:"media_card",label:"Media",Icon:m.A},{type:"solar_card",label:"Zonnepanelen",Icon:b.A},{type:"energy_monitor_card",label:"Afbeeldingskaart",Icon:b.A},{type:"stat_pill_card",label:"Stat pill",Icon:p.A},{type:"sensor_card",label:"Sensor",Icon:_.A},{type:"weather_card",label:"Weer",Icon:v.A},{type:"vacuum_card",label:"Stofzuiger",Icon:k.A},{type:"camera_card",label:"Camera",Icon:w.A},{type:"pill_card",label:"Pill",Icon:p.A},{type:"room_card",label:"Kamer",Icon:j.A},{type:"nuts_card",label:"Nuts (Gas/Water)",Icon:f.A},{type:"card_group",label:"Kaartgroep",Icon:N.A}],I={title_card:"",energy_usage:"sensor",light_control:"light",wifi:"sensor",solar_charge:"sensor",climate:"climate",climate_card:"climate",climate_card_2:"climate",light_card:"light",lighting_brightness:"light",media_card:"media_player",solar_card:"sensor",energy_monitor_card:"sensor",stat_pill_card:"sensor",sensor_card:"sensor",weather_card:"weather",vacuum_card:"vacuum",camera_card:"camera",pill_card:"switch",room_card:"",nuts_card:"sensor",card_group:""},L=["switch","light","input_boolean","sensor"];function W(e){if(!e)return[];try{let t=JSON.parse(e);return Array.isArray(t)?t:[]}catch(e){return[]}}function T(e){let{type:t,title:r,entity_id:i,consumption_entity_id:d,humidity_entity_id:l,show_icon:n,script_ids:o,script_names:s,cleaned_area_entity_id:c,light_entity_id:g,background_image:u,background_image_dark:x,image_conditions:h,icon:y,size:m,conditions:b,current_entity_id:p,max_value:_,grid_entity_id:v,minimal:k,label:w,color:j}=e,f=null!=m?m:"md",N=(0,z.j)(e=>e.getState(i)),C=(null==N?void 0:N.state)!=null?Number(N.state):void 0,F=(null==N?void 0:N.state)==="on"?"on":"off";switch(t){case"title_card":return(0,a.jsx)(A.Pm,{title:r});case"energy_usage":return(0,a.jsx)(A.uK,{title:r,entity_id:i,size:f,value:C});case"light_control":return(0,a.jsx)(A.oz,{title:r,entity_id:i,size:f,value:C,state:(null==N?void 0:N.state)==="on"?"on":"off"});case"wifi":return(0,a.jsx)(A.Y$,{title:r,entity_id:i,size:f,value:F});case"solar_charge":return(0,a.jsx)(A.gu,{title:r,entity_id:i,size:f,value:C});case"climate":return(0,a.jsx)(A.uU,{title:r,entity_id:i,size:f,value:C});case"lighting_brightness":return(0,a.jsx)(A.MW,{title:r,entity_id:i,size:f,value:C});case"media_card":return(0,a.jsx)(A.$F,{title:r,entity_id:i,size:f});case"climate_card":case"climate_card_2":return(0,a.jsx)(A.S4,{title:r,entity_id:i,humidity_entity_id:l,size:f});case"light_card":return(0,a.jsx)(A.lu,{title:r,entity_id:i,icon:y,size:f});case"solar_card":return(0,a.jsx)(A.y,{title:r,entity_id:i,consumption_entity_id:d,size:f});case"energy_monitor_card":return(0,a.jsx)(A.vA,{title:r,entity_id:i,background_image:u,background_image_dark:x,image_conditions:h,minimal:k,size:f});case"stat_pill_card":return(0,a.jsx)(A.wU,{title:r,entity_id:i,label:w,icon:y,color:null!=j?j:"amber",size:f});case"weather_card":return(0,a.jsx)(A.Fy,{title:r,entity_id:i,show_icon:n,size:f});case"vacuum_card":return(0,a.jsx)(A.Oo,{title:r,entity_id:i,script_ids:o,script_names:s,cleaned_area_entity_id:c,icon:y,size:f});case"sensor_card":return(0,a.jsx)(A.j1,{title:r,entity_id:i,icon:y,show_icon:n,size:f,conditions:b});case"room_card":return(0,a.jsx)(A.Kq,{title:r,entity_id:i,icon:y,light_entity_id:g,background_image:u});case"nuts_card":return(0,a.jsx)(A.Hm,{title:r,entity_id:i,current_entity_id:p,icon:y,max_value:_});default:return(0,a.jsx)("div",{className:"rounded-card border border-dashed p-4 text-sm text-gray-500",children:r||t})}}function R(){var e,t,r,g,x,h,y,m,b,p,_,v,k,w,j,f,N,R,K,V,P,G,O,q,H,U,Z,$,Y,J,Q,X,ee,et,er,ea,ei,ed,el;let en=(0,i.useParams)(),eo=(0,i.useRouter)(),es=(0,d.jE)(),ec=null==en?void 0:en.id,[eg,eu]=(0,s.useState)(!1),[ex,eh]=(0,s.useState)([]),[ey,em]=(0,s.useState)([]),[eb,ep]=(0,s.useState)(""),[e_,ev]=(0,s.useState)(""),[ek,ew]=(0,s.useState)(!1),[ej,ef]=(0,s.useState)([]),[eN,eC]=(0,s.useState)(!1),[eF,eE]=(0,s.useState)("type"),[eS,eA]=(0,s.useState)(null),[ez,eB]=(0,s.useState)(""),[eD,eM]=(0,s.useState)(""),[eI,eL]=(0,s.useState)(""),[eW,eT]=(0,s.useState)(null),[eR,eK]=(0,s.useState)(null),[eV,eP]=(0,s.useState)({title:"",entity_id:"",consumption_entity_id:"",grid_entity_id:"",humidity_entity_id:"",show_icon:!0,show_state:!0,script_ids:[],script_names:{},cleaned_area_entity_id:"",current_entity_id:"",light_entity_id:"",background_image:"",background_image_dark:"",icon_background_color:"",width:void 0,height:void 0,icon:"",size:"md",conditions:[],image_conditions:[],minimal:!1,scale:1,label:"",color:"amber",refresh:10,show_title:!0}),[eG,eO]=(0,s.useState)(""),[eq,eH]=(0,s.useState)(""),[eU,eZ]=(0,s.useState)(""),[e$,eY]=(0,s.useState)(""),[eJ,eQ]=(0,s.useState)("general"),eX=(0,s.useRef)(null);function e0(){null!=eX.current&&(clearTimeout(eX.current),eX.current=null)}function e2(e){var t,r;eg||(e.preventDefault(),null==(t=(r=e.currentTarget).setPointerCapture)||t.call(r,e.pointerId),e0(),eX.current=setTimeout(()=>{eX.current=null,eu(!0)},500))}function e1(e){var t,r;null==(t=(r=e.currentTarget).releasePointerCapture)||t.call(r,e.pointerId),e0()}let e5=eW?ey.find(e=>e.id===eW):null;(0,s.useEffect)(()=>{eW||eK(null)},[eW]),(0,s.useEffect)(()=>{var e,t,r,a,i,d,l,n,o,s,c,g,u,x,h,y,m,b,p,_,v,k,w,j,f,N,C,F,E,S,A,z,B,D;if((null==e5?void 0:e5.type)==="card_group"&&eR){let l=(null!=(e=e5.children)?e:[]).find(e=>e.id===eR);l&&(eP({title:null!=(t=l.title)?t:"",entity_id:null!=(r=l.entity_id)?r:"",consumption_entity_id:"",humidity_entity_id:"",show_icon:!0,script_ids:[],script_names:{},cleaned_area_entity_id:"",icon:null!=(a=l.icon)?a:"",size:"md",conditions:null!=(i=l.conditions)?i:[],show_state:!1!==l.show_state}),eY(null!=(d=l.icon)?d:""));return}e5&&(eP({title:null!=(l=e5.title)?l:"",entity_id:null!=(n=e5.entity_id)?n:"",consumption_entity_id:null!=(o=e5.consumption_entity_id)?o:"",grid_entity_id:null!=(s=e5.grid_entity_id)?s:"",humidity_entity_id:null!=(c=e5.humidity_entity_id)?c:"",show_icon:!1!==e5.show_icon,script_ids:null!=(g=e5.script_ids)?g:[],script_names:null!=(u=e5.script_names)?u:{},cleaned_area_entity_id:null!=(x=e5.cleaned_area_entity_id)?x:"",light_entity_id:null!=(h=e5.light_entity_id)?h:"",background_image:null!=(y=e5.background_image)?y:"",background_image_dark:null!=(m=e5.background_image_dark)?m:"",icon_background_color:null!=(b=e5.icon_background_color)?b:"",width:null!=(p=e5.width)?p:void 0,height:null!=(_=e5.height)?_:void 0,icon:null!=(v=e5.icon)?v:"",size:null!=(k=e5.size)?k:"md",conditions:null!=(w=e5.conditions)?w:[],image_conditions:null!=(j=e5.image_conditions)?j:[],show_state:!1!==e5.show_state,current_entity_id:null!=(f=e5.current_entity_id)?f:"",max_value:null!=(N=e5.max_value)?N:void 0,minimal:null!=(C=e5.minimal)&&C,scale:null!=(F=e5.scale)?F:1,label:null!=(E=e5.label)?E:"",color:null!=(S=e5.color)?S:"amber",refresh:null!=(A=e5.refresh)?A:10,show_title:!1!==e5.show_title}),eO(""),eH("vacuum_card"===e5.type&&null!=(z=e5.icon)?z:""),eZ("sensor_card"===e5.type&&null!=(B=e5.icon)?B:""),eY("pill_card"===e5.type&&null!=(D=e5.icon)?D:""),eL(""),eM(""),"sensor_card"===e5.type&&eQ("general"))},[e5,eR]);let{data:e4,isLoading:e3,error:e9}=(0,l.I)({queryKey:["dashboard",ec],queryFn:async()=>{let e=await fetch("/api/dashboards/".concat(ec));if(!e.ok)throw Error("Failed to load");return e.json()},enabled:!!ec});(0,s.useEffect)(()=>{var e,t;if(!e4||ek)return;let r=W(e4.widgets);em(r);let a=function(e){if(!e)return[];try{let t=JSON.parse(e);return Array.isArray(t)?t:[]}catch(e){return[]}}(e4.layout);a.length>0?eh(a):r.length>0&&eh(r.map((e,t)=>({i:e.id,x:t%3*4,y:2*Math.floor(t/3),w:4,h:2}))),ep(null!=(e=e4.welcomeTitle)?e:""),ev(null!=(t=e4.welcomeSubtitle)?t:""),ew(!0)},[e4,ek]),(0,s.useEffect)(()=>{eg&&fetch("/api/ha/entities").then(e=>e.json()).then(e=>Array.isArray(e)?ef(e):ef([])).catch(()=>ef([]))},[eg]);let e6=(0,z.j)(e=>e.requestRefresh);(0,s.useEffect)(()=>{e4&&W(e4.widgets).some(e=>"stat_pill_card"===e.type)&&e6()},[e4,e6]),(0,s.useEffect)(()=>{e9&&ec&&eo.replace("/dashboards")},[e9,ec,eo]);let e7=(0,n.n)({mutationFn:async e=>{let t=await fetch("/api/dashboards/".concat(ec),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({layout:JSON.stringify(e.layout),widgets:JSON.stringify(e.widgets),...void 0!==e.welcomeTitle&&{welcomeTitle:e.welcomeTitle||null},...void 0!==e.welcomeSubtitle&&{welcomeSubtitle:e.welcomeSubtitle||null}})});if(!t.ok)throw Error("Save failed");return t.json()},onSuccess:()=>{es.invalidateQueries({queryKey:["dashboard",ec]})}}),e8=ex.filter(e=>{var t;let r=null==(t=ey.find(t=>t.id===e.i))?void 0:t.type;return"media_card"!==r&&"climate_card"!==r&&"climate_card_2"!==r&&"light_card"!==r&&"solar_card"!==r&&"energy_monitor_card"!==r&&"stat_pill_card"!==r&&"sensor_card"!==r&&"weather_card"!==r&&"vacuum_card"!==r&&"camera_card"!==r&&"title_card"!==r&&"pill_card"!==r&&"room_card"!==r&&"nuts_card"!==r&&"card_group"!==r}),te=new Map(ex.map(e=>[e.i,e]));function tt(e,t,r){let a=(0,D.$)(),i={id:a,type:e,title:null!=r?r:e.replace(/_/g," "),entity_id:t,..."card_group"===e&&{children:[],alignment:"start"}},d=0===ex.length?0:Math.max(...ex.map(e=>e.y+e.h)),l="title_card"===e,n=[...ey,i],o="solar_card"===e||"energy_monitor_card"===e||"sensor_card"===e||"weather_card"===e||"climate_card"===e||"climate_card_2"===e||"light_card"===e||"vacuum_card"===e||"camera_card"===e||"title_card"===e||"pill_card"===e||"room_card"===e||"nuts_card"===e||"card_group"===e?ex:[...ex,{i:a,x:0,y:d,w:l?12:4,h:l?1:2}];return em(n),eh(o),eC(!1),eE("type"),eA(null),e7.mutate({layout:o,widgets:n,welcomeTitle:eb,welcomeSubtitle:e_}),"room_card"===e||"nuts_card"===e||"energy_monitor_card"===e||"stat_pill_card"===e?a:void 0}let tr=eS?I[eS]:null,ta="pill_card"===eS?ej.filter(e=>L.some(t=>e.entity_id.startsWith(t+"."))):null!=tr?ej.filter(e=>e.entity_id.startsWith(tr+".")):ej;function ti(e){em(t=>t.filter(t=>t.id!==e)),eh(t=>t.filter(t=>t.i!==e))}if(!ec)return(0,a.jsx)(o.AppShell,{activeTab:"/dashboards",children:(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Invalid dashboard id."})});if(e3||e9)return(0,a.jsx)(o.AppShell,{activeTab:"/dashboards",children:(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e9?"Dashboard not found, redirecting…":"Loading…"})});let td=(0,a.jsx)(a.Fragment,{children:eg?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{type:"button",onClick:()=>eC(!0),className:"flex h-8 w-8 items-center justify-center rounded-full text-white hover:opacity-90",style:{backgroundColor:"#4D2FB2"},"aria-label":"Kaart toevoegen",children:(0,a.jsx)(C.A,{className:"h-4 w-4"})}),eN&&"undefined"!=typeof document&&(0,c.createPortal)((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 z-[300] bg-black/50 backdrop-blur-xl","aria-hidden":!0,onClick:()=>{eC(!1),eE("type"),eA(null),eB("")}}),(0,a.jsxs)("div",{className:"fixed left-1/2 top-1/2 z-[301] w-full max-w-md -translate-x-1/2 -translate-y-1/2 rounded-xl border border-gray-200 bg-white p-4 shadow-xl dark:border-white/10 dark:bg-black/50 dark:backdrop-blur-xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"type"===eF?"Kaart toevoegen":"Kies entity"}),(0,a.jsx)("button",{type:"button",onClick:()=>{eC(!1),eE("type"),eA(null),eB("")},className:"p-1.5 rounded-lg text-gray-500 hover:bg-gray-100 dark:hover:bg-white/10 dark:text-gray-400","aria-label":"Sluiten",children:(0,a.jsx)(F.A,{className:"h-5 w-5"})})]}),"type"===eF?(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2",children:M.map(e=>{let{type:t,label:r,Icon:i}=e;return(0,a.jsxs)("button",{type:"button",onClick:()=>{if("title_card"===t){tt("title_card","","Titel"),eC(!1);return}if("card_group"===t){tt("card_group","","Kaartgroep"),eC(!1);return}if("room_card"===t){let e=tt("room_card","","Kamer");e&&eT(e);return}if("energy_monitor_card"===t){let e=tt("energy_monitor_card","","Afbeeldingskaart");e&&eT(e),eC(!1);return}eA(t),eE("entity")},className:"flex flex-col items-center gap-2 rounded-xl border border-gray-200 bg-gray-50/80 py-4 px-3 transition-colors hover:border-[#4D2FB2]/40 hover:bg-[#4D2FB2]/5 dark:border-white/10 dark:bg-white/5 dark:hover:border-[#4D2FB2]/50 dark:hover:bg-[#4D2FB2]/10",children:[(0,a.jsx)(i,{className:"h-7 w-7 text-gray-600 dark:text-gray-400"}),(0,a.jsx)("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-200 text-center leading-tight",children:r})]},t)})}):(0,a.jsxs)("div",{className:"flex flex-col max-h-[60vh]",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{eE("type"),eA(null),eB("")},className:"mb-3 self-start px-2 py-1 text-xs font-medium text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-white/10 rounded-lg",children:"← Terug"}),(0,a.jsx)("input",{type:"text",value:ez,onChange:e=>eB(e.target.value),placeholder:"Zoek op naam of entity_id (bijv. sensor.woonkamer)…",className:"mb-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500",autoFocus:!0}),(0,a.jsx)("div",{className:"overflow-auto rounded-lg border border-gray-200 dark:border-white/10 divide-y divide-gray-100 dark:divide-white/5 max-h-[50vh]",children:(()=>{let e=ez.trim().toLowerCase(),t=e?ta.filter(t=>{var r,a;return(null!=(a=null==(r=t.attributes)?void 0:r.friendly_name)?a:t.entity_id).toLowerCase().includes(e)||t.entity_id.toLowerCase().includes(e)}):ta;return 0===t.length?(0,a.jsx)("p",{className:"px-4 py-6 text-sm text-gray-500 dark:text-gray-400 text-center",children:0===ta.length?"Geen entities gevonden. Controleer je HA-verbinding in Instellingen.":"Geen resultaten voor je zoekopdracht."}):t.map(e=>{var t,r;let i=null!=(r=null==(t=e.attributes)?void 0:t.friendly_name)?r:e.entity_id;return(0,a.jsx)("button",{type:"button",onClick:()=>{if(eS){var t,r;let a=null!=(r=null==(t=e.attributes)?void 0:t.friendly_name)?r:e.entity_id,i=tt(eS,e.entity_id,"nuts_card"===eS?a||"Gas":"energy_monitor_card"===eS?a||"Afbeeldingskaart":"stat_pill_card"===eS?a||"Stat":void 0);("nuts_card"===eS||"stat_pill_card"===eS)&&i&&eT(i)}eC(!1),eE("type"),eA(null),eB("")},className:"block w-full px-4 py-2.5 text-left text-sm hover:bg-gray-100 dark:hover:bg-white/10 truncate",title:e.entity_id,children:i},e.entity_id)})})()})]})]})]}),document.body)]}),(0,a.jsx)("div",{className:"relative z-[60]",children:(0,a.jsx)("button",{type:"button",onClick:()=>{eT(null),eK(null),eu(!1),e7.mutate({layout:ex,widgets:ey,welcomeTitle:eb,welcomeSubtitle:e_})},disabled:e7.isPending,className:"flex h-8 w-8 items-center justify-center rounded-full bg-gray-200 dark:bg-white/10 text-gray-700 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-white/20","aria-label":"Done editing",children:(0,a.jsx)(E.A,{className:"h-4 w-4"})})})]}):(0,a.jsx)("button",{type:"button",onClick:()=>eu(!0),className:"flex h-8 w-8 items-center justify-center rounded-full text-white hover:opacity-90",style:{backgroundColor:"#4D2FB2"},"aria-label":"Edit dashboard",children:(0,a.jsx)(S.A,{className:"h-4 w-4"})})}),tl=ey.some(e=>"card_group"===e.type);return(0,a.jsx)(o.AppShell,{activeTab:"/dashboards",headerEndAction:td,welcomeTitle:eb||void 0,welcomeSubtitle:e_||void 0,welcomeEditable:eg,onWelcomeChange:eg?e=>{let{title:t,subtitle:r}=e;ep(t),ev(r)}:void 0,contentNoScroll:tl,children:(0,a.jsxs)("div",{className:"space-y-6 overflow-x-hidden min-h-0",children:[(0,a.jsx)("div",{className:"flex items-center justify-end",children:(0,a.jsx)(B.n,{})}),(0,a.jsx)("div",{className:"rounded-card overflow-hidden",children:(0,a.jsx)(u(),{className:"layout",layout:e8,onLayoutChange:e=>{eh(t=>[...e,...t.filter(e=>{var t;let r=null==(t=ey.find(t=>t.id===e.i))?void 0:t.type;return"media_card"===r||"climate_card"===r||"climate_card_2"===r||"title_card"===r||"pill_card"===r||"room_card"===r||"nuts_card"===r||"card_group"===r})])},cols:12,rowHeight:52,width:1200,margin:[6,4],containerPadding:[0,0],isDraggable:eg,isResizable:eg,draggableHandle:eg?".tile-drag-handle":void 0,children:ey.filter(e=>"media_card"!==e.type&&"climate_card"!==e.type&&"climate_card_2"!==e.type&&"light_card"!==e.type&&"solar_card"!==e.type&&"energy_monitor_card"!==e.type&&"stat_pill_card"!==e.type&&"weather_card"!==e.type&&"vacuum_card"!==e.type&&"camera_card"!==e.type&&"title_card"!==e.type&&"pill_card"!==e.type&&"room_card"!==e.type&&"nuts_card"!==e.type&&"card_group"!==e.type).map(e=>te.get(e.id)?(0,a.jsxs)("div",{className:"relative h-full w-full",...!eg&&{onPointerDown:e2,onPointerUp:e1,onPointerLeave:e1,onPointerCancel:e1,onContextMenu:e=>e.preventDefault(),style:{touchAction:"none"}},children:[eg&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{type:"button",onClick:()=>eT(e.id),className:"absolute -right-8 -top-1 z-10 flex h-6 w-6 items-center justify-center rounded-full bg-gray-600 text-white shadow hover:bg-gray-700","aria-label":"Edit tile",children:(0,a.jsx)(S.A,{className:"h-3.5 w-3.5"})}),(0,a.jsx)("button",{type:"button",onClick:()=>ti(e.id),className:"absolute -right-1 -top-1 z-10 flex h-6 w-6 items-center justify-center rounded-full bg-red-500 text-white shadow hover:bg-red-600","aria-label":"Remove tile",children:(0,a.jsx)(F.A,{className:"h-3.5 w-3.5"})})]}),(0,a.jsx)("div",{className:(0,D.cn)("h-full w-full",eg&&"tile-drag-handle cursor-grab touch-none"),children:(0,a.jsx)(T,{type:e.type,title:e.title,entity_id:e.entity_id,consumption_entity_id:e.consumption_entity_id,humidity_entity_id:e.humidity_entity_id,show_icon:e.show_icon,script_ids:e.script_ids,script_names:e.script_names,cleaned_area_entity_id:e.cleaned_area_entity_id,light_entity_id:e.light_entity_id,background_image:e.background_image,background_image_dark:e.background_image_dark,image_conditions:e.image_conditions,icon:e.icon,size:e.size,conditions:e.conditions,current_entity_id:e.current_entity_id,max_value:e.max_value,grid_entity_id:e.grid_entity_id,minimal:e.minimal,label:e.label,color:e.color})})]},e.id):null)})}),(()=>{var e;let t=ey.find(e=>"media_card"===e.type);return t?(0,a.jsx)(A.LG,{title:null!=(e=t.title)?e:"Media",entity_id:t.entity_id,editMode:eg,onEnterEditMode:()=>eu(!0),onEdit:eg?()=>eT(t.id):void 0,onRemove:eg?()=>ti(t.id):void 0}):null})(),(()=>{let e=ey.filter(e=>"climate_card"===e.type||"climate_card_2"===e.type);return e.length>0?(0,a.jsx)(A.e_,{widgets:e.map(e=>{var t;return{id:e.id,title:null!=(t=e.title)?t:"Climate",entity_id:e.entity_id,humidity_entity_id:e.humidity_entity_id,icon:e.icon,type:"climate_card_2"===e.type?"climate_card_2":"climate_card",width:e.width,height:e.height}}),editMode:eg,onEnterEditMode:()=>eu(!0),onEdit:eg?e=>eT(e):void 0,onRemove:eg?e=>ti(e):void 0}):null})(),ey.filter(e=>"light_card"===e.type).map((e,t)=>{var r;return(0,a.jsx)(A.NH,{widget:{id:e.id,title:null!=(r=e.title)?r:"Lamp",entity_id:e.entity_id,icon:e.icon},widgetIndex:t,editMode:eg,onEnterEditMode:()=>eu(!0),onEdit:()=>{eu(!0),eT(e.id)},onRemove:eg?()=>ti(e.id):void 0},e.id)}),(()=>{var e;let t=ey.find(e=>"solar_card"===e.type);return t?(0,a.jsx)(A.oW,{title:null!=(e=t.title)?e:"Zonnepanelen",entity_id:t.entity_id,consumption_entity_id:t.consumption_entity_id,editMode:eg,onEnterEditMode:()=>eu(!0),onEdit:eg?()=>eT(t.id):void 0,onRemove:eg?()=>ti(t.id):void 0}):null})(),(()=>{var e;let t=ey.find(e=>"energy_monitor_card"===e.type);return t?(0,a.jsx)(A.j$,{title:null!=(e=t.title)?e:"Afbeeldingskaart",entity_id:t.entity_id,background_image:t.background_image,background_image_dark:t.background_image_dark,image_conditions:t.image_conditions,minimal:t.minimal,scale:t.scale,editMode:eg,onEnterEditMode:()=>eu(!0),onEdit:eg?()=>eT(t.id):void 0,onRemove:eg?()=>ti(t.id):void 0}):null})(),"undefined"!=typeof document&&ey.some(e=>"stat_pill_card"===e.type)&&(0,c.createPortal)(ey.filter(e=>"stat_pill_card"===e.type).map((e,t)=>{var r,i,d;return(0,a.jsx)(A.M1,{widgetId:e.id,widgetIndex:t,title:null!=(r=e.title)?r:"Stat",entity_id:e.entity_id,label:e.label,icon:e.icon,color:null!=(i=e.color)?i:"amber",conditions:e.conditions,size:null!=(d=e.size)?d:"md",editMode:eg,onEnterEditMode:()=>eu(!0),onEdit:eg?()=>eT(e.id):void 0,onRemove:eg?()=>ti(e.id):void 0},e.id)}),document.body),"undefined"!=typeof document&&ey.some(e=>"sensor_card"===e.type)&&(0,c.createPortal)(ey.filter(e=>"sensor_card"===e.type).map((e,t)=>{var r,i;return(0,a.jsx)(A.$e,{widgetId:e.id,widgetIndex:t,title:null!=(r=e.title)?r:"Sensor",entity_id:e.entity_id,icon:e.icon,show_icon:!1!==e.show_icon,size:null!=(i=e.size)?i:"md",conditions:e.conditions,editMode:eg,onEnterEditMode:()=>eu(!0),onEdit:eg?()=>eT(e.id):void 0,onRemove:eg?()=>ti(e.id):void 0},e.id)}),document.body),(()=>{var e;let t=ey.find(e=>"weather_card"===e.type);return t?(0,a.jsx)(A.h9,{title:null!=(e=t.title)?e:"Weather",entity_id:t.entity_id,show_icon:t.show_icon,width:t.width,height:t.height,editMode:eg,onEnterEditMode:()=>eu(!0),onEdit:eg?()=>eT(t.id):void 0,onRemove:eg?()=>ti(t.id):void 0}):null})(),(()=>{var e;let t=ey.find(e=>"camera_card"===e.type);return t?(0,a.jsx)(A.c_,{title:null!=(e=t.title)?e:"Camera",entity_id:t.entity_id,refresh:t.refresh,show_title:t.show_title,width:t.width,height:t.height,editMode:eg,onEnterEditMode:()=>eu(!0),onEdit:eg?()=>eT(t.id):void 0,onRemove:eg?()=>ti(t.id):void 0}):null})(),(()=>{var e;let t=ey.find(e=>"vacuum_card"===e.type);return t?(0,a.jsx)(A.kC,{title:null!=(e=t.title)?e:"Stofzuiger",entity_id:t.entity_id,script_ids:t.script_ids,script_names:t.script_names,cleaned_area_entity_id:t.cleaned_area_entity_id,icon:t.icon,editMode:eg,onEnterEditMode:()=>eu(!0),onEdit:eg?()=>eT(t.id):void 0,onRemove:eg?()=>ti(t.id):void 0}):null})(),ey.filter(e=>"room_card"===e.type).map((e,t)=>{var r;return(0,a.jsx)(A._l,{widget:{id:e.id,title:null!=(r=e.title)?r:"Kamer",entity_id:e.entity_id,icon:e.icon,light_entity_id:e.light_entity_id,background_image:e.background_image,icon_background_color:e.icon_background_color,width:e.width,height:e.height},widgetIndex:t,editMode:eg,onEnterEditMode:()=>eu(!0),onEdit:eg?()=>eT(e.id):void 0,onRemove:eg?()=>ti(e.id):void 0},e.id)}),ey.filter(e=>"nuts_card"===e.type).map((e,t)=>{var r,i,d;return(0,a.jsx)(A.le,{widget:{id:e.id,title:null!=(r=e.title)?r:"Gas",entity_id:e.entity_id,current_entity_id:e.current_entity_id,icon:e.icon,icon_background_color:e.icon_background_color,max_value:e.max_value,width:null!=(i=e.width)?i:250,height:null!=(d=e.height)?d:130},widgetIndex:t,editMode:eg,onEnterEditMode:()=>eu(!0),onEdit:eg?()=>eT(e.id):void 0,onRemove:eg?()=>ti(e.id):void 0},e.id)}),(()=>{let e=ey.filter(e=>"title_card"===e.type);return e.length>0?(0,a.jsx)(A.b5,{widgets:e.map(e=>{var t;return{id:e.id,title:null!=(t=e.title)?t:"Titel"}}),editMode:eg,onEnterEditMode:()=>eu(!0),onEdit:eg?e=>eT(e):void 0,onRemove:eg?e=>ti(e):void 0}):null})(),ey.filter(e=>"pill_card"===e.type).map((e,t)=>{var r;return(0,a.jsx)(A.Gp,{widget:{id:e.id,title:null!=(r=e.title)?r:"Pill",entity_id:e.entity_id,icon:e.icon,conditions:e.conditions,show_state:e.show_state},widgetIndex:t,editMode:eg,onEnterEditMode:()=>eu(!0),onEdit:eg?()=>eT(e.id):void 0,onRemove:eg?()=>ti(e.id):void 0},e.id)}),"undefined"!=typeof document&&(0,c.createPortal)(ey.filter(e=>"card_group"===e.type).map((e,t)=>(0,a.jsx)(A.IF,{group:e,widgetIndex:t,editMode:eg,onEnterEditMode:()=>eu(!0),onEdit:eg?()=>eT(e.id):void 0,onRemove:eg?()=>ti(e.id):void 0},e.id)),document.body),eW&&e5&&"undefined"!=typeof document&&(0,c.createPortal)((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 z-40 bg-black/50 backdrop-blur-xl","aria-hidden":!0,onClick:()=>{(null==e5?void 0:e5.type)==="card_group"&&eR?eK(null):eT(null)}}),(0,a.jsxs)("div",{className:"fixed left-1/2 top-1/2 z-50 w-full max-w-sm -translate-x-1/2 -translate-y-1/2 rounded-xl border border-gray-200 bg-white p-4 shadow-xl dark:border-white/10 dark:bg-black/50 dark:backdrop-blur-xl",children:[(0,a.jsx)("h3",{className:"mb-3 text-sm font-semibold text-gray-900 dark:text-gray-100",children:"title_card"===e5.type?"Titel bewerken":"card_group"===e5.type?eR?"Kaart in groep bewerken":"Kaartgroep bewerken":"Edit tile"}),(0,a.jsxs)("div",{className:"space-y-3",children:["title_card"===e5.type?(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Tekst"}),(0,a.jsx)("input",{type:"text",value:eV.title,onChange:e=>eP(t=>({...t,title:e.target.value})),placeholder:"Bijv. Woonkamer, Verlichting",className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500"})]}):"card_group"===e5.type?eR?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Naam"}),(0,a.jsx)("input",{type:"text",value:eV.title,onChange:e=>eP(t=>({...t,title:e.target.value})),placeholder:"Bijv. Woonkamer, Verlichting",className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Entity"}),(0,a.jsx)("select",{value:eV.entity_id,onChange:e=>eP(t=>({...t,entity_id:e.target.value})),className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500",children:ej.filter(e=>L.some(t=>e.entity_id.startsWith(t+"."))).map(e=>{var t,r;let i=null!=(r=null==(t=e.attributes)?void 0:t.friendly_name)?r:e.entity_id;return(0,a.jsx)("option",{value:e.entity_id,children:i},e.entity_id)})})]}),(0,a.jsxs)("label",{className:"flex items-center justify-between gap-3 cursor-pointer",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Toon entiteitstatus"}),(0,a.jsx)("button",{type:"button",role:"switch","aria-checked":!1!==eV.show_state,onClick:()=>eP(e=>({...e,show_state:!1===e.show_state})),className:(0,D.cn)("relative inline-flex h-6 w-11 shrink-0 rounded-full border border-gray-200 dark:border-white/10 transition-colors focus:outline-none focus:ring-2 focus:ring-[#4D2FB2] focus:ring-offset-2 dark:focus:ring-offset-gray-900",!1!==eV.show_state?"bg-[#4D2FB2] border-transparent":"bg-gray-200 dark:bg-gray-600"),children:(0,a.jsx)("span",{className:(0,D.cn)("pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow ring-0 transition translate-x-0.5",!1!==eV.show_state?"translate-x-5":"translate-x-1")})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Icoon"}),(0,a.jsx)("input",{type:"text",value:e$,onChange:e=>eY(e.target.value),onFocus:()=>{var e;return eY(e$||(null!=(e=eV.icon)?e:""))},placeholder:"Zoek icoon (bijv. CircleDot, Sun…)",className:"mb-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500"}),(0,a.jsxs)("div",{className:"max-h-32 overflow-auto rounded-lg border border-gray-200 dark:border-white/10 flex flex-wrap gap-1.5 p-1.5",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{eP(e=>({...e,icon:void 0})),eY("")},className:(0,D.cn)("rounded-md px-2 py-1 text-xs",eV.icon?"bg-gray-100 text-gray-700 dark:bg-white/10 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-white/20":"bg-[#4D2FB2] text-white"),children:"Default (CircleDot)"}),A.CY.filter(e=>e.toLowerCase().includes((e$||"").toLowerCase())).map(e=>{var t;return(0,a.jsx)("button",{type:"button",onClick:()=>{eP(t=>({...t,icon:e})),eY(e)},className:(0,D.cn)("rounded-md px-2 py-1 text-xs",(null!=(t=eV.icon)?t:"CircleDot")===e?"bg-[#4D2FB2] text-white":"bg-gray-100 text-gray-700 dark:bg-white/10 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-white/20"),children:e},e)})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"mb-1 text-xs font-medium text-gray-500 dark:text-gray-400",children:"Voorwaardelijke kleur (eerste match)"}),(null!=(e=eV.conditions)?e:[]).map((e,t)=>(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2 rounded-lg border border-gray-200 dark:border-white/10 p-2 mb-1.5",children:[(0,a.jsx)("select",{value:e.operator,onChange:e=>eP(r=>{var a;return{...r,conditions:(null!=(a=r.conditions)?a:[]).map((r,a)=>a===t?{...r,operator:e.target.value}:r)}}),className:"rounded border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 dark:text-gray-200 px-2 py-1 text-xs",children:A.z4.map(e=>{var t;return(0,a.jsx)("option",{value:e,children:null!=(t=A.qc[e])?t:e},e)})}),(0,a.jsx)("input",{type:"text",value:e.value,onChange:e=>eP(r=>{var a;return{...r,conditions:(null!=(a=r.conditions)?a:[]).map((r,a)=>a===t?{...r,value:e.target.value}:r)}}),placeholder:"Waarde",className:"w-20 rounded border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 dark:text-gray-200 px-2 py-1 text-xs"}),(0,a.jsx)("select",{value:e.color,onChange:e=>eP(r=>{var a;return{...r,conditions:(null!=(a=r.conditions)?a:[]).map((r,a)=>a===t?{...r,color:e.target.value}:r)}}),className:"rounded border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 dark:text-gray-200 px-2 py-1 text-xs",children:A.gO.map(e=>(0,a.jsx)("option",{value:e,children:e},e))}),(0,a.jsx)("button",{type:"button",onClick:()=>eP(e=>{var r;return{...e,conditions:(null!=(r=e.conditions)?r:[]).filter((e,r)=>r!==t)}}),className:"p-1 rounded text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20","aria-label":"Verwijder voorwaarde",children:(0,a.jsx)(F.A,{className:"h-4 w-4"})})]},t)),(0,a.jsx)("button",{type:"button",onClick:()=>eP(e=>{var t;return{...e,conditions:[...null!=(t=e.conditions)?t:[],{operator:"eq",value:"",color:"green"}]}}),className:"rounded-lg border border-dashed border-gray-300 dark:border-white/20 px-3 py-2 text-xs text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-white/5 w-full",children:"+ Voeg voorwaarde toe"})]})]}):(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"Uitlijning"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1.5 rounded-lg border border-gray-200 dark:border-white/10 p-1.5",children:["start","center","end","between"].map(e=>{var t;return(0,a.jsx)("button",{type:"button",onClick:()=>{let t=ey.map(t=>t.id===e5.id?{...t,alignment:e}:t);em(t),e7.mutate({layout:ex,widgets:t,welcomeTitle:eb,welcomeSubtitle:e_})},className:(0,D.cn)("rounded-md px-2 py-1 text-xs",(null!=(t=e5.alignment)?t:"start")===e?"bg-[#4D2FB2] text-white":"bg-gray-100 text-gray-700 dark:bg-white/10 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-white/20"),children:"start"===e?"Links":"center"===e?"Midden":"end"===e?"Rechts":"Tussen"},e)})}),(0,a.jsx)("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 pt-1",children:"Kaarten in groep"}),(0,a.jsx)("ul",{className:"space-y-1 max-h-32 overflow-auto rounded-lg border border-gray-200 dark:border-white/10 divide-y divide-gray-100 dark:divide-white/5",children:(null!=(t=e5.children)?t:[]).map(e=>(0,a.jsxs)("li",{className:"flex items-center justify-between gap-2 px-3 py-2 text-sm",children:[(0,a.jsx)("span",{className:"truncate text-gray-900 dark:text-gray-100",children:e.title||e.entity_id}),(0,a.jsxs)("div",{className:"flex items-center gap-1 shrink-0",children:[(0,a.jsx)("button",{type:"button",onClick:()=>eK(e.id),className:"p-1 rounded text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-white/10","aria-label":"Bewerken",title:"Kaart bewerken",children:(0,a.jsx)(S.A,{className:"h-4 w-4"})}),(0,a.jsx)("button",{type:"button",onClick:()=>{var t;let r=(null!=(t=e5.children)?t:[]).filter(t=>t.id!==e.id),a=ey.map(e=>e.id===e5.id?{...e,children:r}:e);em(a),e7.mutate({layout:ex,widgets:a,welcomeTitle:eb,welcomeSubtitle:e_})},className:"p-1 rounded text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20","aria-label":"Verwijderen",children:(0,a.jsx)(F.A,{className:"h-4 w-4"})})]})]},e.id))}),(0,a.jsx)("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"Kaart toevoegen"}),(0,a.jsx)("input",{type:"text",value:eI,onChange:e=>eL(e.target.value),placeholder:"Zoek op naam of entity_id (bijv. sensor.woonkamer)…",className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500"}),(0,a.jsx)("div",{className:"max-h-40 overflow-auto rounded-lg border border-gray-200 dark:border-white/10 divide-y divide-gray-100 dark:divide-white/5",children:ej.filter(e=>L.some(t=>e.entity_id.startsWith(t+"."))).filter(e=>{var t,r;let a=eI.trim().toLowerCase();return!a||(null!=(r=null==(t=e.attributes)?void 0:t.friendly_name)?r:e.entity_id).toLowerCase().includes(a)||e.entity_id.toLowerCase().includes(a)}).map(e=>{var t,r;let i=null!=(r=null==(t=e.attributes)?void 0:t.friendly_name)?r:e.entity_id;return(0,a.jsx)("button",{type:"button",onClick:()=>{var t;let r={id:(0,D.$)(),type:"pill_card",title:i,entity_id:e.entity_id},a=[...null!=(t=e5.children)?t:[],r],d=ey.map(e=>e.id===e5.id?{...e,children:a}:e);em(d),e7.mutate({layout:ex,widgets:d,welcomeTitle:eb,welcomeSubtitle:e_}),eL("")},className:"block w-full px-4 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-white/10 truncate",children:i},e.entity_id)})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Name"}),(0,a.jsx)("input",{type:"text",value:eV.title,onChange:e=>eP(t=>({...t,title:e.target.value})),placeholder:"Tile name",className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500"})]}),(null!=e5.entity_id||"energy_monitor_card"===e5.type)&&"title_card"!==e5.type&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"solar_card"===e5.type?"Yield (opbrengst)":"energy_monitor_card"===e5.type?"Entity voor voorwaarden (bijv. weather.home)":"stat_pill_card"===e5.type?"Sensor":"Entity"}),(0,a.jsx)("input",{type:"text",value:eD,onChange:e=>eM(e.target.value),placeholder:"Zoek op naam of entity_id (bijv. sensor.woonkamer)…",className:"mb-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500"}),(0,a.jsx)("select",{value:eV.entity_id,onChange:e=>eP(t=>({...t,entity_id:e.target.value})),className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500",children:(()=>{let e="pill_card"===e5.type?ej.filter(e=>L.some(t=>e.entity_id.startsWith(t+"."))):"room_card"===e5.type?ej:"energy_monitor_card"===e5.type?ej.filter(e=>e.entity_id.startsWith("weather.")||e.entity_id.startsWith("sensor.")):ej.filter(e=>{var t;return e.entity_id.startsWith((null!=(t=I[e5.type])?t:"sensor")+".")}),t=eD.trim().toLowerCase();if(t){e=e.filter(e=>{var r,a;return(null!=(a=null==(r=e.attributes)?void 0:r.friendly_name)?a:e.entity_id).toLowerCase().includes(t)||e.entity_id.toLowerCase().includes(t)});let r=eV.entity_id;if(r&&!e.some(e=>e.entity_id===r)){let t=ej.find(e=>e.entity_id===r);t&&(e=[t,...e])}}let r=e.map(e=>{var t,r;let i=null!=(r=null==(t=e.attributes)?void 0:t.friendly_name)?r:e.entity_id;return(0,a.jsx)("option",{value:e.entity_id,children:i},e.entity_id)});return"energy_monitor_card"===e5.type?[(0,a.jsx)("option",{value:"",children:"Geen (alleen standaardafbeelding)"},""),...r]:r})()})]}),"light_card"===e5.type&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Icoon"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1.5 rounded-lg border border-gray-200 dark:border-white/10 p-1.5",children:A.e0.map(e=>{var t;let r="lightbulb"===e?"Lightbulb":"spotlight"===e?"Spotlight":"lamp"===e?"Lamp":"lamp-ceiling"===e?"Plafond":"lamp-desk"===e?"Bureau":"lamp-floor"===e?"Vloer":"lamp-wall-down"===e?"Wall down":"Wall up";return(0,a.jsx)("button",{type:"button",onClick:()=>eP(t=>({...t,icon:e})),className:(0,D.cn)("rounded-md px-2 py-1 text-xs",(null!=(t=eV.icon)?t:"lightbulb")===e?"bg-[#4D2FB2] text-white":"bg-gray-100 text-gray-700 dark:bg-white/10 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-white/20"),children:r},e)})})]}),"room_card"===e5.type&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Icoon"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1.5 rounded-lg border border-gray-200 dark:border-white/10 p-1.5 max-h-32 overflow-auto",children:A.CY.filter(e=>e.toLowerCase().includes((eG||"").toLowerCase())).map(e=>{var t;return(0,a.jsx)("button",{type:"button",onClick:()=>eP(t=>({...t,icon:e})),className:(0,D.cn)("rounded-md px-2 py-1 text-xs",(null!=(t=eV.icon)?t:"Home")===e?"bg-[#4D2FB2] text-white":"bg-gray-100 text-gray-700 dark:bg-white/10 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-white/20"),children:e},e)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Licht-entiteit (optioneel)"}),(0,a.jsxs)("select",{value:null!=(r=eV.light_entity_id)?r:"",onChange:e=>eP(t=>({...t,light_entity_id:e.target.value||void 0})),className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500",children:[(0,a.jsx)("option",{value:"",children:"Geen"}),ej.filter(e=>e.entity_id.startsWith("light.")||e.entity_id.startsWith("group.")).map(e=>{var t,r;let i=null!=(r=null==(t=e.attributes)?void 0:t.friendly_name)?r:e.entity_id;return(0,a.jsx)("option",{value:e.entity_id,children:i},e.entity_id)})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Achtergrondafbeelding (URL, optioneel)"}),(0,a.jsx)("input",{type:"url",value:null!=(g=eV.background_image)?g:"",onChange:e=>eP(t=>({...t,background_image:e.target.value||void 0})),placeholder:"https://...",className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Kleur icoon-badge"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"color",value:eV.icon_background_color&&/^#[0-9A-Fa-f]{6}$/.test(eV.icon_background_color)?eV.icon_background_color:"#3B82F6",onChange:e=>eP(t=>({...t,icon_background_color:e.target.value})),className:"h-10 w-14 cursor-pointer rounded border border-gray-200 dark:border-white/10 bg-transparent"}),(0,a.jsx)("input",{type:"text",value:null!=(x=eV.icon_background_color)?x:"",onChange:e=>eP(t=>({...t,icon_background_color:e.target.value||void 0})),placeholder:"#3B82F6",className:"flex-1 rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Breedte kaart (px)"}),(0,a.jsx)("input",{type:"number",min:200,max:500,step:10,value:null!=(h=eV.width)?h:280,onChange:e=>{let t=""===e.target.value?void 0:Number(e.target.value);eP(e=>({...e,width:null==t||Number.isNaN(t)?void 0:t}))},placeholder:"280",className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500"}),(0,a.jsx)("p",{className:"mt-0.5 text-xs text-gray-400 dark:text-gray-500",children:"200–500 px (standaard 280)"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Hoogte kaart (px)"}),(0,a.jsx)("input",{type:"number",min:80,max:300,step:10,value:null!=(y=eV.height)?y:120,onChange:e=>{let t=""===e.target.value?void 0:Number(e.target.value);eP(e=>({...e,height:null==t||Number.isNaN(t)?void 0:t}))},placeholder:"120",className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500"}),(0,a.jsx)("p",{className:"mt-0.5 text-xs text-gray-400 dark:text-gray-500",children:"80–300 px (standaard 120)"})]})]}),("climate_card_2"===e5.type||"climate_card"===e5.type)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Icoon"}),(0,a.jsx)("select",{value:null!=(m=eV.icon)?m:"Thermometer",onChange:e=>eP(t=>({...t,icon:e.target.value||void 0})),className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 dark:border-white/10 dark:bg-white/5 dark:text-gray-200",children:A.Ev.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Luchtvochtigheid (optioneel)"}),(0,a.jsxs)("select",{value:null!=(b=eV.humidity_entity_id)?b:"",onChange:e=>eP(t=>({...t,humidity_entity_id:e.target.value||void 0})),className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500",children:[(0,a.jsx)("option",{value:"",children:"Geen"}),ej.filter(e=>e.entity_id.startsWith("sensor.")).map(e=>{var t,r;let i=null!=(r=null==(t=e.attributes)?void 0:t.friendly_name)?r:e.entity_id;return(0,a.jsx)("option",{value:e.entity_id,children:i},e.entity_id)})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Breedte kaart (px)"}),(0,a.jsx)("input",{type:"number",min:200,max:500,step:10,value:null!=(p=eV.width)?p:320,onChange:e=>{let t=""===e.target.value?void 0:Number(e.target.value);eP(e=>({...e,width:null==t||Number.isNaN(t)?void 0:t}))},placeholder:"320",className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500"}),(0,a.jsx)("p",{className:"mt-0.5 text-xs text-gray-400 dark:text-gray-500",children:"200–500 px (standaard 320)"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Hoogte kaart (px)"}),(0,a.jsx)("input",{type:"number",min:100,max:400,step:10,value:null!=(_=eV.height)?_:180,onChange:e=>{let t=""===e.target.value?void 0:Number(e.target.value);eP(e=>({...e,height:null==t||Number.isNaN(t)?void 0:t}))},placeholder:"180",className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500"}),(0,a.jsx)("p",{className:"mt-0.5 text-xs text-gray-400 dark:text-gray-500",children:"100–400 px (standaard 180)"})]})]}),"solar_card"===e5.type&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Consumption (verbruik, optioneel)"}),(0,a.jsxs)("select",{value:null!=(v=eV.consumption_entity_id)?v:"",onChange:e=>eP(t=>({...t,consumption_entity_id:e.target.value||void 0})),className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500",children:[(0,a.jsx)("option",{value:"",children:"Geen"}),ej.filter(e=>e.entity_id.startsWith("sensor.")).map(e=>{var t,r;let i=null!=(r=null==(t=e.attributes)?void 0:t.friendly_name)?r:e.entity_id;return(0,a.jsx)("option",{value:e.entity_id,children:i},e.entity_id)})]})]}),"energy_monitor_card"===e5.type&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Achtergrondafbeelding light mode (URL)"}),(0,a.jsx)("input",{type:"text",value:null!=(k=eV.background_image)?k:"",onChange:e=>eP(t=>({...t,background_image:e.target.value||void 0})),placeholder:"/energy-house.png of https://...",className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Achtergrondafbeelding dark mode (URL, optioneel)"}),(0,a.jsx)("input",{type:"text",value:null!=(w=eV.background_image_dark)?w:"",onChange:e=>eP(t=>({...t,background_image_dark:e.target.value||void 0})),placeholder:"Leeg =zelfde als light mode",className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500"}),(0,a.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Plaats afbeeldingen in public/ of gebruik externe URLs."})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"energy-minimal",checked:null!=(j=eV.minimal)&&j,onChange:e=>eP(t=>({...t,minimal:e.target.checked})),className:"rounded border-gray-300 text-amber-600 focus:ring-amber-500"}),(0,a.jsx)("label",{htmlFor:"energy-minimal",className:"text-sm text-gray-700 dark:text-gray-300",children:"Minimalistisch (alleen afbeelding, geen titel of rand)"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:["Schaalfactor (",(null!=(f=eV.scale)?f:1).toFixed(1),"\xd7)"]}),(0,a.jsx)("input",{type:"range",min:"0.5",max:"1.5",step:"0.1",value:null!=(N=eV.scale)?N:1,onChange:e=>eP(t=>({...t,scale:parseFloat(e.target.value)})),className:"w-full"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Voorwaarden (afbeelding bij waarde)"}),(0,a.jsx)("p",{className:"mb-2 text-xs text-gray-500 dark:text-gray-400",children:"Eerste voorwaarde die klopt bepaalt de afbeelding. Bijv. sunny → zon.jpg, rainy → regen.jpg. Entity hierboven moet zijn ingesteld."}),(null!=(R=eV.image_conditions)?R:[]).map((e,t)=>{var r;return(0,a.jsxs)("div",{className:"flex flex-wrap items-start gap-2 rounded-lg border border-gray-200 dark:border-white/10 p-2 mb-2",children:[(0,a.jsx)("select",{value:e.operator,onChange:e=>eP(r=>{var a;return{...r,image_conditions:(null!=(a=r.image_conditions)?a:[]).map((r,a)=>a===t?{...r,operator:e.target.value}:r)}}),className:"rounded border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 dark:text-gray-200 px-2 py-1 text-xs",children:A.z4.map(e=>{var t;return(0,a.jsx)("option",{value:e,children:null!=(t=A.qc[e])?t:e},e)})}),(0,a.jsx)("input",{type:"text",value:e.value,onChange:e=>eP(r=>{var a;return{...r,image_conditions:(null!=(a=r.image_conditions)?a:[]).map((r,a)=>a===t?{...r,value:e.target.value}:r)}}),placeholder:"Waarde (bijv. sunny)",className:"flex-1 min-w-[80px] rounded border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 dark:text-gray-200 px-2 py-1 text-xs"}),(0,a.jsx)("input",{type:"text",value:e.image,onChange:e=>eP(r=>{var a;return{...r,image_conditions:(null!=(a=r.image_conditions)?a:[]).map((r,a)=>a===t?{...r,image:e.target.value}:r)}}),placeholder:"Afbeelding (URL)",className:"flex-1 min-w-[100px] rounded border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 dark:text-gray-200 px-2 py-1 text-xs"}),(0,a.jsx)("input",{type:"text",value:null!=(r=e.image_dark)?r:"",onChange:e=>eP(r=>{var a;return{...r,image_conditions:(null!=(a=r.image_conditions)?a:[]).map((r,a)=>a===t?{...r,image_dark:e.target.value||void 0}:r)}}),placeholder:"Dark (optioneel)",className:"w-24 rounded border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 dark:text-gray-200 px-2 py-1 text-xs"}),(0,a.jsx)("button",{type:"button",onClick:()=>eP(e=>{var r;return{...e,image_conditions:(null!=(r=e.image_conditions)?r:[]).filter((e,r)=>r!==t)}}),className:"p-1 rounded text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:(0,a.jsx)(F.A,{className:"h-3.5 w-3.5"})})]},t)}),(0,a.jsx)("button",{type:"button",onClick:()=>eP(e=>{var t;return{...e,image_conditions:[...null!=(t=e.image_conditions)?t:[],{operator:"eq",value:"",image:"",image_dark:void 0}]}}),className:"rounded-lg border border-dashed border-gray-300 dark:border-white/20 px-3 py-2 text-xs text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-white/5 w-full",children:"+ Voorwaarde toevoegen"})]})]}),"stat_pill_card"===e5.type&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Label (onder de waarde)"}),(0,a.jsx)("input",{type:"text",value:null!=(K=eV.label)?K:"",onChange:e=>eP(t=>({...t,label:e.target.value||void 0})),placeholder:"Opbrengst, Verbruik, ...",className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Icoon"}),(0,a.jsx)("select",{value:null!=(V=eV.icon)?V:"Sun",onChange:e=>eP(t=>({...t,icon:e.target.value||void 0})),className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 dark:border-white/10 dark:bg-white/5 dark:text-gray-200",children:A.Ev.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Kleur (standaard)"}),(0,a.jsxs)("select",{value:null!=(P=eV.color)?P:"amber",onChange:e=>eP(t=>({...t,color:e.target.value})),className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 dark:border-white/10 dark:bg-white/5 dark:text-gray-200",children:[(0,a.jsx)("option",{value:"amber",children:"Amber (geel)"}),(0,a.jsx)("option",{value:"purple",children:"Paars"}),(0,a.jsx)("option",{value:"emerald",children:"Smaragd (groen)"}),(0,a.jsx)("option",{value:"red",children:"Rood"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Voorwaarden (kleur aanpassen bij waarde)"}),(0,a.jsx)("p",{className:"mb-2 text-xs text-gray-500 dark:text-gray-400",children:"Eerste voorwaarde die klopt bepaalt de kleur. Bijv. plastic = groen, papier = blauw."}),(null!=(G=eV.conditions)?G:[]).map((e,t)=>(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2 rounded-lg border border-gray-200 dark:border-white/10 p-2 mb-2",children:[(0,a.jsx)("select",{value:e.operator,onChange:e=>eP(r=>{var a;return{...r,conditions:(null!=(a=r.conditions)?a:[]).map((r,a)=>a===t?{...r,operator:e.target.value}:r)}}),className:"rounded border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 dark:text-gray-200 px-2 py-1 text-xs",children:A.z4.map(e=>{var t;return(0,a.jsx)("option",{value:e,children:null!=(t=A.qc[e])?t:e},e)})}),(0,a.jsx)("input",{type:"text",value:e.value,onChange:e=>eP(r=>{var a;return{...r,conditions:(null!=(a=r.conditions)?a:[]).map((r,a)=>a===t?{...r,value:e.target.value}:r)}}),placeholder:"Waarde (bijv. plastic)",className:"w-24 rounded border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 dark:text-gray-200 px-2 py-1 text-xs"}),(0,a.jsx)("select",{value:e.color,onChange:e=>eP(r=>{var a;return{...r,conditions:(null!=(a=r.conditions)?a:[]).map((r,a)=>a===t?{...r,color:e.target.value}:r)}}),className:"rounded border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 dark:text-gray-200 px-2 py-1 text-xs",children:A.gO.map(e=>(0,a.jsx)("option",{value:e,children:e},e))}),(0,a.jsx)("button",{type:"button",onClick:()=>eP(e=>{var r;return{...e,conditions:(null!=(r=e.conditions)?r:[]).filter((e,r)=>r!==t)}}),className:"p-1 rounded text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20","aria-label":"Verwijder voorwaarde",children:(0,a.jsx)(F.A,{className:"h-4 w-4"})})]},t)),(0,a.jsx)("button",{type:"button",onClick:()=>eP(e=>{var t;return{...e,conditions:[...null!=(t=e.conditions)?t:[],{operator:"eq",value:"",color:"green"}]}}),className:"rounded-lg border border-dashed border-gray-300 dark:border-white/20 px-3 py-2 text-xs text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-white/5 w-full",children:"+ Voeg voorwaarde toe"})]})]}),"vacuum_card"===e5.type&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Vacuum Room (scripts)"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:"Kies scripts en geef ze optioneel een weergavenaam."}),(0,a.jsxs)("div",{className:"max-h-32 overflow-auto rounded-lg border border-gray-200 dark:border-white/10 p-2 space-y-1 mb-2",children:[ej.filter(e=>e.entity_id.startsWith("script.")).map(e=>{var t,r,i;let d=null!=(r=null==(t=e.attributes)?void 0:t.friendly_name)?r:e.entity_id,l=(null!=(i=eV.script_ids)?i:[]).includes(e.entity_id);return(0,a.jsxs)("label",{className:"flex items-center gap-2 py-1.5 px-2 rounded hover:bg-gray-100 dark:hover:bg-white/5 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:l,onChange:()=>{var t,r;let a=null!=(t=eV.script_ids)?t:[],i={...null!=(r=eV.script_names)?r:{}};l&&delete i[e.entity_id],eP(t=>({...t,script_ids:l?a.filter(t=>t!==e.entity_id):[...a,e.entity_id],script_names:i}))},className:"h-4 w-4 rounded border-gray-300 dark:border-white/20 text-[#4D2FB2] focus:ring-[#4D2FB2]"}),(0,a.jsx)("span",{className:"text-sm truncate shrink-0 max-w-[140px]",title:e.entity_id,children:d})]},e.entity_id)}),0===ej.filter(e=>e.entity_id.startsWith("script.")).length&&(0,a.jsx)("p",{className:"text-xs text-gray-500 py-2",children:"Geen scripts gevonden. Sla eerst een verbinding op."})]}),(null!=(O=eV.script_ids)?O:[]).length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"Naam per script (optioneel)"}),(null!=(q=eV.script_ids)?q:[]).map(e=>{var t,r,i,d;let l=ej.find(t=>t.entity_id===e),n=null!=(i=null==l||null==(t=l.attributes)?void 0:t.friendly_name)?i:e;return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400 w-28 truncate shrink-0",title:e,children:n}),(0,a.jsx)("input",{type:"text",value:null!=(d=null==(r=eV.script_names)?void 0:r[e])?d:"",onChange:t=>eP(r=>{var a;return{...r,script_names:{...null!=(a=r.script_names)?a:{},[e]:t.target.value||void 0}}}),placeholder:n,className:"flex-1 min-w-0 rounded-lg border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 dark:text-gray-200 px-2 py-1.5 text-sm"})]},e)})]}),(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Sensor onder status (bijv. cleaned area)"}),(0,a.jsxs)("select",{value:null!=(H=eV.cleaned_area_entity_id)?H:"",onChange:e=>eP(t=>({...t,cleaned_area_entity_id:e.target.value||void 0})),className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500",children:[(0,a.jsx)("option",{value:"",children:"Geen"}),ej.filter(e=>e.entity_id.startsWith("sensor.")).map(e=>{var t,r;let i=null!=(r=null==(t=e.attributes)?void 0:t.friendly_name)?r:e.entity_id;return(0,a.jsx)("option",{value:e.entity_id,children:i},e.entity_id)})]})]}),(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Icoon"}),(0,a.jsx)("input",{type:"text",value:eq,onChange:e=>eH(e.target.value),onFocus:()=>{var e;return eH(eq||(null!=(e=eV.icon)?e:""))},placeholder:"Zoek icoon (bijv. home, bot, sparkles…)",className:"mb-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500"}),(0,a.jsxs)("div",{className:"max-h-40 overflow-auto rounded-lg border border-gray-200 dark:border-white/10 flex flex-wrap gap-1.5 p-1.5",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{eP(e=>({...e,icon:void 0})),eH("")},className:(0,D.cn)("rounded-md px-2 py-1 text-xs",eV.icon?"bg-gray-100 text-gray-700 dark:bg-white/10 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-white/20":"bg-[#4D2FB2] text-white"),children:"Geen (Sparkles)"}),A.ZN.filter(e=>e.toLowerCase().includes((eq||"").toLowerCase())).map(e=>{var t;return(0,a.jsx)("button",{type:"button",onClick:()=>{eP(t=>({...t,icon:e})),eH(e)},className:(0,D.cn)("rounded-md px-2 py-1 text-xs",(null!=(t=eV.icon)?t:"Sparkles")===e?"bg-[#4D2FB2] text-white":"bg-gray-100 text-gray-700 dark:bg-white/10 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-white/20"),children:e},e)})]})]})]}),"sensor_card"===e5.type&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex rounded-lg border border-gray-200 dark:border-white/10 p-0.5 mb-3",children:[(0,a.jsx)("button",{type:"button",onClick:()=>eQ("general"),className:(0,D.cn)("flex-1 rounded-md py-1.5 text-xs font-medium transition-colors","general"===eJ?"bg-[#4D2FB2] text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-white/10"),children:"Algemeen"}),(0,a.jsx)("button",{type:"button",onClick:()=>eQ("conditions"),className:(0,D.cn)("flex-1 rounded-md py-1.5 text-xs font-medium transition-colors","conditions"===eJ?"bg-[#4D2FB2] text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-white/10"),children:"Conditionele voorwaarden"})]}),"general"===eJ&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Icoon"}),(0,a.jsx)("input",{type:"text",value:eU,onChange:e=>eZ(e.target.value),onFocus:()=>{var e;return eZ(eU||(null!=(e=eV.icon)?e:""))},placeholder:"Zoek icoon (bijv. gauge, thermometer…)",className:"mb-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500"}),(0,a.jsxs)("div",{className:"max-h-40 overflow-auto rounded-lg border border-gray-200 dark:border-white/10 flex flex-wrap gap-1.5 p-1.5",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{eP(e=>({...e,icon:void 0})),eZ("")},className:(0,D.cn)("rounded-md px-2 py-1 text-xs",eV.icon?"bg-gray-100 text-gray-700 dark:bg-white/10 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-white/20":"bg-[#4D2FB2] text-white"),children:"Default (Gauge)"}),A.CY.filter(e=>e.toLowerCase().includes((eU||"").toLowerCase())).map(e=>{var t;return(0,a.jsx)("button",{type:"button",onClick:()=>{eP(t=>({...t,icon:e})),eZ(e)},className:(0,D.cn)("rounded-md px-2 py-1 text-xs",(null!=(t=eV.icon)?t:"Gauge")===e?"bg-[#4D2FB2] text-white":"bg-gray-100 text-gray-700 dark:bg-white/10 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-white/20"),children:e},e)})]}),(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Grootte"}),(0,a.jsxs)("select",{value:null!=(U=eV.size)?U:"md",onChange:e=>eP(t=>({...t,size:e.target.value})),className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500",children:[(0,a.jsx)("option",{value:"sm",children:"Klein"}),(0,a.jsx)("option",{value:"md",children:"Normaal"}),(0,a.jsx)("option",{value:"lg",children:"Groot"})]})]}),(0,a.jsxs)("div",{className:"mt-3 flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"sensor-show-icon",checked:!1!==eV.show_icon,onChange:e=>eP(t=>({...t,show_icon:e.target.checked})),className:"rounded border-gray-300 text-amber-600 focus:ring-amber-500"}),(0,a.jsx)("label",{htmlFor:"sensor-show-icon",className:"text-sm text-gray-700 dark:text-gray-300",children:"Icoon tonen"})]})]}),"conditions"===eJ&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Eerste voorwaarde die klopt bepaalt de kaartkleur. Getallen en tekst worden ondersteund."}),(null!=(Z=eV.conditions)?Z:[]).map((e,t)=>(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2 rounded-lg border border-gray-200 dark:border-white/10 p-2",children:[(0,a.jsx)("select",{value:e.operator,onChange:e=>eP(r=>{var a;return{...r,conditions:(null!=(a=r.conditions)?a:[]).map((r,a)=>a===t?{...r,operator:e.target.value}:r)}}),className:"rounded border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 dark:text-gray-200 px-2 py-1 text-xs",children:A.z4.map(e=>{var t;return(0,a.jsx)("option",{value:e,children:null!=(t=A.qc[e])?t:e},e)})}),(0,a.jsx)("input",{type:"text",value:e.value,onChange:e=>eP(r=>{var a;return{...r,conditions:(null!=(a=r.conditions)?a:[]).map((r,a)=>a===t?{...r,value:e.target.value}:r)}}),placeholder:"Waarde",className:"w-20 rounded border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 dark:text-gray-200 px-2 py-1 text-xs"}),(0,a.jsx)("select",{value:e.color,onChange:e=>eP(r=>{var a;return{...r,conditions:(null!=(a=r.conditions)?a:[]).map((r,a)=>a===t?{...r,color:e.target.value}:r)}}),className:"rounded border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 dark:text-gray-200 px-2 py-1 text-xs",children:A.gO.map(e=>(0,a.jsx)("option",{value:e,children:e},e))}),(0,a.jsx)("button",{type:"button",onClick:()=>eP(e=>{var r;return{...e,conditions:(null!=(r=e.conditions)?r:[]).filter((e,r)=>r!==t)}}),className:"p-1 rounded text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20","aria-label":"Verwijder voorwaarde",children:(0,a.jsx)(F.A,{className:"h-4 w-4"})})]},t)),(0,a.jsx)("button",{type:"button",onClick:()=>eP(e=>{var t;return{...e,conditions:[...null!=(t=e.conditions)?t:[],{operator:"gte",value:"",color:"green"}]}}),className:"rounded-lg border border-dashed border-gray-300 dark:border-white/20 px-3 py-2 text-xs text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-white/5 w-full",children:"+ Voeg voorwaarde toe"})]})]}),"pill_card"===e5.type&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("label",{className:"flex items-center justify-between gap-3 cursor-pointer",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Toon entiteitstatus"}),(0,a.jsx)("button",{type:"button",role:"switch","aria-checked":!1!==eV.show_state,onClick:()=>eP(e=>({...e,show_state:!1===e.show_state})),className:(0,D.cn)("relative inline-flex h-6 w-11 shrink-0 rounded-full border border-gray-200 dark:border-white/10 transition-colors focus:outline-none focus:ring-2 focus:ring-[#4D2FB2] focus:ring-offset-2 dark:focus:ring-offset-gray-900",!1!==eV.show_state?"bg-[#4D2FB2] border-transparent":"bg-gray-200 dark:bg-gray-600"),children:(0,a.jsx)("span",{className:(0,D.cn)("pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow ring-0 transition translate-x-0.5",!1!==eV.show_state?"translate-x-5":"translate-x-1")})})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 -mt-2",children:"Toon of verberg de waarde (Aan/Uit of sensorwaarde) op de pill."}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Icoon"}),(0,a.jsx)("input",{type:"text",value:e$,onChange:e=>eY(e.target.value),onFocus:()=>{var e;return eY(e$||(null!=(e=eV.icon)?e:""))},placeholder:"Zoek icoon (bijv. CircleDot, Sun…)",className:"mb-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500"}),(0,a.jsxs)("div",{className:"max-h-32 overflow-auto rounded-lg border border-gray-200 dark:border-white/10 flex flex-wrap gap-1.5 p-1.5",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{eP(e=>({...e,icon:void 0})),eY("")},className:(0,D.cn)("rounded-md px-2 py-1 text-xs",eV.icon?"bg-gray-100 text-gray-700 dark:bg-white/10 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-white/20":"bg-[#4D2FB2] text-white"),children:"Default (CircleDot)"}),A.CY.filter(e=>e.toLowerCase().includes((e$||"").toLowerCase())).map(e=>{var t;return(0,a.jsx)("button",{type:"button",onClick:()=>{eP(t=>({...t,icon:e})),eY(e)},className:(0,D.cn)("rounded-md px-2 py-1 text-xs",(null!=(t=eV.icon)?t:"CircleDot")===e?"bg-[#4D2FB2] text-white":"bg-gray-100 text-gray-700 dark:bg-white/10 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-white/20"),children:e},e)})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"mb-1 text-xs font-medium text-gray-500 dark:text-gray-400",children:"Voorwaardelijke kleur (eerste match)"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:"Bepaal de pill-kleur op basis van de entity state."}),(null!=($=eV.conditions)?$:[]).map((e,t)=>(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2 rounded-lg border border-gray-200 dark:border-white/10 p-2 mb-1.5",children:[(0,a.jsx)("select",{value:e.operator,onChange:e=>eP(r=>{var a;return{...r,conditions:(null!=(a=r.conditions)?a:[]).map((r,a)=>a===t?{...r,operator:e.target.value}:r)}}),className:"rounded border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 dark:text-gray-200 px-2 py-1 text-xs",children:A.z4.map(e=>{var t;return(0,a.jsx)("option",{value:e,children:null!=(t=A.qc[e])?t:e},e)})}),(0,a.jsx)("input",{type:"text",value:e.value,onChange:e=>eP(r=>{var a;return{...r,conditions:(null!=(a=r.conditions)?a:[]).map((r,a)=>a===t?{...r,value:e.target.value}:r)}}),placeholder:"Waarde",className:"w-20 rounded border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 dark:text-gray-200 px-2 py-1 text-xs"}),(0,a.jsx)("select",{value:e.color,onChange:e=>eP(r=>{var a;return{...r,conditions:(null!=(a=r.conditions)?a:[]).map((r,a)=>a===t?{...r,color:e.target.value}:r)}}),className:"rounded border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 dark:text-gray-200 px-2 py-1 text-xs",children:A.gO.map(e=>(0,a.jsx)("option",{value:e,children:e},e))}),(0,a.jsx)("button",{type:"button",onClick:()=>eP(e=>{var r;return{...e,conditions:(null!=(r=e.conditions)?r:[]).filter((e,r)=>r!==t)}}),className:"p-1 rounded text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20","aria-label":"Verwijder voorwaarde",children:(0,a.jsx)(F.A,{className:"h-4 w-4"})})]},t)),(0,a.jsx)("button",{type:"button",onClick:()=>eP(e=>{var t;return{...e,conditions:[...null!=(t=e.conditions)?t:[],{operator:"eq",value:"",color:"green"}]}}),className:"rounded-lg border border-dashed border-gray-300 dark:border-white/20 px-3 py-2 text-xs text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-white/5 w-full",children:"+ Voeg voorwaarde toe"})]})]}),"camera_card"===e5.type&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Toon titel"}),(0,a.jsx)("button",{type:"button",role:"switch","aria-checked":!1!==eV.show_title,onClick:()=>eP(e=>({...e,show_title:!1===e.show_title})),className:(0,D.cn)("relative inline-flex h-6 w-11 shrink-0 rounded-full border-2 border-transparent transition-colors focus:outline-none focus:ring-2 focus:ring-[#4D2FB2] focus:ring-offset-2",!1!==eV.show_title?"bg-[#4D2FB2]":"bg-gray-200 dark:bg-gray-600"),children:(0,a.jsx)("span",{className:(0,D.cn)("pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition",!1!==eV.show_title?"translate-x-5":"translate-x-1")})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Vernieuw interval (seconden)"}),(0,a.jsx)("input",{type:"number",min:2,max:120,step:1,value:null!=(Y=eV.refresh)?Y:10,onChange:e=>{let t=""===e.target.value?void 0:Number(e.target.value);eP(e=>({...e,refresh:null==t||Number.isNaN(t)?10:t}))},placeholder:"10",className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500"}),(0,a.jsx)("p",{className:"mt-0.5 text-xs text-gray-400 dark:text-gray-500",children:"2–120 seconden (standaard 10)"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Breedte kaart (px)"}),(0,a.jsx)("input",{type:"number",min:200,max:600,step:10,value:null!=(J=eV.width)?J:360,onChange:e=>{let t=""===e.target.value?void 0:Number(e.target.value);eP(e=>({...e,width:null==t||Number.isNaN(t)?void 0:t}))},placeholder:"360",className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500"}),(0,a.jsx)("p",{className:"mt-0.5 text-xs text-gray-400 dark:text-gray-500",children:"200–600 px (standaard 360)"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Hoogte kaart (px)"}),(0,a.jsx)("input",{type:"number",min:150,max:450,step:10,value:null!=(Q=eV.height)?Q:270,onChange:e=>{let t=""===e.target.value?void 0:Number(e.target.value);eP(e=>({...e,height:null==t||Number.isNaN(t)?void 0:t}))},placeholder:"270",className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500"}),(0,a.jsx)("p",{className:"mt-0.5 text-xs text-gray-400 dark:text-gray-500",children:"150–450 px (standaard 270)"})]})]}),"weather_card"===e5.type&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Toon icoon"}),(0,a.jsx)("button",{type:"button",role:"switch","aria-checked":!1!==eV.show_icon,onClick:()=>eP(e=>({...e,show_icon:!1===e.show_icon})),className:(0,D.cn)("relative inline-flex h-6 w-11 shrink-0 rounded-full border-2 border-transparent transition-colors focus:outline-none focus:ring-2 focus:ring-[#4D2FB2] focus:ring-offset-2",!1!==eV.show_icon?"bg-[#4D2FB2]":"bg-gray-200 dark:bg-gray-600"),children:(0,a.jsx)("span",{className:(0,D.cn)("pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition",!1!==eV.show_icon?"translate-x-5":"translate-x-1")})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Breedte kaart (px)"}),(0,a.jsx)("input",{type:"number",min:200,max:500,step:10,value:null!=(X=eV.width)?X:320,onChange:e=>{let t=""===e.target.value?void 0:Number(e.target.value);eP(e=>({...e,width:null==t||Number.isNaN(t)?void 0:t}))},placeholder:"320",className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500"}),(0,a.jsx)("p",{className:"mt-0.5 text-xs text-gray-400 dark:text-gray-500",children:"200–500 px (standaard 320)"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Hoogte kaart (px)"}),(0,a.jsx)("input",{type:"number",min:100,max:400,step:10,value:null!=(ee=eV.height)?ee:180,onChange:e=>{let t=""===e.target.value?void 0:Number(e.target.value);eP(e=>({...e,height:null==t||Number.isNaN(t)?void 0:t}))},placeholder:"180",className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500"}),(0,a.jsx)("p",{className:"mt-0.5 text-xs text-gray-400 dark:text-gray-500",children:"100–400 px (standaard 180)"})]})]}),"nuts_card"===e5.type&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Icoon"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1.5 rounded-lg border border-gray-200 dark:border-white/10 p-1.5 max-h-32 overflow-auto",children:["Fuel","Droplets","Zap","Gauge","Thermometer"].filter(e=>A.Ev.includes(e)).map(e=>{var t;return(0,a.jsx)("button",{type:"button",onClick:()=>eP(t=>({...t,icon:e})),className:(0,D.cn)("rounded-md px-2 py-1 text-xs",(null!=(t=eV.icon)?t:"Fuel")===e?"bg-[#4D2FB2] text-white":"bg-gray-100 text-gray-700 dark:bg-white/10 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-white/20"),children:e},e)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Kleur icoon"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"color",value:eV.icon_background_color&&/^#[0-9A-Fa-f]{6}$/.test(eV.icon_background_color)?eV.icon_background_color:"#3B82F6",onChange:e=>eP(t=>({...t,icon_background_color:e.target.value})),className:"h-8 w-12 cursor-pointer rounded border border-gray-200 dark:border-white/20 bg-white dark:bg-white/5"}),(0,a.jsx)("input",{type:"text",value:null!=(et=eV.icon_background_color)?et:"#3B82F6",onChange:e=>eP(t=>({...t,icon_background_color:e.target.value||void 0})),placeholder:"#3B82F6",className:"flex-1 rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 dark:border-white/10 dark:bg-white/5 dark:text-gray-200"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Breedte \xd7 hoogte (px)"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("input",{type:"number",min:150,max:400,step:10,value:null!=(er=eV.width)?er:250,onChange:e=>{let t=""===e.target.value?void 0:Number(e.target.value);eP(e=>({...e,width:null==t||Number.isNaN(t)?void 0:t}))},placeholder:"250",className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm dark:border-white/10 dark:bg-white/5 dark:text-gray-200"}),(0,a.jsx)("p",{className:"mt-0.5 text-xs text-gray-400 dark:text-gray-500",children:"Breedte"})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("input",{type:"number",min:80,max:300,step:10,value:null!=(ea=eV.height)?ea:130,onChange:e=>{let t=""===e.target.value?void 0:Number(e.target.value);eP(e=>({...e,height:null==t||Number.isNaN(t)?void 0:t}))},placeholder:"130",className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm dark:border-white/10 dark:bg-white/5 dark:text-gray-200"}),(0,a.jsx)("p",{className:"mt-0.5 text-xs text-gray-400 dark:text-gray-500",children:"Hoogte"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Entity dagverbruik (totaal per dag)"}),(0,a.jsxs)("select",{value:null!=(ei=eV.entity_id)?ei:"",onChange:e=>eP(t=>({...t,entity_id:e.target.value})),className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 dark:border-white/10 dark:bg-white/5 dark:text-gray-200",children:[(0,a.jsx)("option",{value:"",children:"Kies entity…"}),ej.filter(e=>e.entity_id.startsWith("sensor.")).map(e=>{var t,r;let i=null!=(r=null==(t=e.attributes)?void 0:t.friendly_name)?r:e.entity_id;return(0,a.jsx)("option",{value:e.entity_id,children:i},e.entity_id)})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Entity huidig verbruik (optioneel)"}),(0,a.jsxs)("select",{value:null!=(ed=eV.current_entity_id)?ed:"",onChange:e=>eP(t=>({...t,current_entity_id:e.target.value||void 0})),className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 dark:border-white/10 dark:bg-white/5 dark:text-gray-200",children:[(0,a.jsx)("option",{value:"",children:"Geen (toont 0 voor huidig)"}),ej.filter(e=>e.entity_id.startsWith("sensor.")).map(e=>{var t,r;let i=null!=(r=null==(t=e.attributes)?void 0:t.friendly_name)?r:e.entity_id;return(0,a.jsx)("option",{value:e.entity_id,children:i},e.entity_id)})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Max waarde voor bar (optioneel)"}),(0,a.jsx)("input",{type:"number",min:1,step:.1,value:null!=(el=eV.max_value)?el:10,onChange:e=>{let t=""===e.target.value?void 0:Number(e.target.value);eP(e=>({...e,max_value:null!=t&&!Number.isNaN(t)&&t>0?t:void 0}))},placeholder:"10",className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 dark:border-white/10 dark:bg-white/5 dark:text-gray-200"}),(0,a.jsx)("p",{className:"mt-0.5 text-xs text-gray-400 dark:text-gray-500",children:"Schaal voor verticale verbruiksbalk"})]})]})]}),(0,a.jsx)("div",{className:"flex justify-between gap-2 pt-1",children:"card_group"===e5.type&&eR?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{type:"button",onClick:()=>eK(null),className:"rounded-lg border border-gray-200 px-3 py-1.5 text-sm text-gray-700 dark:border-white/10 dark:text-gray-300",children:"Terug"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{var e;let t=(null!=(e=e5.children)?e:[]).filter(e=>e.id!==eR),r=ey.map(e=>e.id===e5.id?{...e,children:t}:e);em(r),eK(null),e7.mutate({layout:ex,widgets:r,welcomeTitle:eb,welcomeSubtitle:e_})},className:"rounded-lg px-3 py-1.5 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20","aria-label":"Kaart uit groep verwijderen",children:"Verwijderen"}),(0,a.jsx)("button",{type:"button",onClick:()=>{var e,t;let r={title:eV.title,entity_id:eV.entity_id,icon:eV.icon||void 0,conditions:(null!=(e=eV.conditions)?e:[]).length>0?eV.conditions:void 0,show_state:!1!==eV.show_state},a=(null!=(t=e5.children)?t:[]).map(e=>e.id===eR?{...e,...r}:e),i=ey.map(e=>e.id===e5.id?{...e,children:a}:e);em(i),eK(null),e7.mutate({layout:ex,widgets:i,welcomeTitle:eb,welcomeSubtitle:e_})},className:"rounded-lg bg-[#4D2FB2] px-3 py-1.5 text-sm text-white hover:opacity-90",children:"Opslaan"})]})]}):"card_group"===e5.type?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{type:"button",onClick:()=>{let e=ey.filter(e=>e.id!==eW),t=ex.filter(e=>e.i!==eW);em(e),eh(t),eT(null),e7.mutate({layout:t,widgets:e,welcomeTitle:eb,welcomeSubtitle:e_})},className:"rounded-lg px-3 py-1.5 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20","aria-label":"Kaartgroep verwijderen",children:"Verwijderen"}),(0,a.jsx)("button",{type:"button",onClick:()=>eT(null),className:"rounded-lg border border-gray-200 px-3 py-1.5 text-sm text-gray-700 dark:border-white/10 dark:text-gray-300",children:"Annuleren"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{type:"button",onClick:()=>{let e=ey.filter(e=>e.id!==eW),t=ex.filter(e=>e.i!==eW);em(e),eh(t),eT(null),e7.mutate({layout:t,widgets:e,welcomeTitle:eb,welcomeSubtitle:e_})},className:"rounded-lg px-3 py-1.5 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20","aria-label":"Kaart verwijderen",children:"Verwijderen"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{type:"button",onClick:()=>eT(null),className:"rounded-lg border border-gray-200 px-3 py-1.5 text-sm text-gray-700 dark:border-white/10 dark:text-gray-300",children:"Annuleren"}),(0,a.jsx)("button",{type:"button",onClick:()=>{var e,t,r,a,i,d,l,n,o,s;let c={title:eV.title,...null!=e5.entity_id&&"energy_monitor_card"!==e5.type&&{entity_id:eV.entity_id},..."solar_card"===e5.type&&{consumption_entity_id:eV.consumption_entity_id||void 0},..."energy_monitor_card"===e5.type&&{entity_id:eV.entity_id||void 0,background_image:eV.background_image||void 0,background_image_dark:eV.background_image_dark||void 0,image_conditions:(null!=(e=eV.image_conditions)?e:[]).filter(e=>{var t;return null==(t=e.image)?void 0:t.trim()}).length>0?(null!=(t=eV.image_conditions)?t:[]).filter(e=>{var t;return null==(t=e.image)?void 0:t.trim()}):void 0,minimal:null!=(r=eV.minimal)&&r,scale:null!=(a=eV.scale)?a:1},..."stat_pill_card"===e5.type&&{label:eV.label||void 0,icon:eV.icon||void 0,color:eV.color||void 0,conditions:(null!=(i=eV.conditions)?i:[]).length>0?eV.conditions:void 0},...("climate_card_2"===e5.type||"climate_card"===e5.type)&&{humidity_entity_id:eV.humidity_entity_id||void 0,icon:eV.icon||void 0,width:null!=eV.width&&eV.width>0?eV.width:void 0,height:null!=eV.height&&eV.height>0?eV.height:void 0},..."light_card"===e5.type&&{icon:eV.icon||void 0},..."weather_card"===e5.type&&{show_icon:!1!==eV.show_icon,width:null!=eV.width&&eV.width>0?eV.width:void 0,height:null!=eV.height&&eV.height>0?eV.height:void 0},..."camera_card"===e5.type&&{refresh:null!=(d=eV.refresh)?d:10,show_title:!1!==eV.show_title,width:null!=eV.width&&eV.width>0?eV.width:void 0,height:null!=eV.height&&eV.height>0?eV.height:void 0},..."vacuum_card"===e5.type&&{script_ids:null!=(l=eV.script_ids)?l:[],script_names:null!=(n=eV.script_names)?n:{},cleaned_area_entity_id:eV.cleaned_area_entity_id||void 0,icon:eV.icon||void 0},..."sensor_card"===e5.type&&{icon:eV.icon||void 0,show_icon:!1!==eV.show_icon,size:eV.size||void 0,conditions:(null!=(o=eV.conditions)?o:[]).length>0?eV.conditions:void 0},..."pill_card"===e5.type&&{icon:eV.icon||void 0,conditions:(null!=(s=eV.conditions)?s:[]).length>0?eV.conditions:void 0,show_state:!1!==eV.show_state},..."nuts_card"===e5.type&&{icon:eV.icon||void 0,icon_background_color:eV.icon_background_color||void 0,entity_id:eV.entity_id||void 0,current_entity_id:eV.current_entity_id||void 0,max_value:null!=eV.max_value&&eV.max_value>0?eV.max_value:void 0,width:null!=eV.width&&eV.width>0?eV.width:void 0,height:null!=eV.height&&eV.height>0?eV.height:void 0},..."room_card"===e5.type&&{icon:eV.icon||void 0,light_entity_id:eV.light_entity_id||void 0,background_image:eV.background_image||void 0,icon_background_color:eV.icon_background_color||void 0,width:null!=eV.width&&eV.width>0?eV.width:void 0,height:null!=eV.height&&eV.height>0?eV.height:void 0}};em(e=>e.map(e=>e.id===eW?{...e,...c}:e)),eT(null);let g=ey.map(e=>e.id===eW?{...e,...c}:e);e7.mutate({layout:ex,widgets:g,welcomeTitle:eb,welcomeSubtitle:e_})},className:"rounded-lg bg-[#4D2FB2] px-3 py-1.5 text-sm text-white hover:opacity-90",children:"Opslaan"})]})]})})]})]})]}),document.body)]})})}}},e=>{e.O(0,[4177,1315,4909,974,2619,8704,1328,495,5448,1740,8441,1255,7358],()=>e(e.s=48442)),_N_E=e.O()}]);