(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4662],{9540:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},12932:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]])},15870:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},20017:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},24033:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},25825:(e,t,a)=>{Promise.resolve().then(a.bind(a,77166))},32893:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]])},34904:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]])},46858:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("DoorOpen",[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]])},53511:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]])},57174:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("Disc3",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M6 12c0-1.7.7-3.2 1.8-4.2",key:"oqkarx"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M18 12c0 1.7-.7 3.2-1.8 4.2",key:"1eah9h"}]])},59384:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},62332:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]])},65229:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},65993:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},71629:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]])},77166:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>k});var r=a(95155),l=a(12115),n=a(75448),s=a(91065),i=a(38876),d=a(77184),o=a(71847);let c=(0,o.A)("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),h=(0,o.A)("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),u=(0,o.A)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),g=(0,o.A)("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),x=(0,o.A)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);var y=a(64269);let m=[{id:"appearance",label:"Appearance",icon:c},{id:"screensaver",label:"Screensaver",icon:h},{id:"page-background",label:"Page Background",icon:u},{id:"connection",label:"Connection",icon:g},{id:"entities",label:"Entities by Type",icon:x}],p=["automation","climate","light","media_player","weather"],b={automation:"Automation",climate:"Climate",light:"Lights",media_player:"Media Player",weather:"Weather"};function k(){var e,t,a,o,c;let[h,u]=(0,l.useState)("http://homeassistant.local:8123"),[g,x]=(0,l.useState)(""),[k,f]=(0,l.useState)(!1),[w,v]=(0,l.useState)(!1),[j,N]=(0,l.useState)(null),[A,S]=(0,l.useState)(null),[C,T]=(0,l.useState)([]),[E,M]=(0,l.useState)(!1),[P,U]=(0,l.useState)(null),[_,L]=(0,l.useState)(null),[O,z]=(0,l.useState)(null),[D,q]=(0,l.useState)(null),[F,I]=(0,l.useState)(null),[V,B]=(0,l.useState)(null),[J,R]=(0,l.useState)(!1),[W,Z]=(0,l.useState)(!1),[H,G]=(0,l.useState)(!1),[K,X]=(0,l.useState)("appearance"),[Y,Q]=(0,l.useState)(0),[$,ee]=(0,l.useState)(""),[et,ea]=(0,l.useState)(!0),[er,el]=(0,l.useState)(null),[en,es]=(0,l.useState)(!1),[ei,ed]=(0,l.useState)("nature landscape"),[eo,ec]=(0,l.useState)(""),[eh,eu]=(0,l.useState)(!1);function eg(){U(null),M(!0),fetch("/api/ha/entities").then(e=>e.ok?e.json():e.json().then(e=>{var t;return{error:null!=(t=null==e?void 0:e.error)?t:"Failed to load"}})).then(e=>{"error"in e?(U(e.error),T([])):Array.isArray(e)&&T(e)}).catch(()=>{U("Could not load entities."),T([])}).finally(()=>M(!1))}(0,l.useEffect)(()=>{Q((0,d.wh)()),ee((0,d.Bo)()),ea((0,d._0)()),el((0,d.kS)()),es((0,d.iv)()),ed((0,d.lR)()),ec((0,d.YI)())},[]),(0,l.useEffect)(()=>{fetch("/api/ha/connection").then(e=>e.json()).then(e=>{(null==e?void 0:e.baseUrl)&&u(e.baseUrl)}).catch(()=>{})},[]),(0,l.useEffect)(()=>{fetch("/api/dashboard").then(e=>e.json()).then(e=>{(null==e?void 0:e.id)&&z(e.id),(null==e?void 0:e.background)!=null&&q(e.background),(null==e?void 0:e.backgroundLight)!=null&&I(e.backgroundLight),(null==e?void 0:e.backgroundDark)!=null&&B(e.backgroundDark)}).catch(()=>{})},[]),(0,l.useEffect)(()=>{eg()},[A]);let ex=(0,l.useMemo)(()=>{let e=new Map;for(let t of C){let a=function(e){var t;return null!=(t=e.split(".")[0])?t:""}(t.entity_id);p.includes(a)&&(e.has(a)||e.set(a,[]),e.get(a).push(t))}return p.map(t=>{var a;return[t,null!=(a=e.get(t))?a:[]]}).filter(e=>{let[,t]=e;return t.length>0})},[C]),ey=_&&ex.some(e=>{let[t]=e;return t===_})?_:null!=(a=null==(e=ex[0])?void 0:e[0])?a:null,em=null!=(o=null==(t=ex.find(e=>{let[t]=e;return t===ey}))?void 0:t[1])?o:[];async function ep(){N(null),f(!0);try{var e;let t=await fetch("/api/ha/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({baseUrl:h,token:g})}),a=await t.json();a.ok?N({ok:!0}):N({ok:!1,error:null!=(e=a.error)?e:"Connection failed"})}catch(e){N({ok:!1,error:e instanceof Error?e.message:"Request failed"})}finally{f(!1)}}async function eb(){if(!g.trim())return void N({ok:!1,error:"Please enter a token."});S(null),v(!0);try{let t=await fetch("/api/ha/connection",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({baseUrl:h,token:g})}),a=await t.json();if(a.connectionId)S("success"),N({ok:!0});else{var e;S("error"),N({ok:!1,error:null!=(e=a.error)?e:"Save failed"})}}catch(e){S("error"),N({ok:!1,error:"Save failed"})}finally{v(!1)}}async function ek(e){var t;let a=null==(t=e.target.files)?void 0:t[0];if(a&&O){e.target.value="",R(!0);try{let e=new FormData;e.set("file",a);let t=await fetch("/api/upload",{method:"POST",body:e}),r=await t.json();if(!t.ok)throw Error(r.error||"Upload failed");await fetch("/api/dashboards/".concat(O),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({background:r.url})}),q(r.url),window.dispatchEvent(new Event("page-background-changed"))}catch(e){}finally{R(!1)}}}async function ef(){if(O)try{await fetch("/api/dashboards/".concat(O),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({background:null})}),q(null),window.dispatchEvent(new Event("page-background-changed"))}finally{R(!1)}}async function ew(e){var t;let a=null==(t=e.target.files)?void 0:t[0];if(a&&O){e.target.value="",Z(!0);try{let e=new FormData;e.set("file",a);let t=await fetch("/api/upload",{method:"POST",body:e}),r=await t.json();if(!t.ok)throw Error(r.error||"Upload failed");await fetch("/api/dashboards/".concat(O),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({backgroundLight:r.url})}),I(r.url),window.dispatchEvent(new Event("page-background-changed"))}catch(e){}finally{Z(!1)}}}async function ev(){if(O)try{await fetch("/api/dashboards/".concat(O),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({backgroundLight:null})}),I(null),window.dispatchEvent(new Event("page-background-changed"))}finally{Z(!1)}}async function ej(e){var t;let a=null==(t=e.target.files)?void 0:t[0];if(a&&O){e.target.value="",G(!0);try{let e=new FormData;e.set("file",a);let t=await fetch("/api/upload",{method:"POST",body:e}),r=await t.json();if(!t.ok)throw Error(r.error||"Upload failed");await fetch("/api/dashboards/".concat(O),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({backgroundDark:r.url})}),B(r.url),window.dispatchEvent(new Event("page-background-changed"))}catch(e){}finally{G(!1)}}}async function eN(){if(O)try{await fetch("/api/dashboards/".concat(O),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({backgroundDark:null})}),B(null),window.dispatchEvent(new Event("page-background-changed"))}finally{G(!1)}}let{mode:eA,setMode:eS,resolved:eC}=(0,i.C)();return(0,r.jsx)(n.AppShell,{activeTab:"/settings",children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-6 sm:gap-8 max-w-4xl",children:[(0,r.jsxs)("nav",{className:"shrink-0 sm:w-52","aria-label":"Settings sections",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-3 sm:mb-4",children:"Settings"}),(0,r.jsx)("ul",{className:"flex sm:flex-col gap-1 overflow-x-auto pb-2 sm:pb-0 sm:overflow-visible",children:m.map(e=>{let{id:t,label:a,icon:l}=e;return(0,r.jsx)("li",{children:(0,r.jsxs)("button",{type:"button",onClick:()=>X(t),className:(0,y.cn)("w-full flex items-center gap-2 rounded-lg px-3 py-2.5 text-left text-sm font-medium transition-colors whitespace-nowrap",K===t?"bg-[#4D2FB2] text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-white/10"),children:[(0,r.jsx)(l,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a]})},t)})})]}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:["appearance"===K&&(0,r.jsxs)(s.j,{children:[(0,r.jsx)("h3",{className:"text-card-title font-medium mb-3",children:"Appearance"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Theme: use the sun/moon switch in the top bar to choose light or dark. Enable auto below to follow your system preference."}),(0,r.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:"auto"===eA,onChange:e=>eS(e.target.checked?"auto":eC),className:"h-4 w-4 rounded border-gray-300 dark:border-white/20 text-accent-yellow dark:text-accent-green focus:ring-accent-yellow dark:focus:ring-accent-green"}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Use system preference (auto)"})]})]}),"screensaver"===K&&(0,r.jsxs)(s.j,{children:[(0,r.jsx)("h3",{className:"text-card-title font-medium mb-3",children:"Screensaver"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Na inactiviteit gaat een schermbeveiliging aan met klok en weer. Aanraken of bewegen sluit hem."}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Na hoeveel inactiviteit"}),(0,r.jsxs)("select",{value:Y,onChange:e=>{let t=parseInt(e.target.value,10);Q(t),(0,d.u0)(t)},className:"rounded-lg border border-gray-300 dark:border-white/20 bg-white dark:bg-white/5 px-3 py-2 text-sm text-gray-900 dark:text-gray-200",children:[(0,r.jsx)("option",{value:0,children:"Uit"}),(0,r.jsx)("option",{value:10,children:"10 seconden"}),(0,r.jsx)("option",{value:30,children:"30 seconden"}),(0,r.jsx)("option",{value:60,children:"1 minuut"}),(0,r.jsx)("option",{value:120,children:"2 minuten"}),(0,r.jsx)("option",{value:300,children:"5 minuten"}),(0,r.jsx)("option",{value:600,children:"10 minuten"}),(0,r.jsx)("option",{value:900,children:"15 minuten"}),(0,r.jsx)("option",{value:1800,children:"30 minuten"})]})]}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Klokformaat"}),(0,r.jsxs)("select",{value:et?"24":"12",onChange:e=>{let t="24"===e.target.value;ea(t),(0,d.MZ)(t)},className:"rounded-lg border border-gray-300 dark:border-white/20 bg-white dark:bg-white/5 px-3 py-2 text-sm text-gray-900 dark:text-gray-200",children:[(0,r.jsx)("option",{value:"24",children:"24 uur"}),(0,r.jsx)("option",{value:"12",children:"12 uur (am/pm)"})]})]}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Weer op screensaver"}),(0,r.jsxs)("select",{value:null!=er?er:"",onChange:e=>{let t=e.target.value||null;el(t),(0,d.k6)(t)},className:"rounded-lg border border-gray-300 dark:border-white/20 bg-white dark:bg-white/5 px-3 py-2 text-sm text-gray-900 dark:text-gray-200 w-full",children:[(0,r.jsx)("option",{value:"",children:"Standaard (zelfde als temperatuur in header)"}),C.filter(e=>e.entity_id.startsWith("weather.")||e.entity_id.startsWith("sensor.")&&/temp|weather|graden/i.test(e.entity_id)).map(e=>{var t,a;let l=null!=(a=null==(t=e.attributes)?void 0:t.friendly_name)?a:e.entity_id;return(0,r.jsx)("option",{value:e.entity_id,children:l},e.entity_id)})]}),(0,r.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Toont temperatuur en weersicoon op de screensaver."})]}),(0,r.jsxs)("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-white/10",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Pexels-foto's (optioneel)"}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:["Gebruik gratis stockfoto's van Pexels als achtergrond. Alleen actief als er geen eigen afbeelding is ge\xfcpload. API-key gratis op ",(0,r.jsx)("a",{href:"https://www.pexels.com/api",target:"_blank",rel:"noopener noreferrer",className:"text-[#4D2FB2] hover:underline",children:"pexels.com/api"}),"."]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,r.jsx)("input",{type:"checkbox",id:"pexels-enabled",checked:en,onChange:e=>{let t=e.target.checked;es(t),(0,d.al)(t)},className:"h-4 w-4 rounded border-gray-300 dark:border-white/20 text-accent-yellow dark:text-accent-green focus:ring-accent-yellow dark:focus:ring-accent-green"}),(0,r.jsx)("label",{htmlFor:"pexels-enabled",className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Pexels gebruiken"})]}),en&&(0,r.jsxs)("div",{className:"space-y-2 mt-3",children:[(0,r.jsx)("input",{type:"password",value:eo,onChange:e=>{let t=e.target.value;ec(t),(0,d.qZ)(t)},placeholder:"Pexels API-key",className:"w-full rounded-lg border border-gray-300 dark:border-white/20 bg-white dark:bg-white/5 px-3 py-2 text-sm text-gray-900 dark:text-gray-200 placeholder-gray-500",autoComplete:"off"}),(0,r.jsx)("input",{type:"text",value:ei,onChange:e=>{let t=e.target.value;ed(t),(0,d.VB)(t)},placeholder:"Zoekterm (bijv. nature landscape, mountains)",className:"w-full rounded-lg border border-gray-300 dark:border-white/20 bg-white dark:bg-white/5 px-3 py-2 text-sm text-gray-900 dark:text-gray-200 placeholder-gray-500"})]})]}),(0,r.jsxs)("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-white/10",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Achtergrondafbeelding (optioneel)"}),$&&(0,r.jsx)("div",{className:"mb-3 h-24 rounded-lg bg-cover bg-center border border-gray-200 dark:border-white/10",style:{backgroundImage:"url(".concat($,")")}}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 items-center",children:[(0,r.jsxs)("label",{className:"rounded-full bg-accent-yellow dark:bg-accent-green px-4 py-2 text-sm font-medium text-gray-900 cursor-pointer hover:opacity-90",children:[eh?"Uploaden…":"Afbeelding uploaden",(0,r.jsx)("input",{type:"file",accept:"image/jpeg,image/png,image/webp,image/gif",className:"sr-only",onChange:async e=>{var t;let a=null==(t=e.target.files)?void 0:t[0];if(a){eu(!0);try{let e=new FormData;e.append("file",a);let t=await fetch("/api/upload",{method:"POST",body:e}),r=await t.json();(null==r?void 0:r.url)&&(ee(r.url),(0,d.RW)(r.url))}finally{eu(!1)}}},disabled:eh})]}),(0,r.jsx)("input",{type:"url",value:$,onChange:e=>{let t=e.target.value.trim();ee(t),(0,d.RW)(t)},placeholder:"Of plak een afbeeldings-URL",className:"flex-1 min-w-[200px] rounded-lg border border-gray-300 dark:border-white/20 bg-white dark:bg-white/5 px-3 py-2 text-sm text-gray-900 dark:text-gray-200 placeholder-gray-500"}),$&&(0,r.jsx)("button",{type:"button",onClick:()=>{ee(""),(0,d.RW)("")},className:"rounded-full border border-gray-300 dark:border-white/20 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:"Verwijderen"})]})]})]}),"page-background"===K&&(O?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(s.j,{children:[(0,r.jsx)("h3",{className:"text-card-title font-medium mb-3",children:"Page Background"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Kies een afbeelding per thema. Als je alleen \xe9\xe9n achtergrond instelt, wordt die als fallback gebruikt."})]}),(0,r.jsxs)(s.j,{children:[(0,r.jsx)("h3",{className:"text-card-title font-medium mb-3",children:"Achtergrond light mode"}),F&&(0,r.jsx)("div",{className:"mb-3 h-32 rounded-lg bg-cover bg-center border border-gray-200 dark:border-white/10",style:{backgroundImage:"url(".concat(F,")")}}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)("label",{className:"rounded-full bg-accent-yellow dark:bg-accent-green px-4 py-2 text-sm font-medium text-gray-900 cursor-pointer hover:opacity-90",children:[W?"Uploaden…":"Upload afbeelding",(0,r.jsx)("input",{type:"file",accept:"image/jpeg,image/png,image/webp,image/gif",className:"sr-only",onChange:ew,disabled:W})]}),F&&(0,r.jsx)("button",{type:"button",onClick:ev,className:"rounded-full bg-white dark:bg-white/10 border border-gray-200 dark:border-white/20 px-4 py-2 text-sm font-medium",children:"Verwijderen"})]})]}),(0,r.jsxs)(s.j,{children:[(0,r.jsx)("h3",{className:"text-card-title font-medium mb-3",children:"Achtergrond dark mode"}),V&&(0,r.jsx)("div",{className:"mb-3 h-32 rounded-lg bg-cover bg-center border border-gray-200 dark:border-white/10",style:{backgroundImage:"url(".concat(V,")")}}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)("label",{className:"rounded-full bg-accent-yellow dark:bg-accent-green px-4 py-2 text-sm font-medium text-gray-900 cursor-pointer hover:opacity-90",children:[H?"Uploaden…":"Upload afbeelding",(0,r.jsx)("input",{type:"file",accept:"image/jpeg,image/png,image/webp,image/gif",className:"sr-only",onChange:ej,disabled:H})]}),V&&(0,r.jsx)("button",{type:"button",onClick:eN,className:"rounded-full bg-white dark:bg-white/10 border border-gray-200 dark:border-white/20 px-4 py-2 text-sm font-medium",children:"Verwijderen"})]})]}),(0,r.jsxs)(s.j,{children:[(0,r.jsx)("h3",{className:"text-card-title font-medium mb-3",children:"Fallback-achtergrond (optioneel)"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Gebruikt wanneer er geen light/dark-specifieke achtergrond is ingesteld."}),D&&(0,r.jsx)("div",{className:"mb-3 h-32 rounded-lg bg-cover bg-center border border-gray-200 dark:border-white/10",style:{backgroundImage:"url(".concat(D,")")}}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)("label",{className:"rounded-full bg-accent-yellow dark:bg-accent-green px-4 py-2 text-sm font-medium text-gray-900 cursor-pointer hover:opacity-90",children:[J?"Uploaden…":"Upload afbeelding",(0,r.jsx)("input",{type:"file",accept:"image/jpeg,image/png,image/webp,image/gif",className:"sr-only",onChange:ek,disabled:J})]}),D&&(0,r.jsx)("button",{type:"button",onClick:ef,className:"rounded-full bg-white dark:bg-white/10 border border-gray-200 dark:border-white/20 px-4 py-2 text-sm font-medium",children:"Verwijderen"})]})]})]}):(0,r.jsx)(s.j,{children:(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Create or select a dashboard first to set a page background."})})),"connection"===K&&(0,r.jsxs)(s.j,{children:[(0,r.jsx)("h3",{className:"text-card-title font-medium mb-3",children:"Connection"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Enter your Home Assistant instance URL and a Long-Lived Access Token. Create a token under Profile → Long-Lived Access Tokens in Home Assistant."}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"ha-baseUrl",className:"block text-sm font-medium mb-1",children:"Base URL"}),(0,r.jsx)("input",{id:"ha-baseUrl",type:"url",value:h,onChange:e=>u(e.target.value),placeholder:"http://homeassistant.local:8123",className:"w-full rounded-lg border border-gray-300 dark:border-white/20 bg-white dark:bg-white/5 px-3 py-2 text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"ha-token",className:"block text-sm font-medium mb-1",children:"Long-Lived Access Token"}),(0,r.jsx)("input",{id:"ha-token",type:"password",value:g,onChange:e=>x(e.target.value),placeholder:"Token (hidden when a connection is already saved)",className:"w-full rounded-lg border border-gray-300 dark:border-white/20 bg-white dark:bg-white/5 px-3 py-2 text-sm"})]}),j&&(0,r.jsx)("div",{className:"rounded-lg p-3 text-sm ".concat(j.ok?"bg-green-50 dark:bg-green-950/30 text-green-800 dark:text-green-200":"bg-red-50 dark:bg-red-950/30 text-red-800 dark:text-red-200"),children:j.ok?"Connection successful.":j.error}),"success"===A&&(0,r.jsx)("p",{className:"text-sm text-green-600 dark:text-green-400",children:"Connection saved."}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{type:"button",onClick:ep,disabled:k,className:"rounded-full bg-accent-yellow dark:bg-accent-green px-4 py-2 text-sm font-medium text-gray-900 disabled:opacity-50",children:k?"Testing…":"Test connection"}),(0,r.jsx)("button",{type:"button",onClick:eb,disabled:w||!g.trim(),className:"rounded-full bg-white dark:bg-white/10 border border-gray-200 dark:border-white/20 px-4 py-2 text-sm font-medium disabled:opacity-50",children:w?"Saving…":"Save"})]})]})]}),"entities"===K&&(0,r.jsxs)(s.j,{children:[(0,r.jsx)("h3",{className:"text-card-title font-medium mb-2",children:"Entities by Type"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Entities from your Home Assistant instance. Select a type in the tabs. Save a connection first to load this list."}),E?(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Loading entities…"}):P?(0,r.jsx)("p",{className:"text-sm text-amber-600 dark:text-amber-400",children:P}):0===ex.length?(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"No entities or no connection saved yet."}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-3",children:[(0,r.jsx)("div",{className:"flex flex-wrap gap-1 rounded-full bg-gray-100 dark:bg-white/10 p-1",role:"tablist",children:ex.map(e=>{var t;let[a,l]=e;return(0,r.jsxs)("button",{type:"button",role:"tab","aria-selected":a===ey,onClick:()=>L(a),className:"rounded-full px-3 py-1.5 text-sm font-medium transition-colors ".concat(a===ey?"bg-white dark:bg-gray-800 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:[null!=(t=b[a])?t:a,(0,r.jsxs)("span",{className:"ml-1 opacity-75",children:["(",l.length,")"]})]},a)})}),(0,r.jsx)("button",{type:"button",onClick:eg,className:"text-sm text-accent-purple dark:text-accent-green hover:underline shrink-0",children:"Vernieuwen"})]}),(0,r.jsxs)("div",{role:"tabpanel",className:"rounded-lg border border-gray-200 dark:border-white/10 bg-gray-50/50 dark:bg-white/5 p-3 max-h-[50vh] overflow-auto",children:[(0,r.jsx)("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2 sticky top-0 bg-gray-50/95 dark:bg-white/5 py-1",children:ey?null!=(c=b[ey])?c:ey:""}),(0,r.jsx)("ul",{className:"space-y-1",children:em.map(e=>{var t,a;let l=null!=(a=null==(t=e.attributes)?void 0:t.friendly_name)?a:e.entity_id;return(0,r.jsxs)("li",{className:"flex items-center justify-between gap-2 text-sm py-2 px-2 rounded hover:bg-gray-100 dark:hover:bg-white/10",children:[(0,r.jsx)("span",{className:"truncate font-medium",title:e.entity_id,children:l}),(0,r.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400 shrink-0",children:e.state})]},e.entity_id)})})]})]})]})]})]})})}},85921:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},86651:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},91065:(e,t,a)=>{"use strict";a.d(t,{j:()=>n});var r=a(95155),l=a(64269);function n(e){let{children:t,className:a,as:n="div"}=e;return(0,r.jsx)(n,{className:(0,l.cn)("glass-card rounded-card border border-white/60 p-4 dark:border-white/10","transition-shadow duration-150 hover:shadow-lg dark:hover:shadow-glass-dark",a),children:t})}}},e=>{e.O(0,[1315,4909,974,2619,5448,8441,1255,7358],()=>e(e.s=25825)),_N_E=e.O()}]);