"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5448],{25329:(e,t,a)=>{a.d(t,{$:()=>g});var r=a(95155),n=a(12115),l=a(57174),s=a(24033),i=a(20017),o=a(12932),c=a(53511),d=a(85921),u=a(62332),h=a(64269),x=a(93420);function m(e){if(null==e||Number.isNaN(e))return"0:00";let t=Math.floor(e/60),a=Math.floor(e%60);return"".concat(t,":").concat(a.toString().padStart(2,"0"))}function g(e){var t,a,g,f,b,p,w,v;let{title:y="Media",entity_id:j,size:k="md",className:N,onMoreClick:S,onExpandedChange:A}=e,[C,I]=(0,n.useState)(!1),_=e=>{I(e),null==A||A(e)},[E,L]=(0,n.useState)(!1),D=(0,x.j)(e=>e.getState(j)),M=(0,x.j)(e=>e.setStates),R=(0,x.j)(e=>e.updatedAt),P=(null==D?void 0:D.state)!=="off"&&(null==D?void 0:D.state)!=="unavailable"&&(null==D?void 0:D.state)!=="unknown",W=(null==D?void 0:D.state)==="playing",U=null!=(w=null==D||null==(t=D.attributes)?void 0:t.media_title)?w:"",z=null!=(v=null==D||null==(a=D.attributes)?void 0:a.media_artist)?v:"",q=null==D||null==(g=D.attributes)?void 0:g.entity_picture,B=Number(null==D||null==(f=D.attributes)?void 0:f.media_duration)||0,F=Number(null==D||null==(b=D.attributes)?void 0:b.media_position)||0,O=(null==D||null==(p=D.attributes)?void 0:p.friendly_name)||j;async function T(e){L(!0);try{if((await fetch("/api/ha/call-service",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({entity_id:j,domain:"media_player",service:e})})).ok){let e=await fetch("/api/ha/state").then(e=>e.json());Array.isArray(e)&&M(e)}}finally{L(!1)}}let Z=(0,n.useRef)({position:0,at:0});(0,n.useEffect)(()=>{null!=R&&F>=0&&(Z.current={position:F,at:R})},[F,R]);let[,H]=(0,n.useState)(0);(0,n.useEffect)(()=>{if(!W||B<=0)return;let e=setInterval(()=>H(e=>e+1),1e3);return()=>clearInterval(e)},[W,B]);let{position:$,at:V}=Z.current,K=W&&B>0&&F>=0?Math.min(B,$+(Date.now()-V)/1e3):F,Q=B>0?Math.min(100,K/B*100):0,J=(null==q?void 0:q.startsWith("http"))?q:q?"/api/ha/media-image?entity_id=".concat(encodeURIComponent(j),"&v=").concat(encodeURIComponent(q)):null,Y=[U,q].filter(Boolean).join("|")||"none";return(0,r.jsxs)("div",{className:(0,h.cn)("flex w-full flex-col overflow-hidden rounded-2xl bg-white/10 dark:bg-black/50 text-gray-900 dark:text-white shadow-xl backdrop-blur-2xl border border-white/20 dark:border-white/10","sm"===k&&"text-sm","md"===k&&"text-base","lg"===k&&"text-lg",N),children:[C&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"px-4 pt-4 pb-2",children:[J?(0,r.jsx)("button",{type:"button",onClick:()=>_(!1),className:"block relative w-full aspect-square max-h-48 mx-auto rounded-xl overflow-hidden bg-white/5 hover:opacity-95 transition-opacity focus:outline-none focus:ring-2 focus:ring-white/50","aria-label":"Inklappen",children:(0,r.jsx)("img",{src:J,alt:"",className:"w-full h-full object-cover pointer-events-none"})},Y):(0,r.jsx)("div",{className:"w-full aspect-square max-h-48 mx-auto rounded-xl bg-white/5 flex items-center justify-center",children:(0,r.jsx)(l.A,{className:"h-16 w-16 text-white/20"})}),(0,r.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,r.jsx)("div",{className:"h-1 rounded-full bg-white/20 overflow-hidden",role:"progressbar","aria-valuenow":K,"aria-valuemin":0,"aria-valuemax":B,children:(0,r.jsx)("div",{className:"h-full rounded-full bg-white transition-all duration-300",style:{width:"".concat(Q,"%")}})}),(0,r.jsxs)("div",{className:"flex justify-between text-xs text-white/60",children:[(0,r.jsx)("span",{children:m(K)}),(0,r.jsx)("span",{children:m(B)})]})]})]}),(0,r.jsx)("button",{type:"button",onClick:()=>_(!1),className:"flex items-center justify-center gap-1 py-1 text-white/50 hover:text-white/80 transition-colors","aria-label":"Inklappen",children:(0,r.jsx)(s.A,{className:"h-4 w-4"})})]}),(0,r.jsxs)("div",{className:"relative overflow-hidden",children:[J&&(0,r.jsxs)("div",{className:"absolute inset-0","aria-hidden":!0,children:[(0,r.jsx)("img",{src:J,alt:"",className:"absolute inset-0 h-full w-full object-cover scale-105 blur-md opacity-70"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-black/40"})]}),(0,r.jsxs)("div",{className:"relative flex items-center gap-3 px-4 py-3",children:[(0,r.jsx)("div",{className:(0,h.cn)("flex h-10 w-10 shrink-0 items-center justify-center rounded-full border border-white/20 bg-white/5",W&&"animate-spin"),children:(0,r.jsx)(l.A,{className:"h-5 w-5 text-white/80",strokeWidth:1.5})}),(0,r.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,r.jsx)("p",{className:"font-medium truncate text-white/90",children:y}),(0,r.jsx)("p",{className:"text-xs text-white/60 truncate",children:O})]}),S&&(0,r.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),S()},className:"p-1.5 rounded-lg shrink-0 text-white/70 hover:text-white hover:bg-white/10 transition-colors","aria-label":"Opties",children:(0,r.jsx)(i.A,{className:"h-5 w-5","aria-hidden":!0})}),J?C?(0,r.jsx)("div",{className:"h-10 w-10 shrink-0 rounded-lg overflow-hidden bg-white/5 border border-white/20",children:(0,r.jsx)("img",{src:J,alt:"",className:"h-full w-full object-cover"})},Y):(0,r.jsx)("button",{type:"button",onClick:()=>_(!0),className:"h-10 w-10 shrink-0 rounded-lg overflow-hidden bg-white/5 border border-white/20 hover:border-white/40 hover:opacity-90 transition-all focus:outline-none focus:ring-2 focus:ring-white/50","aria-label":"Uitklappen",children:(0,r.jsx)("img",{src:J,alt:"",className:"h-full w-full object-cover"})},Y):C?(0,r.jsx)("div",{className:"h-10 w-10 shrink-0 rounded-lg bg-white/5 border border-white/20 flex items-center justify-center",children:(0,r.jsx)(l.A,{className:"h-5 w-5 text-white/30",strokeWidth:1.5})}):(0,r.jsx)("button",{type:"button",onClick:()=>_(!0),className:"h-10 w-10 shrink-0 rounded-lg bg-white/5 border border-white/20 flex items-center justify-center hover:border-white/40 hover:opacity-90 transition-all focus:outline-none focus:ring-2 focus:ring-white/50","aria-label":"Uitklappen",children:(0,r.jsx)(l.A,{className:"h-5 w-5 text-white/30",strokeWidth:1.5})})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between gap-2 px-4 py-3 bg-black/10 dark:bg-black/30 backdrop-blur-md rounded-b-2xl",children:[(0,r.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,r.jsx)("p",{className:"font-medium truncate text-sm text-gray-900 dark:text-white",children:U||"—"}),(0,r.jsx)("p",{className:"text-xs text-gray-600 dark:text-white/60 truncate",children:z||"—"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1 shrink-0",children:[(0,r.jsx)("button",{type:"button",onClick:function(){T("media_previous_track")},disabled:E||!P,className:"p-2 rounded-full text-white/80 hover:bg-white/10 disabled:opacity-40","aria-label":"Previous",children:(0,r.jsx)(o.A,{className:"h-4 w-4"})}),(0,r.jsx)("button",{type:"button",onClick:function(){T("media_play_pause")},disabled:E||!P,className:"p-2 rounded-full bg-white/20 text-white hover:bg-white/30 disabled:opacity-40","aria-label":W?"Pause":"Play",children:W?(0,r.jsx)(c.A,{className:"h-4 w-4"}):(0,r.jsx)(d.A,{className:"h-4 w-4 ml-0.5"})}),(0,r.jsx)("button",{type:"button",onClick:function(){T("media_next_track")},disabled:E||!P,className:"p-2 rounded-full text-white/80 hover:bg-white/10 disabled:opacity-40","aria-label":"Next",children:(0,r.jsx)(u.A,{className:"h-4 w-4"})})]})]})]})}},38876:(e,t,a)=>{a.d(t,{C:()=>l});var r=a(25959),n=a(89863);let l=(0,r.v)()((0,n.Zr)(e=>({mode:"auto",resolved:"light",setMode:t=>e({mode:t}),setResolved:t=>e({resolved:t})}),{name:"dashboard-theme"}))},54813:(e,t,a)=>{a.d(t,{D:()=>o,PageBackgroundProvider:()=>c});var r=a(95155),n=a(12115),l=a(38876);function s(){return fetch("/api/dashboard").then(e=>e.json()).then(e=>{var t,a,r;return{background:null!=(t=null==e?void 0:e.background)?t:null,backgroundLight:null!=(a=null==e?void 0:e.backgroundLight)?a:null,backgroundDark:null!=(r=null==e?void 0:e.backgroundDark)?r:null}}).catch(()=>({background:null,backgroundLight:null,backgroundDark:null}))}let i=(0,n.createContext)(null);function o(){return(0,n.useContext)(i)}function c(e){var t,a;let{children:o}=e,[c,d]=(0,n.useState)({background:null,backgroundLight:null,backgroundDark:null}),u=(0,l.C)(e=>e.resolved);(0,n.useEffect)(()=>{s().then(d);let e=()=>s().then(d);return window.addEventListener("page-background-changed",e),()=>window.removeEventListener("page-background-changed",e)},[]);let h=null!=(a=null!=(t="dark"===u?c.backgroundDark:c.backgroundLight)?t:c.background)?a:null;return(0,r.jsxs)(i.Provider,{value:h,children:[h?(0,r.jsx)("div",{className:"fixed inset-0 -z-10 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(".concat(h,")")},"aria-hidden":!0}):null,o]})}},64269:(e,t,a)=>{a.d(t,{$:()=>i,N:()=>s,cn:()=>l});var r=a(2821),n=a(75889);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.QP)((0,r.$)(t))}function s(e){return null==e||""===e?null!=e?e:"":e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function i(){if("undefined"!=typeof crypto&&"function"==typeof crypto.randomUUID)return crypto.randomUUID();let e=new Uint8Array(16);if("undefined"!=typeof crypto&&crypto.getRandomValues)crypto.getRandomValues(e);else for(let t=0;t<16;t++)e[t]=Math.floor(256*Math.random());e[6]=15&e[6]|64,e[8]=63&e[8]|128;let t=[...e].map(e=>e.toString(16).padStart(2,"0")).join("");return"".concat(t.slice(0,8),"-").concat(t.slice(8,12),"-").concat(t.slice(12,16),"-").concat(t.slice(16,20),"-").concat(t.slice(20))}},75448:(e,t,a)=>{a.d(t,{AppShell:()=>H});var r=a(95155),n=a(12115),l=a(47650),s=a(59427),i=a(37494),o=a(70833),c=a(35733),d=a(61056),u=a(30771),h=a(34157),x=a(32320),m=a(65229),g=a(9540),f=a(32893),b=a(64269),p=a(59384),w=a(46858),v=a(52619),y=a.n(v);let j=[{href:"/dashboards",label:"Dashboard",icon:p.A},{href:"/rooms",label:"Kamers",icon:w.A}];function k(e){let{activeHref:t,className:a}=e;return(0,r.jsx)("nav",{className:(0,b.cn)("flex items-center gap-1 rounded-full bg-black/5 px-1 py-1 dark:bg-white/5",a),role:"tablist",children:j.map(e=>{let{href:a,label:n,icon:l}=e,s=t===a;return(0,r.jsxs)(y(),{href:a,role:"tab","aria-selected":s,className:(0,b.cn)("relative flex items-center gap-2 rounded-full px-4 py-2 text-sm font-medium transition-all duration-150",s?"bg-white text-gray-900 shadow-sm dark:bg-white/95 dark:text-gray-900":"text-gray-600 hover:bg-white/50 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-white/10 dark:hover:text-white"),children:[(0,r.jsx)(l,{className:"h-4 w-4","aria-hidden":!0}),n]},a)})})}var N=a(65993),S=a(15870);let A=[{href:"/dashboards",icon:N.A,label:"Home"},{href:"/settings",icon:S.A,label:"Settings"}];function C(e){let{activeHref:t,className:a}=e;return(0,r.jsx)("aside",{className:(0,b.cn)("flex w-14 flex-col items-center gap-2 rounded-full bg-gray-900/90 py-3 dark:bg-black/40",a),"aria-label":"Sidebar",children:A.map(e=>{let{href:a,icon:n,label:l}=e,s=t===a;return(0,r.jsx)(y(),{href:a,"aria-label":l,className:(0,b.cn)("flex h-10 w-10 items-center justify-center rounded-full transition-all duration-150",s?"bg-white text-gray-900":"text-white/80 hover:bg-white/15 hover:text-white"),children:(0,r.jsx)(n,{className:"h-5 w-5"})},l)})})}var I=a(34904),_=a(71629),E=a(86651);function L(e){let{className:t}=e;return(0,r.jsxs)("div",{className:(0,b.cn)("fixed bottom-6 left-1/2 z-50 flex -translate-x-1/2 items-center gap-2 rounded-full bg-gray-900/90 px-3 py-2 shadow-lg dark:bg-black/50",t),role:"toolbar","aria-label":"Floating toolbar",children:[(0,r.jsx)("button",{type:"button","aria-label":"Zoom in",className:"flex h-9 w-9 items-center justify-center rounded-full text-white/90 hover:bg-white/15 hover:text-white",children:(0,r.jsx)(I.A,{className:"h-4 w-4"})}),(0,r.jsx)("button",{type:"button","aria-label":"Zoom out",className:"flex h-9 w-9 items-center justify-center rounded-full text-white/90 hover:bg-white/15 hover:text-white",children:(0,r.jsx)(_.A,{className:"h-4 w-4"})}),(0,r.jsx)("button",{type:"button","aria-label":"Search",className:"flex h-9 w-9 items-center justify-center rounded-full text-white/90 hover:bg-white/15 hover:text-white",children:(0,r.jsx)(E.A,{className:"h-4 w-4"})}),(0,r.jsx)("button",{type:"button","aria-label":"Close",className:"flex h-9 w-9 items-center justify-center rounded-full text-white/90 hover:bg-white/15 hover:text-white",children:(0,r.jsx)(m.A,{className:"h-4 w-4"})})]})}var D=a(38876);function M(e){let{className:t}=e,{mode:a,setMode:n,resolved:l}=(0,D.C)(),o="auto"===a?l:a;return(0,r.jsxs)("button",{type:"button",onClick:function(){n("light"===o?"dark":"light")},className:(0,b.cn)("flex items-center rounded-full bg-gray-100 p-0.5 dark:bg-white/10 transition-colors",t),"aria-label":"light"===o?"Switch to dark mode":"Switch to light mode",title:"light"===o?"Dark mode":"Light mode",children:[(0,r.jsx)("span",{className:(0,b.cn)("flex h-8 w-8 items-center justify-center rounded-full transition-colors","light"===o?"bg-white text-amber-600 shadow-sm dark:bg-white/20 dark:text-amber-400":"text-gray-500 dark:text-gray-400"),children:(0,r.jsx)(s.A,{className:"h-4 w-4","aria-hidden":!0})}),(0,r.jsx)("span",{className:(0,b.cn)("flex h-8 w-8 items-center justify-center rounded-full transition-colors","dark"===o?"bg-white text-indigo-500 shadow-sm dark:bg-white/20 dark:text-indigo-300":"text-gray-500 dark:text-gray-400"),children:(0,r.jsx)(i.A,{className:"h-4 w-4","aria-hidden":!0})})]})}var R=a(54813),P=a(93420),W=a(77184),U=a(57174),z=a(25329);function q(){var e;let t=(0,P.j)(e=>e.states),a=(0,P.j)(e=>e.setStates),[s,i]=(0,n.useState)(!1),o=(0,n.useRef)(null),c=(0,n.useRef)(null),d=Object.values(t).filter(e=>e.entity_id.startsWith("media_player.")&&("playing"===e.state||"paused"===e.state)),u=0===d.length?null:1===d.length?d[0].entity_id:(()=>{var e;let t=d.find(e=>{var t,a;return(null==(a=e.attributes)||null==(t=a.friendly_name)?void 0:t.toLowerCase().includes("woonkamer"))||e.entity_id.toLowerCase().includes("woonkamer")});return null!=(e=null==t?void 0:t.entity_id)?e:d[0].entity_id})(),h=d.some(e=>"playing"===e.state);return((0,n.useEffect)(()=>{let e=!1;(async()=>{try{let t=await fetch("/api/ha/state");if(!t.ok||e)return;let r=await t.json();Array.isArray(r)&&a(r)}catch(e){}})();let t=setInterval(async()=>{if(!e)try{let t=await fetch("/api/ha/state");if(!t.ok||e)return;let r=await t.json();Array.isArray(r)&&a(r)}catch(e){}},5e3);return()=>{e=!0,clearInterval(t)}},[a]),(0,n.useEffect)(()=>{if(s)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e);function e(e){var t,a;let r=e.target,n=null==(t=o.current)?void 0:t.contains(r),l=null==(a=c.current)?void 0:a.contains(r);n||l||i(!1)}},[s]),null==u)?null:(0,r.jsxs)("div",{className:"relative flex items-center",children:[(0,r.jsx)("button",{ref:o,type:"button",onClick:()=>i(e=>!e),className:"flex h-9 w-9 items-center justify-center rounded-lg text-accent-purple dark:text-accent-purple hover:bg-gray-100 dark:hover:bg-white/10 transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-[#4D2FB2]","aria-label":"Media afspelen","aria-expanded":s,children:(0,r.jsx)(U.A,{className:(0,b.cn)("h-5 w-5",h&&"animate-spin"),"aria-hidden":!0})}),s&&u&&"undefined"!=typeof document&&(0,l.createPortal)((0,r.jsx)(B,{panelRef:c,anchorRect:null==(e=o.current)?void 0:e.getBoundingClientRect(),entity_id:u}),document.body)]})}function B(e){let{panelRef:t,anchorRect:a,entity_id:n}=e,l=a?{top:a.bottom+4,right:window.innerWidth-a.right}:{top:0,right:0};return(0,r.jsx)("div",{ref:t,className:"fixed z-[200] w-[336px] p-2 rounded-xl border border-gray-200 bg-white/95 dark:bg-black/80 shadow-xl dark:border-white/10 dark:backdrop-blur-xl",style:{top:l.top,right:l.right},children:(0,r.jsx)(z.$,{title:"Media",entity_id:n,size:"md"})})}async function F(e){try{let t=await fetch("/api/ha/state");if(!t.ok)return;let a=await t.json();Array.isArray(a)&&e(a)}catch(e){}}let O="dashboard.headerTemperatureEntityId";function T(e){var t;let{state:a}=e,n=null!=(t=null==a?void 0:a.toLowerCase())?t:"",l="h-4 w-4 shrink-0 text-gray-500 dark:text-gray-400";return"sunny"===n||"clear"===n?(0,r.jsx)(s.A,{className:l,"aria-hidden":!0}):"clear-night"===n?(0,r.jsx)(i.A,{className:l,"aria-hidden":!0}):"fog"===n||"mist"===n?(0,r.jsx)(o.A,{className:l,"aria-hidden":!0}):"rainy"===n||"pouring"===n||"hail"===n?(0,r.jsx)(c.A,{className:l,"aria-hidden":!0}):"snowy"===n||"snowy-rainy"===n?(0,r.jsx)(d.A,{className:l,"aria-hidden":!0}):"lightning"===n||"lightning-rainy"===n?(0,r.jsx)(u.A,{className:l,"aria-hidden":!0}):"windy"===n||"windy-variant"===n?(0,r.jsx)(h.A,{className:l,"aria-hidden":!0}):("cloudy"===n,(0,r.jsx)(x.A,{className:l,"aria-hidden":!0}))}function Z(e){let{onClose:t,onSelect:a}=e,[l,s]=(0,n.useState)([]),[i,o]=(0,n.useState)(!0),[c,d]=(0,n.useState)(null);return(0,n.useEffect)(()=>{fetch("/api/ha/entities").then(e=>{if(!e.ok)throw Error("Failed to load");return e.json()}).then(e=>{s(e.filter(e=>e.entity_id.startsWith("weather."))),d(null)}).catch(()=>d("Could not load weather entities.")).finally(()=>o(!1))},[]),(0,r.jsxs)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[(0,r.jsx)("div",{className:"absolute inset-0 z-[101] bg-black/20 dark:bg-black/30 backdrop-blur-md","aria-hidden":!0,onClick:t}),(0,r.jsxs)("div",{className:"relative z-[102] w-full max-w-sm rounded-2xl border-0 bg-white p-5 shadow-xl dark:bg-black/50 dark:backdrop-blur-xl dark:border dark:border-white/10",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-3 mb-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Choose weather for temperature"}),(0,r.jsx)("button",{type:"button",onClick:t,className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":"Close",children:(0,r.jsx)(m.A,{className:"h-4 w-4"})})]}),i?(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Loading…"}):c?(0,r.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:c}):0===l.length?(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No weather entities found. Check your Home Assistant connection."}):(0,r.jsx)("ul",{className:"max-h-64 overflow-auto space-y-1",children:l.map(e=>{var n,l;let s=null!=(l=null==(n=e.attributes)?void 0:n.friendly_name)?l:e.entity_id;return(0,r.jsx)("li",{children:(0,r.jsx)("button",{type:"button",onClick:r=>{r.preventDefault(),r.stopPropagation(),a(e.entity_id),t()},className:"w-full text-left px-3 py-2 rounded-lg text-sm font-medium text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-white/10",children:s})},e.entity_id)})})]})]})}function H(e){var t,a,s;let{children:i,activeTab:o="/dashboards",showSidebar:c=!0,showFloatingToolbar:d=!1,welcomeBarAction:u,headerEndAction:h,welcomeTitle:x,welcomeSubtitle:m,welcomeEditable:p=!1,onWelcomeChange:w,temperatureEntityId:v,contentNoScroll:y=!1,className:j}=e,N=null!=x?x:"",S=null!=m?m:"",A=!!(N||S),I=(0,R.D)(),_=function(){let[e,t]=(0,n.useState)("");return(0,n.useEffect)(()=>{function e(){let e=new Date;t((0,W._0)()?e.toLocaleTimeString("nl-NL",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}):e.toLocaleTimeString("nl-NL",{hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0}))}e();let a=setInterval(e,1e3);return()=>clearInterval(a)},[]),e}(),[E,D]=(0,n.useState)(!1),[U,z]=(0,n.useState)(null),[B,H]=(0,n.useState)(!1);(0,n.useEffect)(()=>{z(localStorage.getItem(O))},[]);let $=null===v?void 0:null!=(a=null!=v?v:U)?a:"sensor.weather_temperature",V=(0,P.j)(e=>e.setStates),K=(0,P.j)(e=>$?e.getState($):void 0),Q=null!=(s=null==K||null==(t=K.attributes)?void 0:t.temperature)?s:(null==K?void 0:K.state)!=null?Number(K.state):void 0,J=null==Q||Number.isNaN(Q)?null:"".concat(Math.round(Q),"\xb0"),Y=(0,n.useCallback)(e=>{z(e),localStorage.setItem(O,e),D(!1),F(V)},[V]);return(0,r.jsxs)("div",{className:(0,b.cn)("flex min-h-screen flex-col",I?"bg-white/85 dark:bg-black/50":"bg-page-light dark:bg-dark-page",j),children:[(0,r.jsxs)("header",{className:"relative z-50 flex shrink-0 items-center border-b border-gray-200/50 px-4 py-3 dark:border-white/10",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0 flex items-center gap-4",children:[c&&(0,r.jsx)("button",{type:"button",onClick:()=>H(e=>!e),className:"flex h-9 w-9 shrink-0 items-center justify-center rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-white/10 transition-colors","aria-label":B?"Menu sluiten":"Menu openen",children:(0,r.jsx)(g.A,{className:"h-5 w-5","aria-hidden":!0})}),(0,r.jsx)("span",{className:"text-sm font-medium tabular-nums text-gray-700 dark:text-gray-300","aria-live":"polite",children:_}),null!=$&&(0,r.jsxs)("button",{type:"button",onClick:()=>D(!0),className:"flex items-center gap-1.5 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-white/10 rounded-lg px-2 py-1 -mx-2 transition-colors","aria-label":"Choose temperature entity",children:[(null==$?void 0:$.startsWith("weather."))&&(null==K?void 0:K.state)?(0,r.jsx)(T,{state:K.state}):(0,r.jsx)(f.A,{className:"h-4 w-4 shrink-0 text-gray-500 dark:text-gray-400","aria-hidden":!0}),null!=J?J:"—"]})]}),(0,r.jsx)("div",{className:"flex justify-center px-4",children:(0,r.jsx)(k,{activeHref:o})}),(0,r.jsxs)("div",{className:"flex-1 flex items-center justify-end gap-2 min-w-0",children:[h,(0,r.jsx)(q,{}),(0,r.jsx)(M,{})]})]}),E&&"undefined"!=typeof document&&(0,l.createPortal)((0,r.jsx)(Z,{onClose:()=>D(!1),onSelect:Y}),document.body),A&&(0,r.jsxs)("div",{className:"shrink-0 flex items-center justify-between gap-4 pl-10 pr-4 py-4",children:[(0,r.jsx)("div",{className:"min-w-0 flex-1",children:p&&w?(0,r.jsxs)("div",{className:"space-y-2 max-w-md",children:[(0,r.jsx)("input",{type:"text",value:N,onChange:e=>w({title:e.target.value,subtitle:S}),className:"block w-full text-2xl md:text-3xl font-bold bg-transparent border border-transparent hover:border-gray-300 dark:hover:border-white/20 rounded-lg px-2 py-1 -mx-2 text-gray-900 dark:text-white tracking-tight focus:outline-none focus:border-accent-purple dark:focus:border-accent-purple",placeholder:"Welkomsttitel"}),(0,r.jsx)("input",{type:"text",value:S,onChange:e=>w({title:N,subtitle:e.target.value}),className:"block w-full text-base md:text-lg font-normal bg-transparent border border-transparent hover:border-gray-300 dark:hover:border-white/20 rounded-lg px-2 py-1 -mx-2 text-gray-600 dark:text-gray-300 focus:outline-none focus:border-accent-purple dark:focus:border-accent-purple",placeholder:"Ondertitel"})]}):A?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white tracking-tight",children:N}),(0,r.jsx)("p",{className:"text-base md:text-lg font-normal text-gray-600 dark:text-gray-300 mt-1.5",children:S})]}):null}),null!=u?(0,r.jsx)("div",{className:"flex items-center gap-2 shrink-0",children:u}):null]}),(0,r.jsxs)("div",{className:"flex flex-1 overflow-hidden relative",children:[c&&(0,r.jsx)("div",{className:(0,b.cn)("fixed left-0 top-[8rem] bottom-0 z-[60] w-[88px] pl-8 flex flex-col items-center justify-center transition-[transform,opacity] duration-200 ease-out",B?"translate-x-0 opacity-100":"-translate-x-full opacity-0 pointer-events-none"),children:(0,r.jsx)(C,{activeHref:o})}),(0,r.jsx)("main",{className:(0,b.cn)("flex-1 p-4 min-w-0 transition-[margin] duration-200",y?"overflow-hidden":"overflow-auto",c&&B&&"ml-[88px]"),children:i})]}),d&&(0,r.jsx)(L,{})]})}},77184:(e,t,a)=>{a.d(t,{Bo:()=>o,MZ:()=>h,RW:()=>c,VB:()=>j,YI:()=>k,_0:()=>u,al:()=>v,iv:()=>w,k6:()=>g,kS:()=>m,lR:()=>y,qZ:()=>N,u0:()=>i,wh:()=>s});let r="dashboard.screensaverDelaySeconds",n="dashboard.screensaverMinutes",l="dashboard.screensaverBackground";function s(){try{let e=localStorage.getItem(r);if(null===e){let e=localStorage.getItem(n);if(null!==e){let t=parseInt(e,10);if(Number.isFinite(t)&&t>=0){let e=60*t;return localStorage.setItem(r,String(e)),localStorage.removeItem(n),e}}return 0}let t=parseInt(e,10);return Number.isFinite(t)&&t>=0?t:0}catch(e){return 0}}function i(e){try{localStorage.setItem(r,String(Math.max(0,Math.round(e)))),window.dispatchEvent(new CustomEvent("screensaver-setting-changed"))}catch(e){}}function o(){try{let e=localStorage.getItem(l);return"string"==typeof e?e:""}catch(e){return""}}function c(e){try{localStorage.setItem(l,e||""),window.dispatchEvent(new CustomEvent("screensaver-setting-changed"))}catch(e){}}let d="dashboard.screensaverClock24h";function u(){try{let e=localStorage.getItem(d);if("false"===e)return!1;return!0}catch(e){return!0}}function h(e){try{localStorage.setItem(d,e?"true":"false"),window.dispatchEvent(new CustomEvent("screensaver-setting-changed"))}catch(e){}}let x="dashboard.screensaverWeatherEntityId";function m(){try{let e=localStorage.getItem(x);return e&&e.length>0?e:null}catch(e){return null}}function g(e){try{localStorage.setItem(x,null!=e?e:""),window.dispatchEvent(new CustomEvent("screensaver-setting-changed"))}catch(e){}}let f="dashboard.screensaverPexelsEnabled",b="dashboard.screensaverPexelsQuery",p="dashboard.screensaverPexelsApiKey";function w(){try{return"true"===localStorage.getItem(f)}catch(e){return!1}}function v(e){try{localStorage.setItem(f,e?"true":"false"),window.dispatchEvent(new CustomEvent("screensaver-setting-changed"))}catch(e){}}function y(){try{let e=localStorage.getItem(b);return"string"==typeof e&&e.trim()?e.trim():"nature landscape"}catch(e){return"nature landscape"}}function j(e){try{localStorage.setItem(b,e.trim()||"nature landscape"),window.dispatchEvent(new CustomEvent("screensaver-setting-changed"))}catch(e){}}function k(){try{let e=localStorage.getItem(p);return"string"==typeof e?e:""}catch(e){return""}}function N(e){try{localStorage.setItem(p,e.trim()),window.dispatchEvent(new CustomEvent("screensaver-setting-changed"))}catch(e){}}},93420:(e,t,a)=>{a.d(t,{j:()=>r});let r=(0,a(25959).v)((e,t)=>({states:{},updatedAt:null,error:null,refreshRequested:0,setStates:t=>{let a={};for(let e of t)a[e.entity_id]=e;e({states:a,updatedAt:Date.now(),error:null})},updateEntityState:(a,r)=>{let n=t().states[a];n&&e({states:{...t().states,[a]:{...n,...r}},updatedAt:Date.now()})},setError:t=>e({error:t}),getState:e=>t().states[e],isOffline:()=>null!=t().error,requestRefresh:()=>e(e=>({refreshRequested:e.refreshRequested+1}))}))}}]);