{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HiddevanBrussel/.cursor/dashboard/src/app/dashboards/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useParams, useRouter } from \"next/navigation\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { AppShell } from \"@/components/layout/app-shell\";\nimport { useState, useEffect, useRef } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport ReactGridLayout from \"react-grid-layout\";\nimport \"react-grid-layout/css/styles.css\";\nimport \"react-resizable/css/styles.css\";\nimport { Bot, Check, CircleDot, CloudSun, Fuel, Gauge, Home, LayoutGrid, Lightbulb, Music2, Pencil, Plus, Sun, Thermometer, Type, Video, X } from \"lucide-react\";\n\ntype LayoutItem = ReactGridLayout.Layout;\ntype Layout = LayoutItem[];\nimport {\n  EnergyUsageWidget,\n  LightControlWidget,\n  WifiWidget,\n  SolarChargeWidget,\n  ClimateWidget,\n  LightingBrightnessWidget,\n  MediaCardWidget,\n  FloatingMediaCard,\n  LightCardWidget,\n  FloatingLightCard,\n  LIGHT_ICON_OPTIONS,\n  ClimateCard2Widget,\n  SolarCardWidget,\n  FloatingClimateCard,\n  FloatingSolarCard,\n  FloatingWeatherCard,\n  WeatherCardWidget,\n  VacuumCardWidget,\n  FloatingVacuumCard,\n  SensorCardWidget,\n  FloatingSensorCard,\n  TitleCardWidget,\n  FloatingTitleCard,\n  CLIMATE_ICON_OPTIONS,\n  VACUUM_ICON_OPTIONS,\n  SENSOR_ICON_OPTIONS,\n  SENSOR_CONDITION_COLORS,\n  SENSOR_CONDITION_OPERATORS,\n  SENSOR_CONDITION_OPERATOR_LABELS,\n  FloatingPillCard,\n  FloatingCardGroup,\n  RoomCardWidget,\n  FloatingRoomCard,\n  NutsCardWidget,\n  FloatingNutsCard,\n  EnergyMonitorCardWidget,\n  FloatingEnergyMonitorCard,\n  StatPillCardWidget,\n  FloatingStatPillCard,\n  CameraCardWidget,\n  FloatingCameraCard,\n  CARD_ICON_OPTIONS,\n} from \"@/components/widgets\";\nimport type { WidgetConfig } from \"@/stores/onboarding-store\";\nimport type { ImageCondition, SensorCondition } from \"@/components/widgets\";\nimport { useEntityStateStore } from \"@/stores/entity-state-store\";\nimport { OfflinePill } from \"@/components/offline-pill\";\nimport { cn, generateId } from \"@/lib/utils\";\n\n/** Alleen deze types kunnen als tile worden toegevoegd (floating cards). */\nconst ADDABLE_WIDGET_TYPES = [\"title_card\", \"climate_card_2\", \"light_card\", \"media_card\", \"solar_card\", \"energy_monitor_card\", \"stat_pill_card\", \"sensor_card\", \"weather_card\", \"vacuum_card\", \"camera_card\", \"pill_card\", \"room_card\", \"nuts_card\", \"card_group\"] as const;\n\nconst ADDABLE_WIDGET_TILES: { type: (typeof ADDABLE_WIDGET_TYPES)[number]; label: string; Icon: React.ComponentType<{ className?: string }> }[] = [\n  { type: \"title_card\", label: \"Titel\", Icon: Type },\n  { type: \"climate_card_2\", label: \"Klimaat\", Icon: Thermometer },\n  { type: \"light_card\", label: \"Lamp\", Icon: Lightbulb },\n  { type: \"media_card\", label: \"Media\", Icon: Music2 },\n  { type: \"solar_card\", label: \"Zonnepanelen\", Icon: Sun },\n  { type: \"energy_monitor_card\", label: \"Afbeeldingskaart\", Icon: Sun },\n  { type: \"stat_pill_card\", label: \"Stat pill\", Icon: CircleDot },\n  { type: \"sensor_card\", label: \"Sensor\", Icon: Gauge },\n  { type: \"weather_card\", label: \"Weer\", Icon: CloudSun },\n  { type: \"vacuum_card\", label: \"Stofzuiger\", Icon: Bot },\n  { type: \"camera_card\", label: \"Camera\", Icon: Video },\n  { type: \"pill_card\", label: \"Pill\", Icon: CircleDot },\n  { type: \"room_card\", label: \"Kamer\", Icon: Home },\n  { type: \"nuts_card\", label: \"Nuts (Gas/Water)\", Icon: Fuel },\n  { type: \"card_group\", label: \"Kaartgroep\", Icon: LayoutGrid },\n];\n\n/** Map widget type to HA domain for filtering entities */\nconst WIDGET_TYPE_DOMAIN: Record<string, string> = {\n  title_card: \"\",\n  energy_usage: \"sensor\",\n  light_control: \"light\",\n  wifi: \"sensor\",\n  solar_charge: \"sensor\",\n  climate: \"climate\",\n  climate_card: \"climate\",\n  climate_card_2: \"climate\",\n  light_card: \"light\",\n  lighting_brightness: \"light\",\n  media_card: \"media_player\",\n  solar_card: \"sensor\",\n  energy_monitor_card: \"sensor\",\n  stat_pill_card: \"sensor\",\n  sensor_card: \"sensor\",\n  weather_card: \"weather\",\n  vacuum_card: \"vacuum\",\n  camera_card: \"camera\",\n  pill_card: \"switch\",\n  room_card: \"\",\n  nuts_card: \"sensor\",\n  card_group: \"\",\n};\n\nconst PILL_CARD_DOMAINS = [\"switch\", \"light\", \"input_boolean\", \"sensor\"];\n\ntype DashboardData = {\n  id: string;\n  name: string;\n  theme: string;\n  layout: string | null;\n  widgets: string | null;\n  background: string | null;\n  welcomeTitle: string | null;\n  welcomeSubtitle: string | null;\n};\n\nfunction parseLayout(layout: string | null): Layout {\n  if (!layout) return [];\n  try {\n    const arr = JSON.parse(layout) as LayoutItem[];\n    return Array.isArray(arr) ? arr : [];\n  } catch {\n    return [];\n  }\n}\n\nfunction parseWidgets(widgets: string | null): WidgetConfig[] {\n  if (!widgets) return [];\n  try {\n    const arr = JSON.parse(widgets) as WidgetConfig[];\n    return Array.isArray(arr) ? arr : [];\n  } catch {\n    return [];\n  }\n}\n\nfunction WidgetByType({\n  type,\n  title,\n  entity_id,\n  consumption_entity_id,\n  humidity_entity_id,\n  show_icon,\n  script_ids,\n  script_names,\n  cleaned_area_entity_id,\n  light_entity_id,\n  background_image,\n  background_image_dark,\n  image_conditions,\n  icon,\n  size,\n  conditions,\n  current_entity_id,\n  max_value,\n  grid_entity_id,\n  minimal,\n  label,\n  color,\n}: {\n  type: string;\n  title: string;\n  entity_id: string;\n  consumption_entity_id?: string;\n  humidity_entity_id?: string;\n  show_icon?: boolean;\n  script_ids?: string[];\n  script_names?: Record<string, string>;\n  cleaned_area_entity_id?: string;\n  light_entity_id?: string;\n  background_image?: string;\n  background_image_dark?: string;\n  image_conditions?: { operator: string; value: string; image: string; image_dark?: string }[];\n  icon?: string;\n  size?: string;\n  conditions?: { operator: string; value: string; color: string }[];\n  current_entity_id?: string;\n  max_value?: number;\n  grid_entity_id?: string;\n  minimal?: boolean;\n  label?: string;\n  color?: string;\n}) {\n  const sizeProp = (size as \"sm\" | \"md\" | \"lg\") ?? \"md\";\n  const live = useEntityStateStore((s) => s.getState(entity_id));\n  const num = live?.state != null ? Number(live.state) : undefined;\n  const onOff = live?.state === \"on\" ? \"on\" : \"off\";\n\n  switch (type) {\n    case \"title_card\":\n      return <TitleCardWidget title={title} />;\n    case \"energy_usage\":\n      return <EnergyUsageWidget title={title} entity_id={entity_id} size={sizeProp} value={num} />;\n    case \"light_control\":\n      return (\n        <LightControlWidget\n          title={title}\n          entity_id={entity_id}\n          size={sizeProp}\n          value={num}\n          state={live?.state === \"on\" ? \"on\" : \"off\"}\n        />\n      );\n    case \"wifi\":\n      return <WifiWidget title={title} entity_id={entity_id} size={sizeProp} value={onOff} />;\n    case \"solar_charge\":\n      return <SolarChargeWidget title={title} entity_id={entity_id} size={sizeProp} value={num} />;\n    case \"climate\":\n      return <ClimateWidget title={title} entity_id={entity_id} size={sizeProp} value={num} />;\n    case \"lighting_brightness\":\n      return <LightingBrightnessWidget title={title} entity_id={entity_id} size={sizeProp} value={num} />;\n    case \"media_card\":\n      return <MediaCardWidget title={title} entity_id={entity_id} size={sizeProp} />;\n    case \"climate_card\":\n      return (\n        <ClimateCard2Widget\n          title={title}\n          entity_id={entity_id}\n          humidity_entity_id={humidity_entity_id}\n          size={sizeProp}\n        />\n      );\n    case \"climate_card_2\":\n      return (\n        <ClimateCard2Widget\n          title={title}\n          entity_id={entity_id}\n          humidity_entity_id={humidity_entity_id}\n          size={sizeProp}\n        />\n      );\n    case \"light_card\":\n      return (\n        <LightCardWidget\n          title={title}\n          entity_id={entity_id}\n          icon={icon}\n          size={sizeProp}\n        />\n      );\n    case \"solar_card\":\n      return (\n        <SolarCardWidget\n          title={title}\n          entity_id={entity_id}\n          consumption_entity_id={consumption_entity_id}\n          size={sizeProp}\n        />\n      );\n    case \"energy_monitor_card\":\n      return (\n        <EnergyMonitorCardWidget\n          title={title}\n          entity_id={entity_id}\n          background_image={background_image}\n          background_image_dark={background_image_dark}\n          image_conditions={image_conditions as ImageCondition[] | undefined}\n          minimal={minimal}\n          size={sizeProp}\n        />\n      );\n    case \"stat_pill_card\":\n      return (\n        <StatPillCardWidget\n          title={title}\n          entity_id={entity_id}\n          label={label}\n          icon={icon}\n          color={(color as \"amber\" | \"purple\" | \"emerald\" | \"red\") ?? \"amber\"}\n          size={sizeProp}\n        />\n      );\n    case \"weather_card\":\n      return (\n        <WeatherCardWidget\n          title={title}\n          entity_id={entity_id}\n          show_icon={show_icon}\n          size={sizeProp}\n        />\n      );\n    case \"vacuum_card\":\n      return (\n        <VacuumCardWidget\n          title={title}\n          entity_id={entity_id}\n          script_ids={script_ids}\n          script_names={script_names}\n          cleaned_area_entity_id={cleaned_area_entity_id}\n          icon={icon}\n          size={sizeProp}\n        />\n      );\n    case \"sensor_card\":\n      return (\n        <SensorCardWidget\n          title={title}\n          entity_id={entity_id}\n          icon={icon}\n          show_icon={show_icon}\n          size={sizeProp}\n          conditions={conditions as SensorCondition[] | undefined}\n        />\n      );\n    case \"room_card\":\n      return (\n        <RoomCardWidget\n          title={title}\n          entity_id={entity_id}\n          icon={icon}\n          light_entity_id={light_entity_id}\n          background_image={background_image}\n        />\n      );\n    case \"nuts_card\":\n      return (\n        <NutsCardWidget\n          title={title}\n          entity_id={entity_id}\n          current_entity_id={current_entity_id as string | undefined}\n          icon={icon}\n          max_value={max_value as number | undefined}\n        />\n      );\n    default:\n      return (\n        <div className=\"rounded-card border border-dashed p-4 text-sm text-gray-500\">\n          {title || type}\n        </div>\n      );\n  }\n}\n\ntype HaEntity = { entity_id: string; attributes?: Record<string, unknown> };\n\nexport default function DashboardEditPage() {\n  const params = useParams();\n  const router = useRouter();\n  const queryClient = useQueryClient();\n  const id = params?.id as string;\n  const [editMode, setEditMode] = useState(false);\n  const [layout, setLayout] = useState<Layout>([]);\n  const [widgets, setWidgets] = useState<WidgetConfig[]>([]);\n  const [welcomeTitle, setWelcomeTitle] = useState<string>(\"\");\n  const [welcomeSubtitle, setWelcomeSubtitle] = useState<string>(\"\");\n  const [initialized, setInitialized] = useState(false);\n  const [entities, setEntities] = useState<HaEntity[]>([]);\n  const [addTileOpen, setAddTileOpen] = useState(false);\n  const [addTileStep, setAddTileStep] = useState<\"type\" | \"entity\">(\"type\");\n  const [addTileSelectedType, setAddTileSelectedType] = useState<string | null>(null);\n  const [addTileEntitySearch, setAddTileEntitySearch] = useState(\"\");\n  const [editEntitySearch, setEditEntitySearch] = useState(\"\");\n  const [groupAddEntitySearch, setGroupAddEntitySearch] = useState(\"\");\n  const [editingWidgetId, setEditingWidgetId] = useState<string | null>(null);\n  /** When editing a card_group, id of the child pill being edited (null = editing group itself). */\n  const [editingGroupChildId, setEditingGroupChildId] = useState<string | null>(null);\n  const [editForm, setEditForm] = useState<{\n    title: string;\n    entity_id: string;\n    consumption_entity_id?: string;\n    grid_entity_id?: string;\n    humidity_entity_id?: string;\n    show_icon?: boolean;\n    show_state?: boolean;\n    script_ids?: string[];\n    script_names?: Record<string, string>;\n    cleaned_area_entity_id?: string;\n    light_entity_id?: string;\n    background_image?: string;\n    background_image_dark?: string;\n    icon_background_color?: string;\n    width?: number;\n    height?: number;\n    icon?: string;\n    size?: string;\n    conditions?: { operator: string; value: string; color: string }[];\n    image_conditions?: { operator: string; value: string; image: string; image_dark?: string }[];\n    current_entity_id?: string;\n    max_value?: number;\n    minimal?: boolean;\n    scale?: number;\n    label?: string;\n    color?: string;\n    refresh?: number;\n    show_title?: boolean;\n  }>({\n    title: \"\",\n    entity_id: \"\",\n    consumption_entity_id: \"\",\n    grid_entity_id: \"\",\n    humidity_entity_id: \"\",\n    show_icon: true,\n    show_state: true,\n    script_ids: [],\n    script_names: {},\n    cleaned_area_entity_id: \"\",\n    current_entity_id: \"\",\n    light_entity_id: \"\",\n    background_image: \"\",\n    background_image_dark: \"\",\n    icon_background_color: \"\",\n    width: undefined as number | undefined,\n    height: undefined as number | undefined,\n    icon: \"\",\n    size: \"md\",\n    conditions: [],\n    image_conditions: [],\n    minimal: false,\n    scale: 1,\n    label: \"\",\n    color: \"amber\",\n    refresh: 10,\n    show_title: true,\n  });\n  const [iconSearch, setIconSearch] = useState(\"\");\n  const [vacuumIconSearch, setVacuumIconSearch] = useState(\"\");\n  const [sensorIconSearch, setSensorIconSearch] = useState(\"\");\n  const [pillIconSearch, setPillIconSearch] = useState(\"\");\n  const [sensorCardEditTab, setSensorCardEditTab] = useState<\"general\" | \"conditions\">(\"general\");\n  const [roomCardEditTab, setRoomCardEditTab] = useState<\"algemeen\" | \"achtergrond\" | \"weergave\">(\"algemeen\");\n  const [uploadingRoomBg, setUploadingRoomBg] = useState(false);\n  const longPressTimerRef = useRef<ReturnType<typeof setTimeout> | null>(null);\n  const LONG_PRESS_MS = 500;\n\n  function clearLongPressTimer() {\n    if (longPressTimerRef.current != null) {\n      clearTimeout(longPressTimerRef.current);\n      longPressTimerRef.current = null;\n    }\n  }\n\n  function startLongPressForEdit(e: React.PointerEvent) {\n    if (editMode) return;\n    e.preventDefault();\n    (e.currentTarget as HTMLElement).setPointerCapture?.(e.pointerId);\n    clearLongPressTimer();\n    longPressTimerRef.current = setTimeout(() => {\n      longPressTimerRef.current = null;\n      setEditMode(true);\n    }, LONG_PRESS_MS);\n  }\n\n  function clearLongPressTimerAndRelease(e: React.PointerEvent) {\n    (e.currentTarget as HTMLElement).releasePointerCapture?.(e.pointerId);\n    clearLongPressTimer();\n  }\n\n  const editingWidget = editingWidgetId\n    ? widgets.find((w) => w.id === editingWidgetId)\n    : null;\n\n  useEffect(() => {\n    if (!editingWidgetId) setEditingGroupChildId(null);\n  }, [editingWidgetId]);\n\n  useEffect(() => {\n    if (editingWidget?.type === \"card_group\" && editingGroupChildId) {\n      const child = (editingWidget.children ?? []).find((c) => c.id === editingGroupChildId);\n      if (child) {\n        setEditForm({\n          title: child.title ?? \"\",\n          entity_id: child.entity_id ?? \"\",\n          consumption_entity_id: \"\",\n          humidity_entity_id: \"\",\n          show_icon: true,\n          script_ids: [],\n          script_names: {},\n          cleaned_area_entity_id: \"\",\n          icon: child.icon ?? \"\",\n          size: \"md\",\n          conditions: child.conditions ?? [],\n          show_state: child.show_state !== false,\n        });\n        setPillIconSearch(child.icon ?? \"\");\n      }\n      return;\n    }\n    if (editingWidget) {\n      setEditForm({\n        title: editingWidget.title ?? \"\",\n        entity_id: editingWidget.entity_id ?? \"\",\n        consumption_entity_id: editingWidget.consumption_entity_id ?? \"\",\n        grid_entity_id: editingWidget.grid_entity_id ?? \"\",\n        humidity_entity_id: editingWidget.humidity_entity_id ?? \"\",\n        show_icon: editingWidget.show_icon !== false,\n        script_ids: editingWidget.script_ids ?? [],\n        script_names: editingWidget.script_names ?? {},\n        cleaned_area_entity_id: editingWidget.cleaned_area_entity_id ?? \"\",\n        light_entity_id: editingWidget.light_entity_id ?? \"\",\n        background_image: editingWidget.background_image ?? \"\",\n        background_image_dark: editingWidget.background_image_dark ?? \"\",\n        icon_background_color: editingWidget.icon_background_color ?? \"\",\n        width: editingWidget.width ?? undefined,\n        height: editingWidget.height ?? undefined,\n        icon: editingWidget.icon ?? \"\",\n        size: editingWidget.size ?? \"md\",\n        conditions: editingWidget.conditions ?? [],\n        image_conditions: editingWidget.image_conditions ?? [],\n        show_state: editingWidget.show_state !== false,\n        current_entity_id: editingWidget.current_entity_id ?? \"\",\n        max_value: editingWidget.max_value ?? undefined,\n        minimal: editingWidget.minimal ?? false,\n        scale: editingWidget.scale ?? 1,\n        label: editingWidget.label ?? \"\",\n        color: editingWidget.color ?? \"amber\",\n        refresh: editingWidget.refresh ?? 10,\n        show_title: editingWidget.show_title !== false,\n      });\n      setIconSearch(\"\");\n      setVacuumIconSearch(editingWidget.type === \"vacuum_card\" ? (editingWidget.icon ?? \"\") : \"\");\n      setSensorIconSearch(editingWidget.type === \"sensor_card\" ? (editingWidget.icon ?? \"\") : \"\");\n      setPillIconSearch(editingWidget.type === \"pill_card\" ? (editingWidget.icon ?? \"\") : \"\");\n      setGroupAddEntitySearch(\"\");\n      setEditEntitySearch(\"\");\n      if (editingWidget.type === \"sensor_card\") setSensorCardEditTab(\"general\");\n      if (editingWidget.type === \"room_card\") setRoomCardEditTab(\"algemeen\");\n    }\n  }, [editingWidget, editingGroupChildId]);\n\n  const { data, isLoading, error } = useQuery<DashboardData>({\n    queryKey: [\"dashboard\", id],\n    queryFn: async () => {\n      const res = await fetch(`/api/dashboards/${id}`);\n      if (!res.ok) throw new Error(\"Failed to load\");\n      return res.json();\n    },\n    enabled: !!id,\n  });\n\n  useEffect(() => {\n    if (!data || initialized) return;\n    const w = parseWidgets(data.widgets);\n    setWidgets(w);\n    const parsed = parseLayout(data.layout);\n    if (parsed.length > 0) {\n      setLayout(parsed);\n    } else if (w.length > 0) {\n      setLayout(\n        w.map((widget, i) => ({\n          i: widget.id,\n          x: (i % 3) * 4,\n          y: Math.floor(i / 3) * 2,\n          w: 4,\n          h: 2,\n        }))\n      );\n    }\n    setWelcomeTitle(data.welcomeTitle ?? \"\");\n    setWelcomeSubtitle(data.welcomeSubtitle ?? \"\");\n    setInitialized(true);\n  }, [data, initialized]);\n\n  useEffect(() => {\n    if (!editMode) return;\n    fetch(\"/api/ha/entities\")\n      .then((r) => r.json())\n      .then((data) => (Array.isArray(data) ? setEntities(data) : setEntities([])))\n      .catch(() => setEntities([]));\n  }, [editMode]);\n\n  const requestRefresh = useEntityStateStore((s) => s.requestRefresh);\n  useEffect(() => {\n    if (!data) return;\n    const w = parseWidgets(data.widgets);\n    if (w.some((x) => x.type === \"stat_pill_card\")) requestRefresh();\n  }, [data, requestRefresh]);\n\n  useEffect(() => {\n    if (error && id) router.replace(\"/dashboards\");\n  }, [error, id, router]);\n\n  const saveMutation = useMutation({\n    mutationFn: async (payload: {\n      layout: Layout;\n      widgets: WidgetConfig[];\n      welcomeTitle?: string;\n      welcomeSubtitle?: string;\n    }) => {\n      const res = await fetch(`/api/dashboards/${id}`, {\n        method: \"PUT\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          layout: JSON.stringify(payload.layout),\n          widgets: JSON.stringify(payload.widgets),\n          ...(payload.welcomeTitle !== undefined && { welcomeTitle: payload.welcomeTitle || null }),\n          ...(payload.welcomeSubtitle !== undefined && { welcomeSubtitle: payload.welcomeSubtitle || null }),\n        }),\n      });\n      if (!res.ok) throw new Error(\"Save failed\");\n      return res.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"dashboard\", id] });\n    },\n  });\n\n  const onLayoutChange = (newLayout: Layout) => {\n    setLayout((prev) => {\n      const floatingItems = prev.filter((item) => {\n        const type = widgets.find((w) => w.id === item.i)?.type;\n        return type === \"media_card\" || type === \"climate_card\" || type === \"climate_card_2\" || type === \"title_card\" || type === \"pill_card\" || type === \"room_card\" || type === \"nuts_card\" || type === \"card_group\";\n      });\n      return [...newLayout, ...floatingItems];\n    });\n  };\n\n  const layoutForGrid = layout.filter((item) => {\n    const type = widgets.find((w) => w.id === item.i)?.type;\n    return type !== \"media_card\" && type !== \"climate_card\" && type !== \"climate_card_2\" && type !== \"light_card\" && type !== \"solar_card\" && type !== \"energy_monitor_card\" && type !== \"stat_pill_card\" && type !== \"sensor_card\" && type !== \"weather_card\" && type !== \"vacuum_card\" && type !== \"camera_card\" && type !== \"title_card\" && type !== \"pill_card\" && type !== \"room_card\" && type !== \"nuts_card\" && type !== \"card_group\";\n  });\n  const layoutMap = new Map(layout.map((item) => [item.i, item]));\n\n  const handleSave = () => {\n    setEditingWidgetId(null);\n    setEditingGroupChildId(null);\n    setEditMode(false);\n    saveMutation.mutate({ layout, widgets, welcomeTitle, welcomeSubtitle });\n  };\n\n  function handleAddTile(type: string, entityId: string, titleOverride?: string): string | undefined {\n    const newId = generateId();\n    const newWidget: WidgetConfig = {\n      id: newId,\n      type,\n      title: titleOverride ?? type.replace(/_/g, \" \"),\n      entity_id: entityId,\n      ...(type === \"card_group\" && { children: [], alignment: \"start\" as const }),\n    };\n    const maxY = layout.length === 0 ? 0 : Math.max(...layout.map((item) => item.y + item.h));\n    const isTitleCard = type === \"title_card\";\n    const newLayoutItem: LayoutItem = {\n      i: newId,\n      x: 0,\n      y: maxY,\n      w: isTitleCard ? 12 : 4,\n      h: isTitleCard ? 1 : 2,\n    };\n    const newWidgets = [...widgets, newWidget];\n    const newLayout =\n      type === \"solar_card\" || type === \"energy_monitor_card\" || type === \"sensor_card\" || type === \"weather_card\" || type === \"climate_card\" || type === \"climate_card_2\" || type === \"light_card\" || type === \"vacuum_card\" || type === \"camera_card\" || type === \"title_card\" || type === \"pill_card\" || type === \"room_card\" || type === \"nuts_card\" || type === \"card_group\"\n        ? layout\n        : [...layout, newLayoutItem];\n    setWidgets(newWidgets);\n    setLayout(newLayout);\n    setAddTileOpen(false);\n    setAddTileStep(\"type\");\n    setAddTileSelectedType(null);\n    saveMutation.mutate({ layout: newLayout, widgets: newWidgets, welcomeTitle, welcomeSubtitle });\n    return type === \"room_card\" || type === \"nuts_card\" || type === \"energy_monitor_card\" || type === \"stat_pill_card\" ? newId : undefined;\n  }\n\n  const domain = addTileSelectedType ? WIDGET_TYPE_DOMAIN[addTileSelectedType] : null;\n  const entitiesToShow =\n    addTileSelectedType === \"pill_card\"\n      ? entities.filter((e) => PILL_CARD_DOMAINS.some((d) => e.entity_id.startsWith(d + \".\")))\n      : domain != null\n        ? entities.filter((e) => e.entity_id.startsWith(domain + \".\"))\n        : entities;\n\n  function handleRemoveTile(widgetId: string) {\n    setWidgets((prev) => prev.filter((w) => w.id !== widgetId));\n    setLayout((prev) => prev.filter((item) => item.i !== widgetId));\n  }\n\n  function handleUpdateTile(\n    widgetId: string,\n    updates: { title?: string; entity_id?: string; consumption_entity_id?: string; grid_entity_id?: string; humidity_entity_id?: string; show_icon?: boolean; show_state?: boolean; script_ids?: string[]; script_names?: Record<string, string>; cleaned_area_entity_id?: string; light_entity_id?: string; background_image?: string; background_image_dark?: string; image_conditions?: { operator: string; value: string; image: string; image_dark?: string }[]; icon_background_color?: string; width?: number; height?: number; icon?: string; size?: string; conditions?: { operator: string; value: string; color: string }[]; alignment?: \"start\" | \"center\" | \"end\" | \"between\"; children?: WidgetConfig[]; current_entity_id?: string; max_value?: number; minimal?: boolean; scale?: number; label?: string; color?: string; refresh?: number; show_title?: boolean }\n  ) {\n    setWidgets((prev) =>\n      prev.map((w) => (w.id === widgetId ? { ...w, ...updates } : w))\n    );\n    setEditingWidgetId(null);\n  }\n\n  if (!id) {\n    return (\n      <AppShell activeTab=\"/dashboards\">\n        <p className=\"text-sm text-gray-500\">Invalid dashboard id.</p>\n      </AppShell>\n    );\n  }\n\n  if (isLoading || error) {\n    return (\n      <AppShell activeTab=\"/dashboards\">\n        <p className=\"text-sm text-gray-500\">\n          {error ? \"Dashboard not found, redirecting…\" : \"Loading…\"}\n        </p>\n      </AppShell>\n    );\n  }\n\n  const headerEndAction = (\n    <>\n      {editMode ? (\n        <>\n          <>\n            <button\n              type=\"button\"\n              onClick={() => setAddTileOpen(true)}\n              className=\"flex h-8 w-8 items-center justify-center rounded-full text-white hover:opacity-90\"\n              style={{ backgroundColor: \"#4D2FB2\" }}\n              aria-label=\"Kaart toevoegen\"\n            >\n              <Plus className=\"h-4 w-4\" />\n            </button>\n            {addTileOpen && typeof document !== \"undefined\" && createPortal(\n              <>\n                <div\n                  className=\"fixed inset-0 z-[300] bg-black/50 backdrop-blur-xl\"\n                  aria-hidden\n                  onClick={() => {\n                    setAddTileOpen(false);\n                    setAddTileStep(\"type\");\n                    setAddTileSelectedType(null);\n                    setAddTileEntitySearch(\"\");\n                  }}\n                />\n                <div className=\"fixed left-1/2 top-1/2 z-[301] w-full max-w-md -translate-x-1/2 -translate-y-1/2 rounded-xl border border-gray-200 bg-white p-4 shadow-xl dark:border-white/10 dark:bg-black/50 dark:backdrop-blur-xl\">\n                  <div className=\"flex items-center justify-between mb-4\">\n                    <h3 className=\"text-sm font-semibold text-gray-900 dark:text-gray-100\">\n                      {addTileStep === \"type\" ? \"Kaart toevoegen\" : \"Kies entity\"}\n                    </h3>\n                    <button\n                      type=\"button\"\n                      onClick={() => {\n                        setAddTileOpen(false);\n                        setAddTileStep(\"type\");\n                        setAddTileSelectedType(null);\n                        setAddTileEntitySearch(\"\");\n                      }}\n                      className=\"p-1.5 rounded-lg text-gray-500 hover:bg-gray-100 dark:hover:bg-white/10 dark:text-gray-400\"\n                      aria-label=\"Sluiten\"\n                    >\n                      <X className=\"h-5 w-5\" />\n                    </button>\n                  </div>\n                  {addTileStep === \"type\" ? (\n                    <div className=\"grid grid-cols-3 gap-2\">\n                      {ADDABLE_WIDGET_TILES.map(({ type, label, Icon }) => (\n                        <button\n                          key={type}\n                          type=\"button\"\n                          onClick={() => {\n                            if (type === \"title_card\") {\n                              handleAddTile(\"title_card\", \"\", \"Titel\");\n                              setAddTileOpen(false);\n                              return;\n                            }\n                            if (type === \"card_group\") {\n                              handleAddTile(\"card_group\", \"\", \"Kaartgroep\");\n                              setAddTileOpen(false);\n                              return;\n                            }\n                            if (type === \"room_card\") {\n                              const newId = handleAddTile(\"room_card\", \"\", \"Kamer\");\n                              if (newId) setEditingWidgetId(newId);\n                              return;\n                            }\n                            if (type === \"energy_monitor_card\") {\n                              const newId = handleAddTile(\"energy_monitor_card\", \"\", \"Afbeeldingskaart\");\n                              if (newId) setEditingWidgetId(newId);\n                              setAddTileOpen(false);\n                              return;\n                            }\n                            setAddTileSelectedType(type);\n                            setAddTileStep(\"entity\");\n                          }}\n                          className=\"flex flex-col items-center gap-2 rounded-xl border border-gray-200 bg-gray-50/80 py-4 px-3 transition-colors hover:border-[#4D2FB2]/40 hover:bg-[#4D2FB2]/5 dark:border-white/10 dark:bg-white/5 dark:hover:border-[#4D2FB2]/50 dark:hover:bg-[#4D2FB2]/10\"\n                        >\n                          <Icon className=\"h-7 w-7 text-gray-600 dark:text-gray-400\" />\n                          <span className=\"text-xs font-medium text-gray-700 dark:text-gray-200 text-center leading-tight\">\n                            {label}\n                          </span>\n                        </button>\n                      ))}\n                    </div>\n                  ) : (\n                    <div className=\"flex flex-col max-h-[60vh]\">\n                      <button\n                        type=\"button\"\n                        onClick={() => {\n                          setAddTileStep(\"type\");\n                          setAddTileSelectedType(null);\n                          setAddTileEntitySearch(\"\");\n                        }}\n                        className=\"mb-3 self-start px-2 py-1 text-xs font-medium text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-white/10 rounded-lg\"\n                      >\n                        ← Terug\n                      </button>\n                      <input\n                        type=\"text\"\n                        value={addTileEntitySearch}\n                        onChange={(e) => setAddTileEntitySearch(e.target.value)}\n                        placeholder=\"Zoek op naam of entity_id (bijv. sensor.woonkamer)…\"\n                        className=\"mb-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500\"\n                        autoFocus\n                      />\n                      <div className=\"overflow-auto rounded-lg border border-gray-200 dark:border-white/10 divide-y divide-gray-100 dark:divide-white/5 max-h-[50vh]\">\n                        {(() => {\n                          const q = addTileEntitySearch.trim().toLowerCase();\n                          const filtered = q\n                            ? entitiesToShow.filter((e) => {\n                                const name =\n                                  ((e.attributes as { friendly_name?: string })?.friendly_name ?? e.entity_id).toLowerCase();\n                                return name.includes(q) || e.entity_id.toLowerCase().includes(q);\n                              })\n                            : entitiesToShow;\n                          if (filtered.length === 0) {\n                            return (\n                              <p className=\"px-4 py-6 text-sm text-gray-500 dark:text-gray-400 text-center\">\n                                {entitiesToShow.length === 0\n                                  ? \"Geen entities gevonden. Controleer je HA-verbinding in Instellingen.\"\n                                  : \"Geen resultaten voor je zoekopdracht.\"}\n                              </p>\n                            );\n                          }\n                          return filtered.map((e) => {\n                            const name =\n                              (e.attributes as { friendly_name?: string })?.friendly_name ??\n                              e.entity_id;\n                            return (\n                              <button\n                                key={e.entity_id}\n                                type=\"button\"\n                                onClick={() => {\n                                  if (addTileSelectedType) {\n                                    const name = (e.attributes as { friendly_name?: string })?.friendly_name ?? e.entity_id;\n                                    const titleOverride = addTileSelectedType === \"nuts_card\" ? (name || \"Gas\") : addTileSelectedType === \"energy_monitor_card\" ? (name || \"Afbeeldingskaart\") : addTileSelectedType === \"stat_pill_card\" ? (name || \"Stat\") : undefined;\n                                    const newId = handleAddTile(addTileSelectedType, e.entity_id, titleOverride);\n                                    if ((addTileSelectedType === \"nuts_card\" || addTileSelectedType === \"stat_pill_card\") && newId) setEditingWidgetId(newId);\n                                  }\n                                  setAddTileOpen(false);\n                                  setAddTileStep(\"type\");\n                                  setAddTileSelectedType(null);\n                                  setAddTileEntitySearch(\"\");\n                                }}\n                                className=\"block w-full px-4 py-2.5 text-left text-sm hover:bg-gray-100 dark:hover:bg-white/10 truncate\"\n                                title={e.entity_id}\n                              >\n                                {name}\n                              </button>\n                            );\n                          });\n                        })()}\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </>,\n              document.body\n            )}\n          </>\n          <div className=\"relative z-[60]\">\n            <button\n              type=\"button\"\n              onClick={handleSave}\n              disabled={saveMutation.isPending}\n              className=\"flex h-8 w-8 items-center justify-center rounded-full bg-gray-200 dark:bg-white/10 text-gray-700 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-white/20\"\n              aria-label=\"Done editing\"\n            >\n              <Check className=\"h-4 w-4\" />\n            </button>\n          </div>\n        </>\n      ) : (\n        <button\n          type=\"button\"\n          onClick={() => setEditMode(true)}\n          className=\"flex h-8 w-8 items-center justify-center rounded-full text-white hover:opacity-90\"\n          style={{ backgroundColor: \"#4D2FB2\" }}\n          aria-label=\"Edit dashboard\"\n        >\n          <Pencil className=\"h-4 w-4\" />\n        </button>\n      )}\n    </>\n  );\n\n  const hasCardGroup = widgets.some((w) => w.type === \"card_group\");\n\n  return (\n    <AppShell\n        activeTab=\"/dashboards\"\n        headerEndAction={headerEndAction}\n        welcomeTitle={welcomeTitle || undefined}\n        welcomeSubtitle={welcomeSubtitle || undefined}\n        welcomeEditable={editMode}\n        onWelcomeChange={editMode ? ({ title, subtitle }) => {\n          setWelcomeTitle(title);\n          setWelcomeSubtitle(subtitle);\n        } : undefined}\n        contentNoScroll={hasCardGroup}\n      >\n      <div className=\"space-y-6 overflow-x-hidden min-h-0\">\n        <div className=\"flex items-center justify-end\">\n          <OfflinePill />\n        </div>\n\n        <div className=\"rounded-card overflow-hidden\">\n          <ReactGridLayout\n            className=\"layout\"\n            layout={layoutForGrid}\n            onLayoutChange={onLayoutChange}\n            cols={12}\n            rowHeight={52}\n            width={1200}\n            margin={[6, 4]}\n            containerPadding={[0, 0]}\n            isDraggable={editMode}\n            isResizable={editMode}\n            draggableHandle={editMode ? \".tile-drag-handle\" : undefined}\n          >\n            {widgets\n            .filter((w) => w.type !== \"media_card\" && w.type !== \"climate_card\" && w.type !== \"climate_card_2\" && w.type !== \"light_card\" && w.type !== \"solar_card\" && w.type !== \"energy_monitor_card\" && w.type !== \"stat_pill_card\" && w.type !== \"weather_card\" && w.type !== \"vacuum_card\" && w.type !== \"camera_card\" && w.type !== \"title_card\" && w.type !== \"pill_card\" && w.type !== \"room_card\" && w.type !== \"nuts_card\" && w.type !== \"card_group\")\n            .map((w) => {\n              const item = layoutMap.get(w.id);\n              if (!item) return null;\n              return (\n                <div\n                  key={w.id}\n                  className=\"relative h-full w-full\"\n                  {...(!editMode && {\n                    onPointerDown: startLongPressForEdit,\n                    onPointerUp: clearLongPressTimerAndRelease,\n                    onPointerLeave: clearLongPressTimerAndRelease,\n                    onPointerCancel: clearLongPressTimerAndRelease,\n                    onContextMenu: (e: React.MouseEvent) => e.preventDefault(),\n                    style: { touchAction: \"none\" },\n                  })}\n                >\n                  {editMode && (\n                    <>\n                      <button\n                        type=\"button\"\n                        onClick={() => setEditingWidgetId(w.id)}\n                        className=\"absolute -right-8 -top-1 z-10 flex h-6 w-6 items-center justify-center rounded-full bg-gray-600 text-white shadow hover:bg-gray-700\"\n                        aria-label=\"Edit tile\"\n                      >\n                        <Pencil className=\"h-3.5 w-3.5\" />\n                      </button>\n                      <button\n                        type=\"button\"\n                        onClick={() => handleRemoveTile(w.id)}\n                        className=\"absolute -right-1 -top-1 z-10 flex h-6 w-6 items-center justify-center rounded-full bg-red-500 text-white shadow hover:bg-red-600\"\n                        aria-label=\"Remove tile\"\n                      >\n                        <X className=\"h-3.5 w-3.5\" />\n                      </button>\n                    </>\n                  )}\n                  <div className={cn(\"h-full w-full\", editMode && \"tile-drag-handle cursor-grab touch-none\")}>\n                    <WidgetByType\n                      type={w.type}\n                      title={w.title}\n                      entity_id={w.entity_id}\n                      consumption_entity_id={w.consumption_entity_id}\n                      humidity_entity_id={w.humidity_entity_id}\n                      show_icon={w.show_icon}\n                      script_ids={w.script_ids}\n                      script_names={w.script_names}\n                      cleaned_area_entity_id={w.cleaned_area_entity_id}\n                      light_entity_id={w.light_entity_id}\n                      background_image={w.background_image}\n                      background_image_dark={w.background_image_dark}\n                      image_conditions={w.image_conditions}\n                      icon={w.icon}\n                      size={w.size}\n                      conditions={w.conditions}\n                      current_entity_id={w.current_entity_id}\n                      max_value={w.max_value}\n                      grid_entity_id={w.grid_entity_id}\n                      minimal={w.minimal}\n                      label={w.label}\n                      color={w.color}\n                    />\n                  </div>\n                </div>\n              );\n            })}\n          </ReactGridLayout>\n        </div>\n\n        {(() => {\n          const firstMedia = widgets.find((w) => w.type === \"media_card\");\n          return firstMedia ? (\n            <FloatingMediaCard\n              title={firstMedia.title ?? \"Media\"}\n              entity_id={firstMedia.entity_id}\n              editMode={editMode}\n              onEnterEditMode={() => setEditMode(true)}\n              onEdit={\n                editMode\n                  ? () => setEditingWidgetId(firstMedia.id)\n                  : undefined\n              }\n              onRemove={\n                editMode\n                  ? () => handleRemoveTile(firstMedia.id)\n                  : undefined\n              }\n            />\n          ) : null;\n        })()}\n\n        {(() => {\n          const climateCards = widgets.filter(\n            (w) => w.type === \"climate_card\" || w.type === \"climate_card_2\"\n          );\n          return climateCards.length > 0 ? (\n            <FloatingClimateCard\n              widgets={climateCards.map((w) => ({\n                id: w.id,\n                title: w.title ?? \"Climate\",\n                entity_id: w.entity_id,\n                humidity_entity_id: w.humidity_entity_id,\n                icon: w.icon,\n                type: w.type === \"climate_card_2\" ? \"climate_card_2\" : \"climate_card\",\n                width: w.width,\n                height: w.height,\n              }))}\n              editMode={editMode}\n              onEnterEditMode={() => setEditMode(true)}\n              onEdit={editMode ? (id) => setEditingWidgetId(id) : undefined}\n              onRemove={editMode ? (id) => handleRemoveTile(id) : undefined}\n            />\n          ) : null;\n        })()}\n\n        {widgets\n          .filter((w) => w.type === \"light_card\")\n          .map((w, i) => (\n            <FloatingLightCard\n              key={w.id}\n              widget={{\n                id: w.id,\n                title: w.title ?? \"Lamp\",\n                entity_id: w.entity_id,\n                icon: w.icon,\n              }}\n              widgetIndex={i}\n              editMode={editMode}\n              onEnterEditMode={() => setEditMode(true)}\n              onEdit={() => {\n                setEditMode(true);\n                setEditingWidgetId(w.id);\n              }}\n              onRemove={editMode ? () => handleRemoveTile(w.id) : undefined}\n            />\n          ))}\n\n        {(() => {\n          const firstSolar = widgets.find((w) => w.type === \"solar_card\");\n          return firstSolar ? (\n            <FloatingSolarCard\n              title={firstSolar.title ?? \"Zonnepanelen\"}\n              entity_id={firstSolar.entity_id}\n              consumption_entity_id={firstSolar.consumption_entity_id}\n              editMode={editMode}\n              onEnterEditMode={() => setEditMode(true)}\n              onEdit={\n                editMode\n                  ? () => setEditingWidgetId(firstSolar.id)\n                  : undefined\n              }\n              onRemove={\n                editMode\n                  ? () => handleRemoveTile(firstSolar.id)\n                  : undefined\n              }\n            />\n          ) : null;\n        })()}\n\n        {(() => {\n          const firstEnergyMonitor = widgets.find((w) => w.type === \"energy_monitor_card\");\n          return firstEnergyMonitor ? (\n            <FloatingEnergyMonitorCard\n              title={firstEnergyMonitor.title ?? \"Afbeeldingskaart\"}\n              entity_id={firstEnergyMonitor.entity_id}\n              background_image={firstEnergyMonitor.background_image}\n              background_image_dark={firstEnergyMonitor.background_image_dark}\n              image_conditions={firstEnergyMonitor.image_conditions}\n              minimal={firstEnergyMonitor.minimal}\n              scale={firstEnergyMonitor.scale}\n              editMode={editMode}\n              onEnterEditMode={() => setEditMode(true)}\n              onEdit={\n                editMode\n                  ? () => setEditingWidgetId(firstEnergyMonitor.id)\n                  : undefined\n              }\n              onRemove={\n                editMode\n                  ? () => handleRemoveTile(firstEnergyMonitor.id)\n                  : undefined\n              }\n            />\n          ) : null;\n        })()}\n\n        {typeof document !== \"undefined\" &&\n          widgets.some((w) => w.type === \"stat_pill_card\") &&\n          createPortal(\n            widgets\n              .filter((w) => w.type === \"stat_pill_card\")\n              .map((w, i) => (\n                <FloatingStatPillCard\n                  key={w.id}\n                  widgetId={w.id}\n                  widgetIndex={i}\n                  title={w.title ?? \"Stat\"}\n                  entity_id={w.entity_id}\n                  label={w.label}\n                  icon={w.icon}\n                  color={(w.color as \"amber\" | \"purple\" | \"emerald\" | \"red\") ?? \"amber\"}\n                  conditions={w.conditions as SensorCondition[] | undefined}\n                  size={(w.size as \"sm\" | \"md\" | \"lg\") ?? \"md\"}\n                  editMode={editMode}\n                  onEnterEditMode={() => setEditMode(true)}\n                  onEdit={editMode ? () => setEditingWidgetId(w.id) : undefined}\n                  onRemove={editMode ? () => handleRemoveTile(w.id) : undefined}\n                />\n              )),\n            document.body\n          )}\n\n        {typeof document !== \"undefined\" &&\n          widgets.some((w) => w.type === \"sensor_card\") &&\n          createPortal(\n            widgets\n              .filter((w) => w.type === \"sensor_card\")\n              .map((w, i) => (\n                <FloatingSensorCard\n                  key={w.id}\n                  widgetId={w.id}\n                  widgetIndex={i}\n                  title={w.title ?? \"Sensor\"}\n                  entity_id={w.entity_id}\n                  icon={w.icon}\n                  show_icon={w.show_icon !== false}\n                  size={(w.size as \"sm\" | \"md\" | \"lg\") ?? \"md\"}\n                  conditions={w.conditions as SensorCondition[] | undefined}\n                  editMode={editMode}\n                  onEnterEditMode={() => setEditMode(true)}\n                  onEdit={editMode ? () => setEditingWidgetId(w.id) : undefined}\n                  onRemove={editMode ? () => handleRemoveTile(w.id) : undefined}\n                />\n              )),\n            document.body\n          )}\n\n        {(() => {\n          const firstWeather = widgets.find((w) => w.type === \"weather_card\");\n          return firstWeather ? (\n            <FloatingWeatherCard\n              title={firstWeather.title ?? \"Weather\"}\n              entity_id={firstWeather.entity_id}\n              show_icon={firstWeather.show_icon}\n              width={firstWeather.width}\n              height={firstWeather.height}\n              editMode={editMode}\n              onEnterEditMode={() => setEditMode(true)}\n              onEdit={\n                editMode\n                  ? () => setEditingWidgetId(firstWeather.id)\n                  : undefined\n              }\n              onRemove={\n                editMode\n                  ? () => handleRemoveTile(firstWeather.id)\n                  : undefined\n              }\n            />\n          ) : null;\n        })()}\n\n        {(() => {\n          const firstCamera = widgets.find((w) => w.type === \"camera_card\");\n          return firstCamera ? (\n            <FloatingCameraCard\n              title={firstCamera.title ?? \"Camera\"}\n              entity_id={firstCamera.entity_id}\n              refresh={firstCamera.refresh}\n              show_title={firstCamera.show_title}\n              width={firstCamera.width}\n              height={firstCamera.height}\n              editMode={editMode}\n              onEnterEditMode={() => setEditMode(true)}\n              onEdit={\n                editMode\n                  ? () => setEditingWidgetId(firstCamera.id)\n                  : undefined\n              }\n              onRemove={\n                editMode\n                  ? () => handleRemoveTile(firstCamera.id)\n                  : undefined\n              }\n            />\n          ) : null;\n        })()}\n\n        {(() => {\n          const firstVacuum = widgets.find((w) => w.type === \"vacuum_card\");\n          return firstVacuum ? (\n            <FloatingVacuumCard\n              title={firstVacuum.title ?? \"Stofzuiger\"}\n              entity_id={firstVacuum.entity_id}\n              script_ids={firstVacuum.script_ids}\n              script_names={firstVacuum.script_names}\n              cleaned_area_entity_id={firstVacuum.cleaned_area_entity_id}\n              icon={firstVacuum.icon}\n              editMode={editMode}\n              onEnterEditMode={() => setEditMode(true)}\n              onEdit={\n                editMode\n                  ? () => setEditingWidgetId(firstVacuum.id)\n                  : undefined\n              }\n              onRemove={\n                editMode\n                  ? () => handleRemoveTile(firstVacuum.id)\n                  : undefined\n              }\n            />\n          ) : null;\n        })()}\n\n        {widgets\n          .filter((w) => w.type === \"room_card\")\n          .map((w, i) => (\n            <FloatingRoomCard\n              key={w.id}\n              widget={{\n                id: w.id,\n                title: w.title ?? \"Kamer\",\n                entity_id: w.entity_id,\n                icon: w.icon,\n                light_entity_id: w.light_entity_id,\n                background_image: w.background_image,\n                icon_background_color: w.icon_background_color,\n                width: w.width,\n                height: w.height,\n              }}\n              widgetIndex={i}\n              editMode={editMode}\n              onEnterEditMode={() => setEditMode(true)}\n              onEdit={editMode ? () => setEditingWidgetId(w.id) : undefined}\n              onRemove={editMode ? () => handleRemoveTile(w.id) : undefined}\n            />\n          ))}\n\n        {widgets\n          .filter((w) => w.type === \"nuts_card\")\n          .map((w, i) => (\n            <FloatingNutsCard\n              key={w.id}\n              widget={{\n                id: w.id,\n                title: w.title ?? \"Gas\",\n                entity_id: w.entity_id,\n                current_entity_id: w.current_entity_id,\n                icon: w.icon,\n                icon_background_color: w.icon_background_color,\n                max_value: w.max_value,\n                width: w.width ?? 250,\n                height: w.height ?? 130,\n              }}\n              widgetIndex={i}\n              editMode={editMode}\n              onEnterEditMode={() => setEditMode(true)}\n              onEdit={editMode ? () => setEditingWidgetId(w.id) : undefined}\n              onRemove={editMode ? () => handleRemoveTile(w.id) : undefined}\n            />\n          ))}\n\n        {(() => {\n          const titleCards = widgets.filter((w) => w.type === \"title_card\");\n          return titleCards.length > 0 ? (\n            <FloatingTitleCard\n              widgets={titleCards.map((w) => ({\n                id: w.id,\n                title: w.title ?? \"Titel\",\n              }))}\n              editMode={editMode}\n              onEnterEditMode={() => setEditMode(true)}\n              onEdit={editMode ? (id) => setEditingWidgetId(id) : undefined}\n              onRemove={editMode ? (id) => handleRemoveTile(id) : undefined}\n            />\n          ) : null;\n        })()}\n\n        {widgets\n          .filter((w) => w.type === \"pill_card\")\n          .map((w, i) => (\n            <FloatingPillCard\n              key={w.id}\n              widget={{\n                id: w.id,\n                title: w.title ?? \"Pill\",\n                entity_id: w.entity_id,\n                icon: w.icon,\n                conditions: w.conditions as SensorCondition[] | undefined,\n                show_state: w.show_state,\n              }}\n              widgetIndex={i}\n              editMode={editMode}\n              onEnterEditMode={() => setEditMode(true)}\n              onEdit={editMode ? () => setEditingWidgetId(w.id) : undefined}\n              onRemove={editMode ? () => handleRemoveTile(w.id) : undefined}\n            />\n          ))}\n\n        {typeof document !== \"undefined\" &&\n          createPortal(\n            widgets\n              .filter((w) => w.type === \"card_group\")\n              .map((g, i) => (\n                <FloatingCardGroup\n                  key={g.id}\n                  group={g}\n                  widgetIndex={i}\n                  editMode={editMode}\n                  onEnterEditMode={() => setEditMode(true)}\n                  onEdit={editMode ? () => setEditingWidgetId(g.id) : undefined}\n                  onRemove={editMode ? () => handleRemoveTile(g.id) : undefined}\n                />\n              )),\n            document.body\n          )}\n\n        {editingWidgetId && editingWidget && typeof document !== \"undefined\" && createPortal(\n          <>\n            <div\n              className=\"fixed inset-0 z-40 bg-black/50 backdrop-blur-xl\"\n              aria-hidden\n              onClick={() => {\n                if (editingWidget?.type === \"card_group\" && editingGroupChildId) {\n                  setEditingGroupChildId(null);\n                } else {\n                  setEditingWidgetId(null);\n                }\n              }}\n            />\n            <div className={cn(\n              \"fixed left-1/2 top-1/2 z-50 w-full -translate-x-1/2 -translate-y-1/2 rounded-xl border border-gray-200 bg-white p-4 shadow-xl dark:border-white/10 dark:bg-black/50 dark:backdrop-blur-xl max-h-[90vh] flex flex-col\",\n              editingWidget.type === \"room_card\" ? \"max-w-md\" : \"max-w-sm\"\n            )}>\n              <h3 className=\"mb-3 shrink-0 text-sm font-semibold text-gray-900 dark:text-gray-100\">\n                {editingWidget.type === \"title_card\"\n                  ? \"Titel bewerken\"\n                  : editingWidget.type === \"card_group\"\n                    ? editingGroupChildId\n                      ? \"Kaart in groep bewerken\"\n                      : \"Kaartgroep bewerken\"\n                    : editingWidget.type === \"room_card\"\n                      ? \"Kamer bewerken\"\n                      : \"Edit tile\"}\n              </h3>\n              <div className=\"space-y-3 overflow-y-auto min-h-0 flex-1 pr-1 -mr-1\">\n                {editingWidget.type === \"title_card\" ? (\n                  <div>\n                    <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">\n                      Tekst\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={editForm.title}\n                      onChange={(e) =>\n                        setEditForm((prev) => ({ ...prev, title: e.target.value }))\n                      }\n                      placeholder=\"Bijv. Woonkamer, Verlichting\"\n                      className=\"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500\"\n                    />\n                  </div>\n                ) : editingWidget.type === \"card_group\" ? (\n                  editingGroupChildId ? (\n                    <>\n                      <div>\n                        <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">Naam</label>\n                        <input\n                          type=\"text\"\n                          value={editForm.title}\n                          onChange={(e) => setEditForm((prev) => ({ ...prev, title: e.target.value }))}\n                          placeholder=\"Bijv. Woonkamer, Verlichting\"\n                          className=\"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500\"\n                        />\n                      </div>\n                      <div>\n                        <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">Entity</label>\n                        <select\n                          value={editForm.entity_id}\n                          onChange={(e) => setEditForm((prev) => ({ ...prev, entity_id: e.target.value }))}\n                          className=\"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500\"\n                        >\n                          {entities\n                            .filter((e) => PILL_CARD_DOMAINS.some((d) => e.entity_id.startsWith(d + \".\")))\n                            .map((e) => {\n                              const name = (e.attributes as { friendly_name?: string })?.friendly_name ?? e.entity_id;\n                              return (\n                                <option key={e.entity_id} value={e.entity_id}>\n                                  {name}\n                                </option>\n                              );\n                            })}\n                        </select>\n                      </div>\n                      <label className=\"flex items-center justify-between gap-3 cursor-pointer\">\n                        <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">Toon entiteitstatus</span>\n                        <button\n                          type=\"button\"\n                          role=\"switch\"\n                          aria-checked={editForm.show_state !== false}\n                          onClick={() => setEditForm((prev) => ({ ...prev, show_state: prev.show_state === false }))}\n                          className={cn(\n                            \"relative inline-flex h-6 w-11 shrink-0 rounded-full border border-gray-200 dark:border-white/10 transition-colors focus:outline-none focus:ring-2 focus:ring-[#4D2FB2] focus:ring-offset-2 dark:focus:ring-offset-gray-900\",\n                            editForm.show_state !== false ? \"bg-[#4D2FB2] border-transparent\" : \"bg-gray-200 dark:bg-gray-600\"\n                          )}\n                        >\n                          <span\n                            className={cn(\n                              \"pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow ring-0 transition translate-x-0.5\",\n                              editForm.show_state !== false ? \"translate-x-5\" : \"translate-x-1\"\n                            )}\n                          />\n                        </button>\n                      </label>\n                      <div>\n                        <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">Icoon</label>\n                        <input\n                          type=\"text\"\n                          value={pillIconSearch}\n                          onChange={(e) => setPillIconSearch(e.target.value)}\n                          onFocus={() => setPillIconSearch(pillIconSearch || (editForm.icon ?? \"\"))}\n                          placeholder=\"Zoek icoon (bijv. CircleDot, Sun…)\"\n                          className=\"mb-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500\"\n                        />\n                        <div className=\"max-h-32 overflow-auto rounded-lg border border-gray-200 dark:border-white/10 flex flex-wrap gap-1.5 p-1.5\">\n                          <button\n                            type=\"button\"\n                            onClick={() => {\n                              setEditForm((prev) => ({ ...prev, icon: undefined }));\n                              setPillIconSearch(\"\");\n                            }}\n                            className={cn(\n                              \"rounded-md px-2 py-1 text-xs\",\n                              !editForm.icon ? \"bg-[#4D2FB2] text-white\" : \"bg-gray-100 text-gray-700 dark:bg-white/10 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-white/20\"\n                            )}\n                          >\n                            Default (CircleDot)\n                          </button>\n                          {SENSOR_ICON_OPTIONS.filter((name) => name.toLowerCase().includes((pillIconSearch || \"\").toLowerCase())).map((name) => (\n                            <button\n                              key={name}\n                              type=\"button\"\n                              onClick={() => {\n                                setEditForm((prev) => ({ ...prev, icon: name }));\n                                setPillIconSearch(name);\n                              }}\n                              className={cn(\n                                \"rounded-md px-2 py-1 text-xs\",\n                                (editForm.icon ?? \"CircleDot\") === name ? \"bg-[#4D2FB2] text-white\" : \"bg-gray-100 text-gray-700 dark:bg-white/10 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-white/20\"\n                              )}\n                            >\n                              {name}\n                            </button>\n                          ))}\n                        </div>\n                      </div>\n                      <div>\n                        <p className=\"mb-1 text-xs font-medium text-gray-500 dark:text-gray-400\">Voorwaardelijke kleur (eerste match)</p>\n                        {(editForm.conditions ?? []).map((cond, idx) => (\n                          <div key={idx} className=\"flex flex-wrap items-center gap-2 rounded-lg border border-gray-200 dark:border-white/10 p-2 mb-1.5\">\n                            <select\n                              value={cond.operator}\n                              onChange={(e) =>\n                                setEditForm((prev) => ({\n                                  ...prev,\n                                  conditions: (prev.conditions ?? []).map((c, i) => (i === idx ? { ...c, operator: e.target.value } : c)),\n                                }))\n                              }\n                              className=\"rounded border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 dark:text-gray-200 px-2 py-1 text-xs\"\n                            >\n                              {SENSOR_CONDITION_OPERATORS.map((op) => (\n                                <option key={op} value={op}>\n                                  {SENSOR_CONDITION_OPERATOR_LABELS[op] ?? op}\n                                </option>\n                              ))}\n                            </select>\n                            <input\n                              type=\"text\"\n                              value={cond.value}\n                              onChange={(e) =>\n                                setEditForm((prev) => ({\n                                  ...prev,\n                                  conditions: (prev.conditions ?? []).map((c, i) => (i === idx ? { ...c, value: e.target.value } : c)),\n                                }))\n                              }\n                              placeholder=\"Waarde\"\n                              className=\"w-20 rounded border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 dark:text-gray-200 px-2 py-1 text-xs\"\n                            />\n                            <select\n                              value={cond.color}\n                              onChange={(e) =>\n                                setEditForm((prev) => ({\n                                  ...prev,\n                                  conditions: (prev.conditions ?? []).map((c, i) => (i === idx ? { ...c, color: e.target.value } : c)),\n                                }))\n                              }\n                              className=\"rounded border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 dark:text-gray-200 px-2 py-1 text-xs\"\n                            >\n                              {SENSOR_CONDITION_COLORS.map((color) => (\n                                <option key={color} value={color}>\n                                  {color}\n                                </option>\n                              ))}\n                            </select>\n                            <button\n                              type=\"button\"\n                              onClick={() =>\n                                setEditForm((prev) => ({\n                                  ...prev,\n                                  conditions: (prev.conditions ?? []).filter((_, i) => i !== idx),\n                                }))\n                              }\n                              className=\"p-1 rounded text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20\"\n                              aria-label=\"Verwijder voorwaarde\"\n                            >\n                              <X className=\"h-4 w-4\" />\n                            </button>\n                          </div>\n                        ))}\n                        <button\n                          type=\"button\"\n                          onClick={() =>\n                            setEditForm((prev) => ({\n                              ...prev,\n                              conditions: [...(prev.conditions ?? []), { operator: \"eq\", value: \"\", color: \"green\" }],\n                            }))\n                          }\n                          className=\"rounded-lg border border-dashed border-gray-300 dark:border-white/20 px-3 py-2 text-xs text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-white/5 w-full\"\n                        >\n                          + Voeg voorwaarde toe\n                        </button>\n                      </div>\n                    </>\n                  ) : (\n                  <div className=\"space-y-3\">\n                    <p className=\"text-xs font-medium text-gray-500 dark:text-gray-400\">Uitlijning</p>\n                    <div className=\"flex flex-wrap gap-1.5 rounded-lg border border-gray-200 dark:border-white/10 p-1.5\">\n                      {([\"start\", \"center\", \"end\", \"between\"] as const).map((align) => (\n                        <button\n                          key={align}\n                          type=\"button\"\n                          onClick={() => {\n                            const nextWidgets = widgets.map((w) => (w.id === editingWidget.id ? { ...w, alignment: align } : w));\n                            setWidgets(nextWidgets);\n                            saveMutation.mutate({ layout, widgets: nextWidgets, welcomeTitle, welcomeSubtitle });\n                          }}\n                          className={cn(\n                            \"rounded-md px-2 py-1 text-xs\",\n                            (editingWidget.alignment ?? \"start\") === align\n                              ? \"bg-[#4D2FB2] text-white\"\n                              : \"bg-gray-100 text-gray-700 dark:bg-white/10 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-white/20\"\n                          )}\n                        >\n                          {align === \"start\" ? \"Links\" : align === \"center\" ? \"Midden\" : align === \"end\" ? \"Rechts\" : \"Tussen\"}\n                        </button>\n                      ))}\n                    </div>\n                    <p className=\"text-xs font-medium text-gray-500 dark:text-gray-400 pt-1\">Kaarten in groep</p>\n                    <ul className=\"space-y-1 max-h-32 overflow-auto rounded-lg border border-gray-200 dark:border-white/10 divide-y divide-gray-100 dark:divide-white/5\">\n                      {(editingWidget.children ?? []).map((c) => (\n                        <li key={c.id} className=\"flex items-center justify-between gap-2 px-3 py-2 text-sm\">\n                          <span className=\"truncate text-gray-900 dark:text-gray-100\">{c.title || c.entity_id}</span>\n                          <div className=\"flex items-center gap-1 shrink-0\">\n                            <button\n                              type=\"button\"\n                              onClick={() => setEditingGroupChildId(c.id)}\n                              className=\"p-1 rounded text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-white/10\"\n                              aria-label=\"Bewerken\"\n                              title=\"Kaart bewerken\"\n                            >\n                              <Pencil className=\"h-4 w-4\" />\n                            </button>\n                            <button\n                              type=\"button\"\n                              onClick={() => {\n                                const nextChildren = (editingWidget.children ?? []).filter((x) => x.id !== c.id);\n                                const nextWidgets = widgets.map((w) => (w.id === editingWidget.id ? { ...w, children: nextChildren } : w));\n                                setWidgets(nextWidgets);\n                                saveMutation.mutate({ layout, widgets: nextWidgets, welcomeTitle, welcomeSubtitle });\n                              }}\n                              className=\"p-1 rounded text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20\"\n                              aria-label=\"Verwijderen\"\n                            >\n                              <X className=\"h-4 w-4\" />\n                            </button>\n                          </div>\n                        </li>\n                      ))}\n                    </ul>\n                    <p className=\"text-xs font-medium text-gray-500 dark:text-gray-400\">Kaart toevoegen</p>\n                    <input\n                      type=\"text\"\n                      value={groupAddEntitySearch}\n                      onChange={(e) => setGroupAddEntitySearch(e.target.value)}\n                      placeholder=\"Zoek op naam of entity_id (bijv. sensor.woonkamer)…\"\n                      className=\"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500\"\n                    />\n                    <div className=\"max-h-40 overflow-auto rounded-lg border border-gray-200 dark:border-white/10 divide-y divide-gray-100 dark:divide-white/5\">\n                      {entities\n                        .filter((e) => PILL_CARD_DOMAINS.some((d) => e.entity_id.startsWith(d + \".\")))\n                        .filter((e) => {\n                          const q = groupAddEntitySearch.trim().toLowerCase();\n                          if (!q) return true;\n                          const name = ((e.attributes as { friendly_name?: string })?.friendly_name ?? e.entity_id).toLowerCase();\n                          return name.includes(q) || e.entity_id.toLowerCase().includes(q);\n                        })\n                        .map((e) => {\n                          const name = (e.attributes as { friendly_name?: string })?.friendly_name ?? e.entity_id;\n                          return (\n                            <button\n                              key={e.entity_id}\n                              type=\"button\"\n                              onClick={() => {\n                                const newPill: WidgetConfig = {\n                                  id: generateId(),\n                                  type: \"pill_card\",\n                                  title: name,\n                                  entity_id: e.entity_id,\n                                };\n                                const nextChildren = [...(editingWidget.children ?? []), newPill];\n                                const nextWidgets = widgets.map((w) => (w.id === editingWidget.id ? { ...w, children: nextChildren } : w));\n                                setWidgets(nextWidgets);\n                                saveMutation.mutate({ layout, widgets: nextWidgets, welcomeTitle, welcomeSubtitle });\n                                setGroupAddEntitySearch(\"\");\n                              }}\n                              className=\"block w-full px-4 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-white/10 truncate\"\n                            >\n                              {name}\n                            </button>\n                          );\n                        })}\n                    </div>\n                  </div>\n                  )\n                ) : (\n                  <>\n                <div>\n                  <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">\n                    Name\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={editForm.title}\n                    onChange={(e) =>\n                      setEditForm((prev) => ({ ...prev, title: e.target.value }))\n                    }\n                    placeholder=\"Tile name\"\n                    className=\"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500\"\n                  />\n                </div>\n                {(editingWidget.entity_id != null || editingWidget.type === \"energy_monitor_card\") && editingWidget.type !== \"title_card\" && (\n                  <div>\n                    <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">\n                      {editingWidget.type === \"solar_card\"\n                        ? \"Yield (opbrengst)\"\n                        : editingWidget.type === \"energy_monitor_card\"\n                          ? \"Entity voor voorwaarden (bijv. weather.home)\"\n                          : editingWidget.type === \"stat_pill_card\"\n                            ? \"Sensor\"\n                            : \"Entity\"}\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={editEntitySearch}\n                      onChange={(e) => setEditEntitySearch(e.target.value)}\n                      placeholder=\"Zoek op naam of entity_id (bijv. sensor.woonkamer)…\"\n                      className=\"mb-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500\"\n                    />\n                    <select\n                      value={editForm.entity_id}\n                      onChange={(e) =>\n                        setEditForm((prev) => ({ ...prev, entity_id: e.target.value }))\n                      }\n                      className=\"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500\"\n                    >\n                      {(() => {\n                        let options =\n                          editingWidget.type === \"pill_card\"\n                            ? entities.filter((e) =>\n                                PILL_CARD_DOMAINS.some((d) =>\n                                  e.entity_id.startsWith(d + \".\")\n                                )\n                              )\n                            : editingWidget.type === \"room_card\"\n                              ? entities\n                              : editingWidget.type === \"energy_monitor_card\"\n                                ? entities.filter((e) =>\n                                    e.entity_id.startsWith(\"weather.\") || e.entity_id.startsWith(\"sensor.\")\n                                  )\n                                : entities.filter((e) =>\n                                    e.entity_id.startsWith(\n                                      (WIDGET_TYPE_DOMAIN[editingWidget.type] ?? \"sensor\") + \".\"\n                                    )\n                                  );\n                        const q = editEntitySearch.trim().toLowerCase();\n                        if (q) {\n                          options = options.filter((e) => {\n                            const name = ((e.attributes as { friendly_name?: string })?.friendly_name ?? e.entity_id).toLowerCase();\n                            return name.includes(q) || e.entity_id.toLowerCase().includes(q);\n                          });\n                          const currentId = editForm.entity_id;\n                          if (currentId && !options.some((e) => e.entity_id === currentId)) {\n                            const current = entities.find((e) => e.entity_id === currentId);\n                            if (current) options = [current, ...options];\n                          }\n                        }\n                        const opts = options.map((e) => {\n                          const name =\n                            (e.attributes as { friendly_name?: string })\n                              ?.friendly_name ?? e.entity_id;\n                          return (\n                            <option key={e.entity_id} value={e.entity_id}>\n                              {name}\n                            </option>\n                          );\n                        });\n                        if (editingWidget.type === \"energy_monitor_card\") {\n                          return [<option key=\"\" value=\"\">Geen (alleen standaardafbeelding)</option>, ...opts];\n                        }\n                        return opts;\n                      })()}\n                    </select>\n                  </div>\n                )}\n                {editingWidget.type === \"light_card\" && (\n                  <div>\n                    <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">\n                      Icoon\n                    </label>\n                    <div className=\"flex flex-wrap gap-1.5 rounded-lg border border-gray-200 dark:border-white/10 p-1.5\">\n                      {LIGHT_ICON_OPTIONS.map((key) => {\n                        const label =\n                          key === \"lightbulb\"\n                            ? \"Lightbulb\"\n                            : key === \"spotlight\"\n                              ? \"Spotlight\"\n                              : key === \"lamp\"\n                                ? \"Lamp\"\n                                : key === \"lamp-ceiling\"\n                                  ? \"Plafond\"\n                                  : key === \"lamp-desk\"\n                                    ? \"Bureau\"\n                                    : key === \"lamp-floor\"\n                                      ? \"Vloer\"\n                                      : key === \"lamp-wall-down\"\n                                        ? \"Wall down\"\n                                        : \"Wall up\";\n                        return (\n                          <button\n                            key={key}\n                            type=\"button\"\n                            onClick={() =>\n                              setEditForm((prev) => ({ ...prev, icon: key }))\n                            }\n                            className={cn(\n                              \"rounded-md px-2 py-1 text-xs\",\n                              (editForm.icon ?? \"lightbulb\") === key\n                                ? \"bg-[#4D2FB2] text-white\"\n                                : \"bg-gray-100 text-gray-700 dark:bg-white/10 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-white/20\"\n                            )}\n                          >\n                            {label}\n                          </button>\n                        );\n                      })}\n                    </div>\n                  </div>\n                )}\n                {editingWidget.type === \"room_card\" && (\n                  <>\n                    <div className=\"flex gap-1 rounded-lg bg-gray-100 dark:bg-white/5 p-0.5 mb-2\">\n                      {([\"algemeen\", \"achtergrond\", \"weergave\"] as const).map((tab) => (\n                        <button\n                          key={tab}\n                          type=\"button\"\n                          onClick={() => setRoomCardEditTab(tab)}\n                          className={cn(\n                            \"flex-1 rounded-md px-2 py-1.5 text-xs font-medium transition-colors\",\n                            roomCardEditTab === tab\n                              ? \"bg-white dark:bg-white/10 text-gray-900 dark:text-white shadow-sm\"\n                              : \"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white\"\n                          )}\n                        >\n                          {tab === \"algemeen\" ? \"Algemeen\" : tab === \"achtergrond\" ? \"Achtergrond\" : \"Weergave\"}\n                        </button>\n                      ))}\n                    </div>\n                    {roomCardEditTab === \"algemeen\" && (\n                      <div className=\"space-y-3\">\n                        <div>\n                          <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">Icoon</label>\n                          <input\n                            type=\"text\"\n                            value={iconSearch || \"\"}\n                            onChange={(e) => setIconSearch(e.target.value)}\n                            placeholder=\"Zoek icoon...\"\n                            className=\"mb-1.5 w-full rounded-lg border border-gray-200 bg-white px-2 py-1.5 text-sm dark:border-white/10 dark:bg-white/5 dark:text-gray-200\"\n                          />\n                          <div className=\"flex flex-wrap gap-1.5 rounded-lg border border-gray-200 dark:border-white/10 p-1.5 max-h-28 overflow-auto\">\n                            {CARD_ICON_OPTIONS.filter((name) =>\n                              name.toLowerCase().includes((iconSearch || \"\").toLowerCase())\n                            ).map((name) => (\n                              <button\n                                key={name}\n                                type=\"button\"\n                                onClick={() => setEditForm((prev) => ({ ...prev, icon: name }))}\n                                className={cn(\n                                  \"rounded-md px-2 py-1 text-xs\",\n                                  (editForm.icon ?? \"Home\") === name\n                                    ? \"bg-[#4D2FB2] text-white\"\n                                    : \"bg-gray-100 text-gray-700 dark:bg-white/10 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-white/20\"\n                                )}\n                              >\n                                {name}\n                              </button>\n                            ))}\n                          </div>\n                        </div>\n                        <div>\n                          <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">Licht-entiteit (optioneel)</label>\n                          <select\n                            value={editForm.light_entity_id ?? \"\"}\n                            onChange={(e) => setEditForm((prev) => ({ ...prev, light_entity_id: e.target.value || undefined }))}\n                            className=\"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500\"\n                          >\n                            <option value=\"\">Geen</option>\n                            {entities\n                              .filter((e) => e.entity_id.startsWith(\"light.\") || e.entity_id.startsWith(\"group.\"))\n                              .map((e) => {\n                                const name = (e.attributes as { friendly_name?: string })?.friendly_name ?? e.entity_id;\n                                return <option key={e.entity_id} value={e.entity_id}>{name}</option>;\n                              })}\n                          </select>\n                        </div>\n                        <div>\n                          <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">Kleur icoon-badge</label>\n                          <div className=\"flex items-center gap-2\">\n                            <input\n                              type=\"color\"\n                              value={editForm.icon_background_color && /^#[0-9A-Fa-f]{6}$/.test(editForm.icon_background_color) ? editForm.icon_background_color : \"#3B82F6\"}\n                              onChange={(e) => setEditForm((prev) => ({ ...prev, icon_background_color: e.target.value }))}\n                              className=\"h-10 w-14 cursor-pointer rounded border border-gray-200 dark:border-white/10 bg-transparent\"\n                            />\n                            <input\n                              type=\"text\"\n                              value={editForm.icon_background_color ?? \"\"}\n                              onChange={(e) => setEditForm((prev) => ({ ...prev, icon_background_color: e.target.value || undefined }))}\n                              placeholder=\"#3B82F6\"\n                              className=\"flex-1 rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500\"\n                            />\n                          </div>\n                        </div>\n                      </div>\n                    )}\n                    {roomCardEditTab === \"achtergrond\" && (\n                      <div className=\"space-y-3\">\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                          Upload een foto van de kamer of plak een URL (bijv. van een camera-feed).\n                        </p>\n                        {editForm.background_image && (\n                          <div\n                            className=\"h-24 rounded-lg bg-cover bg-center border border-gray-200 dark:border-white/10\"\n                            style={{ backgroundImage: `url(${editForm.background_image})` }}\n                          />\n                        )}\n                        <div className=\"flex gap-2\">\n                          <label className=\"rounded-lg border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 cursor-pointer hover:bg-gray-50 dark:hover:bg-white/10\">\n                            {uploadingRoomBg ? \"Uploaden…\" : \"Upload afbeelding\"}\n                            <input\n                              type=\"file\"\n                              accept=\"image/jpeg,image/png,image/webp,image/gif\"\n                              className=\"sr-only\"\n                              onChange={async (e) => {\n                                const file = e.target.files?.[0];\n                                if (!file || !editingWidgetId) return;\n                                e.target.value = \"\";\n                                setUploadingRoomBg(true);\n                                try {\n                                  const formData = new FormData();\n                                  formData.set(\"file\", file);\n                                  const res = await fetch(\"/api/upload\", { method: \"POST\", body: formData });\n                                  const json = await res.json();\n                                  if (!res.ok) throw new Error(json.error || \"Upload failed\");\n                                  setEditForm((prev) => ({ ...prev, background_image: json.url }));\n                                } finally {\n                                  setUploadingRoomBg(false);\n                                }\n                              }}\n                              disabled={uploadingRoomBg}\n                            />\n                          </label>\n                          {editForm.background_image && (\n                            <button\n                              type=\"button\"\n                              onClick={() => setEditForm((prev) => ({ ...prev, background_image: undefined }))}\n                              className=\"rounded-lg border border-gray-200 dark:border-white/10 px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-white/10\"\n                            >\n                              Verwijderen\n                            </button>\n                          )}\n                        </div>\n                        <input\n                          type=\"url\"\n                          value={editForm.background_image ?? \"\"}\n                          onChange={(e) => setEditForm((prev) => ({ ...prev, background_image: e.target.value || undefined }))}\n                          placeholder=\"/uploads/... of https://...\"\n                          className=\"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500\"\n                        />\n                      </div>\n                    )}\n                    {roomCardEditTab === \"weergave\" && (\n                      <div className=\"space-y-3\">\n                        <div>\n                          <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">Breedte kaart (px)</label>\n                          <input\n                            type=\"number\"\n                            min={200}\n                            max={500}\n                            step={10}\n                            value={editForm.width ?? 280}\n                            onChange={(e) => {\n                              const v = e.target.value === \"\" ? undefined : Number(e.target.value);\n                              setEditForm((prev) => ({ ...prev, width: v != null && !Number.isNaN(v) ? v : undefined }));\n                            }}\n                            placeholder=\"280\"\n                            className=\"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500\"\n                          />\n                          <p className=\"mt-0.5 text-xs text-gray-400 dark:text-gray-500\">200–500 px (standaard 280)</p>\n                        </div>\n                        <div>\n                          <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">Hoogte kaart (px)</label>\n                          <input\n                            type=\"number\"\n                            min={80}\n                            max={300}\n                            step={10}\n                            value={editForm.height ?? 120}\n                            onChange={(e) => {\n                              const v = e.target.value === \"\" ? undefined : Number(e.target.value);\n                              setEditForm((prev) => ({ ...prev, height: v != null && !Number.isNaN(v) ? v : undefined }));\n                            }}\n                            placeholder=\"120\"\n                            className=\"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500\"\n                          />\n                          <p className=\"mt-0.5 text-xs text-gray-400 dark:text-gray-500\">80–300 px (standaard 120)</p>\n                        </div>\n                      </div>\n                    )}\n                  </>\n                )}\n                {(editingWidget.type === \"climate_card_2\" || editingWidget.type === \"climate_card\") && (\n                  <>\n                    <div>\n                      <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">\n                        Icoon\n                      </label>\n                      <select\n                        value={editForm.icon ?? \"Thermometer\"}\n                        onChange={(e) =>\n                          setEditForm((prev) => ({ ...prev, icon: e.target.value || undefined }))\n                        }\n                        className=\"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 dark:border-white/10 dark:bg-white/5 dark:text-gray-200\"\n                      >\n                        {CARD_ICON_OPTIONS.map((opt) => (\n                          <option key={opt} value={opt}>\n                            {opt}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n                    <div>\n                      <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">\n                        Luchtvochtigheid (optioneel)\n                      </label>\n                      <select\n                        value={editForm.humidity_entity_id ?? \"\"}\n                        onChange={(e) =>\n                          setEditForm((prev) => ({\n                            ...prev,\n                            humidity_entity_id: e.target.value || undefined,\n                          }))\n                        }\n                        className=\"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500\"\n                      >\n                        <option value=\"\">Geen</option>\n                        {entities\n                          .filter((e) => e.entity_id.startsWith(\"sensor.\"))\n                          .map((e) => {\n                            const name =\n                              (e.attributes as { friendly_name?: string })\n                                ?.friendly_name ?? e.entity_id;\n                            return (\n                              <option key={e.entity_id} value={e.entity_id}>\n                                {name}\n                              </option>\n                            );\n                          })}\n                      </select>\n                    </div>\n                    <div>\n                      <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">\n                        Breedte kaart (px)\n                      </label>\n                      <input\n                        type=\"number\"\n                        min={200}\n                        max={500}\n                        step={10}\n                        value={editForm.width ?? 320}\n                        onChange={(e) => {\n                          const v = e.target.value === \"\" ? undefined : Number(e.target.value);\n                          setEditForm((prev) => ({\n                            ...prev,\n                            width: v != null && !Number.isNaN(v) ? v : undefined,\n                          }));\n                        }}\n                        placeholder=\"320\"\n                        className=\"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500\"\n                      />\n                      <p className=\"mt-0.5 text-xs text-gray-400 dark:text-gray-500\">200–500 px (standaard 320)</p>\n                    </div>\n                    <div>\n                      <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">\n                        Hoogte kaart (px)\n                      </label>\n                      <input\n                        type=\"number\"\n                        min={100}\n                        max={400}\n                        step={10}\n                        value={editForm.height ?? 180}\n                        onChange={(e) => {\n                          const v = e.target.value === \"\" ? undefined : Number(e.target.value);\n                          setEditForm((prev) => ({\n                            ...prev,\n                            height: v != null && !Number.isNaN(v) ? v : undefined,\n                          }));\n                        }}\n                        placeholder=\"180\"\n                        className=\"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500\"\n                      />\n                      <p className=\"mt-0.5 text-xs text-gray-400 dark:text-gray-500\">100–400 px (standaard 180)</p>\n                    </div>\n                  </>\n                )}\n                {editingWidget.type === \"solar_card\" && (\n                  <div>\n                    <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">\n                      Consumption (verbruik, optioneel)\n                    </label>\n                    <select\n                      value={editForm.consumption_entity_id ?? \"\"}\n                      onChange={(e) =>\n                        setEditForm((prev) => ({\n                          ...prev,\n                          consumption_entity_id: e.target.value || undefined,\n                        }))\n                      }\n                      className=\"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500\"\n                    >\n                      <option value=\"\">Geen</option>\n                      {entities\n                        .filter((e) => e.entity_id.startsWith(\"sensor.\"))\n                        .map((e) => {\n                          const name =\n                            (e.attributes as { friendly_name?: string })\n                              ?.friendly_name ?? e.entity_id;\n                          return (\n                            <option key={e.entity_id} value={e.entity_id}>\n                              {name}\n                            </option>\n                          );\n                        })}\n                    </select>\n                  </div>\n                )}\n                {editingWidget.type === \"energy_monitor_card\" && (\n                  <>\n                    <div>\n                      <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">\n                        Achtergrondafbeelding light mode (URL)\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={editForm.background_image ?? \"\"}\n                        onChange={(e) =>\n                          setEditForm((prev) => ({\n                            ...prev,\n                            background_image: e.target.value || undefined,\n                          }))\n                        }\n                        placeholder=\"/energy-house.png of https://...\"\n                        className=\"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">\n                        Achtergrondafbeelding dark mode (URL, optioneel)\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={editForm.background_image_dark ?? \"\"}\n                        onChange={(e) =>\n                          setEditForm((prev) => ({\n                            ...prev,\n                            background_image_dark: e.target.value || undefined,\n                          }))\n                        }\n                        placeholder=\"Leeg =zelfde als light mode\"\n                        className=\"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500\"\n                      />\n                      <p className=\"mt-1 text-xs text-gray-500 dark:text-gray-400\">\n                        Plaats afbeeldingen in public/ of gebruik externe URLs.\n                      </p>\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      <input\n                        type=\"checkbox\"\n                        id=\"energy-minimal\"\n                        checked={editForm.minimal ?? false}\n                        onChange={(e) =>\n                          setEditForm((prev) => ({ ...prev, minimal: e.target.checked }))\n                        }\n                        className=\"rounded border-gray-300 text-amber-600 focus:ring-amber-500\"\n                      />\n                      <label htmlFor=\"energy-minimal\" className=\"text-sm text-gray-700 dark:text-gray-300\">\n                        Minimalistisch (alleen afbeelding, geen titel of rand)\n                      </label>\n                    </div>\n                    <div>\n                      <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">\n                        Schaalfactor ({(editForm.scale ?? 1).toFixed(1)}×)\n                      </label>\n                      <input\n                        type=\"range\"\n                        min=\"0.5\"\n                        max=\"1.5\"\n                        step=\"0.1\"\n                        value={editForm.scale ?? 1}\n                        onChange={(e) =>\n                          setEditForm((prev) => ({\n                            ...prev,\n                            scale: parseFloat(e.target.value),\n                          }))\n                        }\n                        className=\"w-full\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">\n                        Voorwaarden (afbeelding bij waarde)\n                      </label>\n                      <p className=\"mb-2 text-xs text-gray-500 dark:text-gray-400\">\n                        Eerste voorwaarde die klopt bepaalt de afbeelding. Bijv. sunny → zon.jpg, rainy → regen.jpg. Entity hierboven moet zijn ingesteld.\n                      </p>\n                      {(editForm.image_conditions ?? []).map((cond, idx) => (\n                        <div key={idx} className=\"flex flex-wrap items-start gap-2 rounded-lg border border-gray-200 dark:border-white/10 p-2 mb-2\">\n                          <select\n                            value={cond.operator}\n                            onChange={(e) =>\n                              setEditForm((prev) => ({\n                                ...prev,\n                                image_conditions: (prev.image_conditions ?? []).map((c, i) =>\n                                  i === idx ? { ...c, operator: e.target.value } : c\n                                ),\n                              }))\n                            }\n                            className=\"rounded border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 dark:text-gray-200 px-2 py-1 text-xs\"\n                          >\n                            {SENSOR_CONDITION_OPERATORS.map((op) => (\n                              <option key={op} value={op}>{SENSOR_CONDITION_OPERATOR_LABELS[op] ?? op}</option>\n                            ))}\n                          </select>\n                          <input\n                            type=\"text\"\n                            value={cond.value}\n                            onChange={(e) =>\n                              setEditForm((prev) => ({\n                                ...prev,\n                                image_conditions: (prev.image_conditions ?? []).map((c, i) =>\n                                  i === idx ? { ...c, value: e.target.value } : c\n                                ),\n                              }))\n                            }\n                            placeholder=\"Waarde (bijv. sunny)\"\n                            className=\"flex-1 min-w-[80px] rounded border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 dark:text-gray-200 px-2 py-1 text-xs\"\n                          />\n                          <input\n                            type=\"text\"\n                            value={cond.image}\n                            onChange={(e) =>\n                              setEditForm((prev) => ({\n                                ...prev,\n                                image_conditions: (prev.image_conditions ?? []).map((c, i) =>\n                                  i === idx ? { ...c, image: e.target.value } : c\n                                ),\n                              }))\n                            }\n                            placeholder=\"Afbeelding (URL)\"\n                            className=\"flex-1 min-w-[100px] rounded border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 dark:text-gray-200 px-2 py-1 text-xs\"\n                          />\n                          <input\n                            type=\"text\"\n                            value={cond.image_dark ?? \"\"}\n                            onChange={(e) =>\n                              setEditForm((prev) => ({\n                                ...prev,\n                                image_conditions: (prev.image_conditions ?? []).map((c, i) =>\n                                  i === idx ? { ...c, image_dark: e.target.value || undefined } : c\n                                ),\n                              }))\n                            }\n                            placeholder=\"Dark (optioneel)\"\n                            className=\"w-24 rounded border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 dark:text-gray-200 px-2 py-1 text-xs\"\n                          />\n                          <button\n                            type=\"button\"\n                            onClick={() =>\n                              setEditForm((prev) => ({\n                                ...prev,\n                                image_conditions: (prev.image_conditions ?? []).filter((_, i) => i !== idx),\n                              }))\n                            }\n                            className=\"p-1 rounded text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20\"\n                          >\n                            <X className=\"h-3.5 w-3.5\" />\n                          </button>\n                        </div>\n                      ))}\n                      <button\n                        type=\"button\"\n                        onClick={() =>\n                          setEditForm((prev) => ({\n                            ...prev,\n                            image_conditions: [...(prev.image_conditions ?? []), { operator: \"eq\", value: \"\", image: \"\", image_dark: undefined }],\n                          }))\n                        }\n                        className=\"rounded-lg border border-dashed border-gray-300 dark:border-white/20 px-3 py-2 text-xs text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-white/5 w-full\"\n                      >\n                        + Voorwaarde toevoegen\n                      </button>\n                    </div>\n                  </>\n                )}\n                {editingWidget.type === \"stat_pill_card\" && (\n                  <>\n                    <div>\n                      <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">\n                        Label (onder de waarde)\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={editForm.label ?? \"\"}\n                        onChange={(e) =>\n                          setEditForm((prev) => ({ ...prev, label: e.target.value || undefined }))\n                        }\n                        placeholder=\"Opbrengst, Verbruik, ...\"\n                        className=\"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">\n                        Icoon\n                      </label>\n                      <select\n                        value={editForm.icon ?? \"Sun\"}\n                        onChange={(e) =>\n                          setEditForm((prev) => ({ ...prev, icon: e.target.value || undefined }))\n                        }\n                        className=\"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 dark:border-white/10 dark:bg-white/5 dark:text-gray-200\"\n                      >\n                        {CARD_ICON_OPTIONS.map((opt) => (\n                          <option key={opt} value={opt}>\n                            {opt}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n                    <div>\n                      <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">\n                        Kleur (standaard)\n                      </label>\n                      <select\n                        value={editForm.color ?? \"amber\"}\n                        onChange={(e) =>\n                          setEditForm((prev) => ({\n                            ...prev,\n                            color: e.target.value as \"amber\" | \"purple\" | \"emerald\" | \"red\",\n                          }))\n                        }\n                        className=\"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 dark:border-white/10 dark:bg-white/5 dark:text-gray-200\"\n                      >\n                        <option value=\"amber\">Amber (geel)</option>\n                        <option value=\"purple\">Paars</option>\n                        <option value=\"emerald\">Smaragd (groen)</option>\n                        <option value=\"red\">Rood</option>\n                      </select>\n                    </div>\n                    <div>\n                      <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">\n                        Voorwaarden (kleur aanpassen bij waarde)\n                      </label>\n                      <p className=\"mb-2 text-xs text-gray-500 dark:text-gray-400\">\n                        Eerste voorwaarde die klopt bepaalt de kleur. Bijv. plastic = groen, papier = blauw.\n                      </p>\n                      {(editForm.conditions ?? []).map((cond, idx) => (\n                        <div\n                          key={idx}\n                          className=\"flex flex-wrap items-center gap-2 rounded-lg border border-gray-200 dark:border-white/10 p-2 mb-2\"\n                        >\n                          <select\n                            value={cond.operator}\n                            onChange={(e) =>\n                              setEditForm((prev) => ({\n                                ...prev,\n                                conditions: (prev.conditions ?? []).map((c, i) =>\n                                  i === idx ? { ...c, operator: e.target.value } : c\n                                ),\n                              }))\n                            }\n                            className=\"rounded border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 dark:text-gray-200 px-2 py-1 text-xs\"\n                          >\n                            {SENSOR_CONDITION_OPERATORS.map((op) => (\n                              <option key={op} value={op}>\n                                {SENSOR_CONDITION_OPERATOR_LABELS[op] ?? op}\n                              </option>\n                            ))}\n                          </select>\n                          <input\n                            type=\"text\"\n                            value={cond.value}\n                            onChange={(e) =>\n                              setEditForm((prev) => ({\n                                ...prev,\n                                conditions: (prev.conditions ?? []).map((c, i) =>\n                                  i === idx ? { ...c, value: e.target.value } : c\n                                ),\n                              }))\n                            }\n                            placeholder=\"Waarde (bijv. plastic)\"\n                            className=\"w-24 rounded border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 dark:text-gray-200 px-2 py-1 text-xs\"\n                          />\n                          <select\n                            value={cond.color}\n                            onChange={(e) =>\n                              setEditForm((prev) => ({\n                                ...prev,\n                                conditions: (prev.conditions ?? []).map((c, i) =>\n                                  i === idx ? { ...c, color: e.target.value } : c\n                                ),\n                              }))\n                            }\n                            className=\"rounded border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 dark:text-gray-200 px-2 py-1 text-xs\"\n                          >\n                            {SENSOR_CONDITION_COLORS.map((color) => (\n                              <option key={color} value={color}>\n                                {color}\n                              </option>\n                            ))}\n                          </select>\n                          <button\n                            type=\"button\"\n                            onClick={() =>\n                              setEditForm((prev) => ({\n                                ...prev,\n                                conditions: (prev.conditions ?? []).filter((_, i) => i !== idx),\n                              }))\n                            }\n                            className=\"p-1 rounded text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20\"\n                            aria-label=\"Verwijder voorwaarde\"\n                          >\n                            <X className=\"h-4 w-4\" />\n                          </button>\n                        </div>\n                      ))}\n                      <button\n                        type=\"button\"\n                        onClick={() =>\n                          setEditForm((prev) => ({\n                            ...prev,\n                            conditions: [...(prev.conditions ?? []), { operator: \"eq\", value: \"\", color: \"green\" }],\n                          }))\n                        }\n                        className=\"rounded-lg border border-dashed border-gray-300 dark:border-white/20 px-3 py-2 text-xs text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-white/5 w-full\"\n                      >\n                        + Voeg voorwaarde toe\n                      </button>\n                    </div>\n                  </>\n                )}\n                {editingWidget.type === \"vacuum_card\" && (\n                  <div>\n                    <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">\n                      Vacuum Room (scripts)\n                    </label>\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400 mb-2\">\n                      Kies scripts en geef ze optioneel een weergavenaam.\n                    </p>\n                    <div className=\"max-h-32 overflow-auto rounded-lg border border-gray-200 dark:border-white/10 p-2 space-y-1 mb-2\">\n                      {entities\n                        .filter((e) => e.entity_id.startsWith(\"script.\"))\n                        .map((e) => {\n                          const defaultName = (e.attributes as { friendly_name?: string })?.friendly_name ?? e.entity_id;\n                          const checked = (editForm.script_ids ?? []).includes(e.entity_id);\n                          return (\n                            <label\n                              key={e.entity_id}\n                              className=\"flex items-center gap-2 py-1.5 px-2 rounded hover:bg-gray-100 dark:hover:bg-white/5 cursor-pointer\"\n                            >\n                              <input\n                                type=\"checkbox\"\n                                checked={checked}\n                                onChange={() => {\n                                  const ids = editForm.script_ids ?? [];\n                                  const names = { ...(editForm.script_names ?? {}) };\n                                  if (checked) {\n                                    delete names[e.entity_id];\n                                  }\n                                  setEditForm((prev) => ({\n                                    ...prev,\n                                    script_ids: checked\n                                      ? ids.filter((id) => id !== e.entity_id)\n                                      : [...ids, e.entity_id],\n                                    script_names: names,\n                                  }));\n                                }}\n                                className=\"h-4 w-4 rounded border-gray-300 dark:border-white/20 text-[#4D2FB2] focus:ring-[#4D2FB2]\"\n                              />\n                              <span className=\"text-sm truncate shrink-0 max-w-[140px]\" title={e.entity_id}>{defaultName}</span>\n                            </label>\n                          );\n                        })}\n                      {entities.filter((e) => e.entity_id.startsWith(\"script.\")).length === 0 && (\n                        <p className=\"text-xs text-gray-500 py-2\">Geen scripts gevonden. Sla eerst een verbinding op.</p>\n                      )}\n                    </div>\n                    {(editForm.script_ids ?? []).length > 0 && (\n                      <div className=\"space-y-2\">\n                        <p className=\"text-xs font-medium text-gray-500 dark:text-gray-400\">Naam per script (optioneel)</p>\n                        {(editForm.script_ids ?? []).map((scriptId) => {\n                          const e = entities.find((x) => x.entity_id === scriptId);\n                          const defaultName = (e?.attributes as { friendly_name?: string })?.friendly_name ?? scriptId;\n                          return (\n                            <div key={scriptId} className=\"flex items-center gap-2\">\n                              <span className=\"text-xs text-gray-500 dark:text-gray-400 w-28 truncate shrink-0\" title={scriptId}>{defaultName}</span>\n                              <input\n                                type=\"text\"\n                                value={editForm.script_names?.[scriptId] ?? \"\"}\n                                onChange={(e) =>\n                                  setEditForm((prev) => ({\n                                    ...prev,\n                                    script_names: {\n                                      ...(prev.script_names ?? {}),\n                                      [scriptId]: e.target.value || undefined,\n                                    } as Record<string, string>,\n                                  }))\n                                }\n                                placeholder={defaultName}\n                                className=\"flex-1 min-w-0 rounded-lg border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 dark:text-gray-200 px-2 py-1.5 text-sm\"\n                              />\n                            </div>\n                          );\n                        })}\n                      </div>\n                    )}\n                    <div className=\"mt-3\">\n                      <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">\n                        Sensor onder status (bijv. cleaned area)\n                      </label>\n                      <select\n                        value={editForm.cleaned_area_entity_id ?? \"\"}\n                        onChange={(e) =>\n                          setEditForm((prev) => ({\n                            ...prev,\n                            cleaned_area_entity_id: e.target.value || undefined,\n                          }))\n                        }\n                        className=\"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500\"\n                      >\n                        <option value=\"\">Geen</option>\n                        {entities\n                          .filter((e) => e.entity_id.startsWith(\"sensor.\"))\n                          .map((e) => {\n                            const name = (e.attributes as { friendly_name?: string })?.friendly_name ?? e.entity_id;\n                            return (\n                              <option key={e.entity_id} value={e.entity_id}>\n                                {name}\n                              </option>\n                            );\n                          })}\n                      </select>\n                    </div>\n                    <div className=\"mt-3\">\n                      <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">\n                        Icoon\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={vacuumIconSearch}\n                        onChange={(e) => setVacuumIconSearch(e.target.value)}\n                        onFocus={() => setVacuumIconSearch(vacuumIconSearch || (editForm.icon ?? \"\"))}\n                        placeholder=\"Zoek icoon (bijv. home, bot, sparkles…)\"\n                        className=\"mb-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500\"\n                      />\n                      <div className=\"max-h-40 overflow-auto rounded-lg border border-gray-200 dark:border-white/10 flex flex-wrap gap-1.5 p-1.5\">\n                        <button\n                          type=\"button\"\n                          onClick={() => {\n                            setEditForm((prev) => ({ ...prev, icon: undefined }));\n                            setVacuumIconSearch(\"\");\n                          }}\n                          className={cn(\n                            \"rounded-md px-2 py-1 text-xs\",\n                            !editForm.icon\n                              ? \"bg-[#4D2FB2] text-white\"\n                              : \"bg-gray-100 text-gray-700 dark:bg-white/10 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-white/20\"\n                          )}\n                        >\n                          Geen (Sparkles)\n                        </button>\n                        {VACUUM_ICON_OPTIONS.filter((name) =>\n                          name.toLowerCase().includes((vacuumIconSearch || \"\").toLowerCase())\n                        ).map((name) => (\n                          <button\n                            key={name}\n                            type=\"button\"\n                            onClick={() => {\n                              setEditForm((prev) => ({ ...prev, icon: name }));\n                              setVacuumIconSearch(name);\n                            }}\n                            className={cn(\n                              \"rounded-md px-2 py-1 text-xs\",\n                              (editForm.icon ?? \"Sparkles\") === name\n                                ? \"bg-[#4D2FB2] text-white\"\n                                : \"bg-gray-100 text-gray-700 dark:bg-white/10 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-white/20\"\n                            )}\n                          >\n                            {name}\n                          </button>\n                        ))}\n                      </div>\n                    </div>\n                  </div>\n                )}\n                {editingWidget.type === \"sensor_card\" && (\n                  <div>\n                    <div className=\"flex rounded-lg border border-gray-200 dark:border-white/10 p-0.5 mb-3\">\n                      <button\n                        type=\"button\"\n                        onClick={() => setSensorCardEditTab(\"general\")}\n                        className={cn(\n                          \"flex-1 rounded-md py-1.5 text-xs font-medium transition-colors\",\n                          sensorCardEditTab === \"general\"\n                            ? \"bg-[#4D2FB2] text-white\"\n                            : \"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-white/10\"\n                        )}\n                      >\n                        Algemeen\n                      </button>\n                      <button\n                        type=\"button\"\n                        onClick={() => setSensorCardEditTab(\"conditions\")}\n                        className={cn(\n                          \"flex-1 rounded-md py-1.5 text-xs font-medium transition-colors\",\n                          sensorCardEditTab === \"conditions\"\n                            ? \"bg-[#4D2FB2] text-white\"\n                            : \"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-white/10\"\n                        )}\n                      >\n                        Conditionele voorwaarden\n                      </button>\n                    </div>\n                    {sensorCardEditTab === \"general\" && (\n                      <>\n                        <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">\n                          Icoon\n                        </label>\n                        <input\n                          type=\"text\"\n                          value={sensorIconSearch}\n                          onChange={(e) => setSensorIconSearch(e.target.value)}\n                          onFocus={() => setSensorIconSearch(sensorIconSearch || (editForm.icon ?? \"\"))}\n                          placeholder=\"Zoek icoon (bijv. gauge, thermometer…)\"\n                          className=\"mb-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500\"\n                        />\n                        <div className=\"max-h-40 overflow-auto rounded-lg border border-gray-200 dark:border-white/10 flex flex-wrap gap-1.5 p-1.5\">\n                          <button\n                            type=\"button\"\n                            onClick={() => {\n                              setEditForm((prev) => ({ ...prev, icon: undefined }));\n                              setSensorIconSearch(\"\");\n                            }}\n                            className={cn(\n                              \"rounded-md px-2 py-1 text-xs\",\n                              !editForm.icon\n                                ? \"bg-[#4D2FB2] text-white\"\n                                : \"bg-gray-100 text-gray-700 dark:bg-white/10 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-white/20\"\n                            )}\n                          >\n                            Default (Gauge)\n                          </button>\n                          {SENSOR_ICON_OPTIONS.filter((name) =>\n                            name.toLowerCase().includes((sensorIconSearch || \"\").toLowerCase())\n                          ).map((name) => (\n                            <button\n                              key={name}\n                              type=\"button\"\n                              onClick={() => {\n                                setEditForm((prev) => ({ ...prev, icon: name }));\n                                setSensorIconSearch(name);\n                              }}\n                              className={cn(\n                                \"rounded-md px-2 py-1 text-xs\",\n                                (editForm.icon ?? \"Gauge\") === name\n                                  ? \"bg-[#4D2FB2] text-white\"\n                                  : \"bg-gray-100 text-gray-700 dark:bg-white/10 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-white/20\"\n                              )}\n                            >\n                              {name}\n                            </button>\n                          ))}\n                        </div>\n                        <div className=\"mt-3\">\n                          <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">\n                            Grootte\n                          </label>\n                          <select\n                            value={editForm.size ?? \"md\"}\n                            onChange={(e) =>\n                              setEditForm((prev) => ({ ...prev, size: e.target.value }))\n                            }\n                            className=\"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500\"\n                          >\n                            <option value=\"sm\">Klein</option>\n                            <option value=\"md\">Normaal</option>\n                            <option value=\"lg\">Groot</option>\n                          </select>\n                        </div>\n                        <div className=\"mt-3 flex items-center gap-2\">\n                          <input\n                            type=\"checkbox\"\n                            id=\"sensor-show-icon\"\n                            checked={editForm.show_icon !== false}\n                            onChange={(e) =>\n                              setEditForm((prev) => ({ ...prev, show_icon: e.target.checked }))\n                            }\n                            className=\"rounded border-gray-300 text-amber-600 focus:ring-amber-500\"\n                          />\n                          <label htmlFor=\"sensor-show-icon\" className=\"text-sm text-gray-700 dark:text-gray-300\">\n                            Icoon tonen\n                          </label>\n                        </div>\n                      </>\n                    )}\n                    {sensorCardEditTab === \"conditions\" && (\n                      <div className=\"space-y-2\">\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                          Eerste voorwaarde die klopt bepaalt de kaartkleur. Getallen en tekst worden ondersteund.\n                        </p>\n                        {(editForm.conditions ?? []).map((cond, idx) => (\n                          <div\n                            key={idx}\n                            className=\"flex flex-wrap items-center gap-2 rounded-lg border border-gray-200 dark:border-white/10 p-2\"\n                          >\n                            <select\n                              value={cond.operator}\n                              onChange={(e) =>\n                                setEditForm((prev) => ({\n                                  ...prev,\n                                  conditions: (prev.conditions ?? []).map((c, i) =>\n                                    i === idx ? { ...c, operator: e.target.value } : c\n                                  ),\n                                }))\n                              }\n                              className=\"rounded border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 dark:text-gray-200 px-2 py-1 text-xs\"\n                            >\n                              {SENSOR_CONDITION_OPERATORS.map((op) => (\n                                <option key={op} value={op}>\n                                  {SENSOR_CONDITION_OPERATOR_LABELS[op] ?? op}\n                                </option>\n                              ))}\n                            </select>\n                            <input\n                              type=\"text\"\n                              value={cond.value}\n                              onChange={(e) =>\n                                setEditForm((prev) => ({\n                                  ...prev,\n                                  conditions: (prev.conditions ?? []).map((c, i) =>\n                                    i === idx ? { ...c, value: e.target.value } : c\n                                  ),\n                                }))\n                              }\n                              placeholder=\"Waarde\"\n                              className=\"w-20 rounded border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 dark:text-gray-200 px-2 py-1 text-xs\"\n                            />\n                            <select\n                              value={cond.color}\n                              onChange={(e) =>\n                                setEditForm((prev) => ({\n                                  ...prev,\n                                  conditions: (prev.conditions ?? []).map((c, i) =>\n                                    i === idx ? { ...c, color: e.target.value } : c\n                                  ),\n                                }))\n                              }\n                              className=\"rounded border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 dark:text-gray-200 px-2 py-1 text-xs\"\n                            >\n                              {SENSOR_CONDITION_COLORS.map((color) => (\n                                <option key={color} value={color}>\n                                  {color}\n                                </option>\n                              ))}\n                            </select>\n                            <button\n                              type=\"button\"\n                              onClick={() =>\n                                setEditForm((prev) => ({\n                                  ...prev,\n                                  conditions: (prev.conditions ?? []).filter((_, i) => i !== idx),\n                                }))\n                              }\n                              className=\"p-1 rounded text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20\"\n                              aria-label=\"Verwijder voorwaarde\"\n                            >\n                              <X className=\"h-4 w-4\" />\n                            </button>\n                          </div>\n                        ))}\n                        <button\n                          type=\"button\"\n                          onClick={() =>\n                            setEditForm((prev) => ({\n                              ...prev,\n                              conditions: [...(prev.conditions ?? []), { operator: \"gte\", value: \"\", color: \"green\" }],\n                            }))\n                          }\n                          className=\"rounded-lg border border-dashed border-gray-300 dark:border-white/20 px-3 py-2 text-xs text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-white/5 w-full\"\n                        >\n                          + Voeg voorwaarde toe\n                        </button>\n                      </div>\n                    )}\n                  </div>\n                )}\n                {editingWidget.type === \"pill_card\" && (\n                  <div className=\"space-y-3\">\n                    <label className=\"flex items-center justify-between gap-3 cursor-pointer\">\n                      <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\n                        Toon entiteitstatus\n                      </span>\n                      <button\n                        type=\"button\"\n                        role=\"switch\"\n                        aria-checked={editForm.show_state !== false}\n                        onClick={() =>\n                          setEditForm((prev) => ({ ...prev, show_state: prev.show_state === false }))\n                        }\n                        className={cn(\n                          \"relative inline-flex h-6 w-11 shrink-0 rounded-full border border-gray-200 dark:border-white/10 transition-colors focus:outline-none focus:ring-2 focus:ring-[#4D2FB2] focus:ring-offset-2 dark:focus:ring-offset-gray-900\",\n                          editForm.show_state !== false\n                            ? \"bg-[#4D2FB2] border-transparent\"\n                            : \"bg-gray-200 dark:bg-gray-600\"\n                        )}\n                      >\n                        <span\n                          className={cn(\n                            \"pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow ring-0 transition translate-x-0.5\",\n                            editForm.show_state !== false ? \"translate-x-5\" : \"translate-x-1\"\n                          )}\n                        />\n                      </button>\n                    </label>\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400 -mt-2\">\n                      Toon of verberg de waarde (Aan/Uit of sensorwaarde) op de pill.\n                    </p>\n                    <div>\n                      <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">\n                        Icoon\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={pillIconSearch}\n                        onChange={(e) => setPillIconSearch(e.target.value)}\n                        onFocus={() => setPillIconSearch(pillIconSearch || (editForm.icon ?? \"\"))}\n                        placeholder=\"Zoek icoon (bijv. CircleDot, Sun…)\"\n                        className=\"mb-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500\"\n                      />\n                      <div className=\"max-h-32 overflow-auto rounded-lg border border-gray-200 dark:border-white/10 flex flex-wrap gap-1.5 p-1.5\">\n                        <button\n                          type=\"button\"\n                          onClick={() => {\n                            setEditForm((prev) => ({ ...prev, icon: undefined }));\n                            setPillIconSearch(\"\");\n                          }}\n                          className={cn(\n                            \"rounded-md px-2 py-1 text-xs\",\n                            !editForm.icon\n                              ? \"bg-[#4D2FB2] text-white\"\n                              : \"bg-gray-100 text-gray-700 dark:bg-white/10 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-white/20\"\n                          )}\n                        >\n                          Default (CircleDot)\n                        </button>\n                        {SENSOR_ICON_OPTIONS.filter((name) =>\n                          name.toLowerCase().includes((pillIconSearch || \"\").toLowerCase())\n                        ).map((name) => (\n                          <button\n                            key={name}\n                            type=\"button\"\n                            onClick={() => {\n                              setEditForm((prev) => ({ ...prev, icon: name }));\n                              setPillIconSearch(name);\n                            }}\n                            className={cn(\n                              \"rounded-md px-2 py-1 text-xs\",\n                              (editForm.icon ?? \"CircleDot\") === name\n                                ? \"bg-[#4D2FB2] text-white\"\n                                : \"bg-gray-100 text-gray-700 dark:bg-white/10 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-white/20\"\n                            )}\n                          >\n                            {name}\n                          </button>\n                        ))}\n                      </div>\n                    </div>\n                    <div>\n                      <p className=\"mb-1 text-xs font-medium text-gray-500 dark:text-gray-400\">\n                        Voorwaardelijke kleur (eerste match)\n                      </p>\n                      <p className=\"text-xs text-gray-500 dark:text-gray-400 mb-2\">\n                        Bepaal de pill-kleur op basis van de entity state.\n                      </p>\n                      {(editForm.conditions ?? []).map((cond, idx) => (\n                        <div\n                          key={idx}\n                          className=\"flex flex-wrap items-center gap-2 rounded-lg border border-gray-200 dark:border-white/10 p-2 mb-1.5\"\n                        >\n                          <select\n                            value={cond.operator}\n                            onChange={(e) =>\n                              setEditForm((prev) => ({\n                                ...prev,\n                                conditions: (prev.conditions ?? []).map((c, i) =>\n                                  i === idx ? { ...c, operator: e.target.value } : c\n                                ),\n                              }))\n                            }\n                            className=\"rounded border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 dark:text-gray-200 px-2 py-1 text-xs\"\n                          >\n                            {SENSOR_CONDITION_OPERATORS.map((op) => (\n                              <option key={op} value={op}>\n                                {SENSOR_CONDITION_OPERATOR_LABELS[op] ?? op}\n                              </option>\n                            ))}\n                          </select>\n                          <input\n                            type=\"text\"\n                            value={cond.value}\n                            onChange={(e) =>\n                              setEditForm((prev) => ({\n                                ...prev,\n                                conditions: (prev.conditions ?? []).map((c, i) =>\n                                  i === idx ? { ...c, value: e.target.value } : c\n                                ),\n                              }))\n                            }\n                            placeholder=\"Waarde\"\n                            className=\"w-20 rounded border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 dark:text-gray-200 px-2 py-1 text-xs\"\n                          />\n                          <select\n                            value={cond.color}\n                            onChange={(e) =>\n                              setEditForm((prev) => ({\n                                ...prev,\n                                conditions: (prev.conditions ?? []).map((c, i) =>\n                                  i === idx ? { ...c, color: e.target.value } : c\n                                ),\n                              }))\n                            }\n                            className=\"rounded border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 dark:text-gray-200 px-2 py-1 text-xs\"\n                          >\n                            {SENSOR_CONDITION_COLORS.map((color) => (\n                              <option key={color} value={color}>\n                                {color}\n                              </option>\n                            ))}\n                          </select>\n                          <button\n                            type=\"button\"\n                            onClick={() =>\n                              setEditForm((prev) => ({\n                                ...prev,\n                                conditions: (prev.conditions ?? []).filter((_, i) => i !== idx),\n                              }))\n                            }\n                            className=\"p-1 rounded text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20\"\n                            aria-label=\"Verwijder voorwaarde\"\n                          >\n                            <X className=\"h-4 w-4\" />\n                          </button>\n                        </div>\n                      ))}\n                      <button\n                        type=\"button\"\n                        onClick={() =>\n                          setEditForm((prev) => ({\n                            ...prev,\n                            conditions: [...(prev.conditions ?? []), { operator: \"eq\", value: \"\", color: \"green\" }],\n                          }))\n                        }\n                        className=\"rounded-lg border border-dashed border-gray-300 dark:border-white/20 px-3 py-2 text-xs text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-white/5 w-full\"\n                      >\n                        + Voeg voorwaarde toe\n                      </button>\n                    </div>\n                  </div>\n                )}\n                {editingWidget.type === \"camera_card\" && (\n                  <>\n                    <div className=\"flex items-center justify-between gap-3\">\n                      <label className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\n                        Toon titel\n                      </label>\n                      <button\n                        type=\"button\"\n                        role=\"switch\"\n                        aria-checked={editForm.show_title !== false}\n                        onClick={() =>\n                          setEditForm((prev) => ({ ...prev, show_title: !(prev.show_title !== false) }))\n                        }\n                        className={cn(\n                          \"relative inline-flex h-6 w-11 shrink-0 rounded-full border-2 border-transparent transition-colors focus:outline-none focus:ring-2 focus:ring-[#4D2FB2] focus:ring-offset-2\",\n                          editForm.show_title !== false\n                            ? \"bg-[#4D2FB2]\"\n                            : \"bg-gray-200 dark:bg-gray-600\"\n                        )}\n                      >\n                        <span\n                          className={cn(\n                            \"pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition\",\n                            editForm.show_title !== false ? \"translate-x-5\" : \"translate-x-1\"\n                          )}\n                        />\n                      </button>\n                    </div>\n                    <div>\n                      <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">\n                        Vernieuw interval (seconden)\n                      </label>\n                      <input\n                        type=\"number\"\n                        min={2}\n                        max={120}\n                        step={1}\n                        value={editForm.refresh ?? 10}\n                        onChange={(e) => {\n                          const v = e.target.value === \"\" ? undefined : Number(e.target.value);\n                          setEditForm((prev) => ({\n                            ...prev,\n                            refresh: v != null && !Number.isNaN(v) ? v : 10,\n                          }));\n                        }}\n                        placeholder=\"10\"\n                        className=\"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500\"\n                      />\n                      <p className=\"mt-0.5 text-xs text-gray-400 dark:text-gray-500\">2–120 seconden (standaard 10)</p>\n                    </div>\n                    <div>\n                      <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">\n                        Breedte kaart (px)\n                      </label>\n                      <input\n                        type=\"number\"\n                        min={200}\n                        max={600}\n                        step={10}\n                        value={editForm.width ?? 360}\n                        onChange={(e) => {\n                          const v = e.target.value === \"\" ? undefined : Number(e.target.value);\n                          setEditForm((prev) => ({\n                            ...prev,\n                            width: v != null && !Number.isNaN(v) ? v : undefined,\n                          }));\n                        }}\n                        placeholder=\"360\"\n                        className=\"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500\"\n                      />\n                      <p className=\"mt-0.5 text-xs text-gray-400 dark:text-gray-500\">200–600 px (standaard 360)</p>\n                    </div>\n                    <div>\n                      <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">\n                        Hoogte kaart (px)\n                      </label>\n                      <input\n                        type=\"number\"\n                        min={150}\n                        max={450}\n                        step={10}\n                        value={editForm.height ?? 270}\n                        onChange={(e) => {\n                          const v = e.target.value === \"\" ? undefined : Number(e.target.value);\n                          setEditForm((prev) => ({\n                            ...prev,\n                            height: v != null && !Number.isNaN(v) ? v : undefined,\n                          }));\n                        }}\n                        placeholder=\"270\"\n                        className=\"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500\"\n                      />\n                      <p className=\"mt-0.5 text-xs text-gray-400 dark:text-gray-500\">150–450 px (standaard 270)</p>\n                    </div>\n                  </>\n                )}\n                {editingWidget.type === \"weather_card\" && (\n                  <>\n                    <div className=\"flex items-center justify-between gap-3\">\n                      <label className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\n                        Toon icoon\n                      </label>\n                      <button\n                        type=\"button\"\n                        role=\"switch\"\n                        aria-checked={editForm.show_icon !== false}\n                        onClick={() =>\n                          setEditForm((prev) => ({ ...prev, show_icon: !(prev.show_icon !== false) }))\n                        }\n                        className={cn(\n                          \"relative inline-flex h-6 w-11 shrink-0 rounded-full border-2 border-transparent transition-colors focus:outline-none focus:ring-2 focus:ring-[#4D2FB2] focus:ring-offset-2\",\n                          editForm.show_icon !== false\n                            ? \"bg-[#4D2FB2]\"\n                            : \"bg-gray-200 dark:bg-gray-600\"\n                        )}\n                      >\n                        <span\n                          className={cn(\n                            \"pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition\",\n                            editForm.show_icon !== false ? \"translate-x-5\" : \"translate-x-1\"\n                          )}\n                        />\n                      </button>\n                    </div>\n                    <div>\n                      <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">\n                        Breedte kaart (px)\n                      </label>\n                      <input\n                        type=\"number\"\n                        min={200}\n                        max={500}\n                        step={10}\n                        value={editForm.width ?? 320}\n                        onChange={(e) => {\n                          const v = e.target.value === \"\" ? undefined : Number(e.target.value);\n                          setEditForm((prev) => ({\n                            ...prev,\n                            width: v != null && !Number.isNaN(v) ? v : undefined,\n                          }));\n                        }}\n                        placeholder=\"320\"\n                        className=\"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500\"\n                      />\n                      <p className=\"mt-0.5 text-xs text-gray-400 dark:text-gray-500\">200–500 px (standaard 320)</p>\n                    </div>\n                    <div>\n                      <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">\n                        Hoogte kaart (px)\n                      </label>\n                      <input\n                        type=\"number\"\n                        min={100}\n                        max={400}\n                        step={10}\n                        value={editForm.height ?? 180}\n                        onChange={(e) => {\n                          const v = e.target.value === \"\" ? undefined : Number(e.target.value);\n                          setEditForm((prev) => ({\n                            ...prev,\n                            height: v != null && !Number.isNaN(v) ? v : undefined,\n                          }));\n                        }}\n                        placeholder=\"180\"\n                        className=\"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-500 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:placeholder-gray-500\"\n                      />\n                      <p className=\"mt-0.5 text-xs text-gray-400 dark:text-gray-500\">100–400 px (standaard 180)</p>\n                    </div>\n                  </>\n                )}\n                {editingWidget.type === \"nuts_card\" && (\n                  <>\n                    <div>\n                      <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">\n                        Icoon\n                      </label>\n                      <div className=\"flex flex-wrap gap-1.5 rounded-lg border border-gray-200 dark:border-white/10 p-1.5 max-h-32 overflow-auto\">\n                        {([\"Fuel\", \"Droplets\", \"Zap\", \"Gauge\", \"Thermometer\"].filter((n) => CARD_ICON_OPTIONS.includes(n)) as string[]).map((name) => (\n                          <button\n                            key={name}\n                            type=\"button\"\n                            onClick={() =>\n                              setEditForm((prev) => ({ ...prev, icon: name }))\n                            }\n                            className={cn(\n                              \"rounded-md px-2 py-1 text-xs\",\n                              (editForm.icon ?? \"Fuel\") === name\n                                ? \"bg-[#4D2FB2] text-white\"\n                                : \"bg-gray-100 text-gray-700 dark:bg-white/10 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-white/20\"\n                            )}\n                          >\n                            {name}\n                          </button>\n                        ))}\n                      </div>\n                    </div>\n                    <div>\n                      <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">\n                        Kleur icoon\n                      </label>\n                      <div className=\"flex items-center gap-2\">\n                        <input\n                          type=\"color\"\n                          value={editForm.icon_background_color && /^#[0-9A-Fa-f]{6}$/.test(editForm.icon_background_color) ? editForm.icon_background_color : \"#3B82F6\"}\n                          onChange={(e) =>\n                            setEditForm((prev) => ({\n                              ...prev,\n                              icon_background_color: e.target.value,\n                            }))\n                          }\n                          className=\"h-8 w-12 cursor-pointer rounded border border-gray-200 dark:border-white/20 bg-white dark:bg-white/5\"\n                        />\n                        <input\n                          type=\"text\"\n                          value={editForm.icon_background_color ?? \"#3B82F6\"}\n                          onChange={(e) =>\n                            setEditForm((prev) => ({\n                              ...prev,\n                              icon_background_color: e.target.value || undefined,\n                            }))\n                          }\n                          placeholder=\"#3B82F6\"\n                          className=\"flex-1 rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 dark:border-white/10 dark:bg-white/5 dark:text-gray-200\"\n                        />\n                      </div>\n                    </div>\n                    <div>\n                      <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">\n                        Breedte × hoogte (px)\n                      </label>\n                      <div className=\"flex gap-2\">\n                        <div className=\"flex-1\">\n                          <input\n                            type=\"number\"\n                            min={150}\n                            max={400}\n                            step={10}\n                            value={editForm.width ?? 250}\n                            onChange={(e) => {\n                              const v = e.target.value === \"\" ? undefined : Number(e.target.value);\n                              setEditForm((prev) => ({ ...prev, width: v != null && !Number.isNaN(v) ? v : undefined }));\n                            }}\n                            placeholder=\"250\"\n                            className=\"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm dark:border-white/10 dark:bg-white/5 dark:text-gray-200\"\n                          />\n                          <p className=\"mt-0.5 text-xs text-gray-400 dark:text-gray-500\">Breedte</p>\n                        </div>\n                        <div className=\"flex-1\">\n                          <input\n                            type=\"number\"\n                            min={80}\n                            max={300}\n                            step={10}\n                            value={editForm.height ?? 130}\n                            onChange={(e) => {\n                              const v = e.target.value === \"\" ? undefined : Number(e.target.value);\n                              setEditForm((prev) => ({ ...prev, height: v != null && !Number.isNaN(v) ? v : undefined }));\n                            }}\n                            placeholder=\"130\"\n                            className=\"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm dark:border-white/10 dark:bg-white/5 dark:text-gray-200\"\n                          />\n                          <p className=\"mt-0.5 text-xs text-gray-400 dark:text-gray-500\">Hoogte</p>\n                        </div>\n                      </div>\n                    </div>\n                    <div>\n                      <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">\n                        Entity dagverbruik (totaal per dag)\n                      </label>\n                      <select\n                        value={editForm.entity_id ?? \"\"}\n                        onChange={(e) =>\n                          setEditForm((prev) => ({ ...prev, entity_id: e.target.value }))\n                        }\n                        className=\"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 dark:border-white/10 dark:bg-white/5 dark:text-gray-200\"\n                      >\n                        <option value=\"\">Kies entity…</option>\n                        {entities\n                          .filter((e) => e.entity_id.startsWith(\"sensor.\"))\n                          .map((e) => {\n                            const name = (e.attributes as { friendly_name?: string })?.friendly_name ?? e.entity_id;\n                            return (\n                              <option key={e.entity_id} value={e.entity_id}>\n                                {name}\n                              </option>\n                            );\n                          })}\n                      </select>\n                    </div>\n                    <div>\n                      <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">\n                        Entity huidig verbruik (optioneel)\n                      </label>\n                      <select\n                        value={editForm.current_entity_id ?? \"\"}\n                        onChange={(e) =>\n                          setEditForm((prev) => ({ ...prev, current_entity_id: e.target.value || undefined }))\n                        }\n                        className=\"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 dark:border-white/10 dark:bg-white/5 dark:text-gray-200\"\n                      >\n                        <option value=\"\">Geen (toont 0 voor huidig)</option>\n                        {entities\n                          .filter((e) => e.entity_id.startsWith(\"sensor.\"))\n                          .map((e) => {\n                            const name = (e.attributes as { friendly_name?: string })?.friendly_name ?? e.entity_id;\n                            return (\n                              <option key={e.entity_id} value={e.entity_id}>\n                                {name}\n                              </option>\n                            );\n                          })}\n                      </select>\n                    </div>\n                    <div>\n                      <label className=\"mb-1 block text-xs font-medium text-gray-500 dark:text-gray-400\">\n                        Max waarde voor bar (optioneel)\n                      </label>\n                      <input\n                        type=\"number\"\n                        min={1}\n                        step={0.1}\n                        value={editForm.max_value ?? 10}\n                        onChange={(e) => {\n                          const v = e.target.value === \"\" ? undefined : Number(e.target.value);\n                          setEditForm((prev) => ({\n                            ...prev,\n                            max_value: v != null && !Number.isNaN(v) && v > 0 ? v : undefined,\n                          }));\n                        }}\n                        placeholder=\"10\"\n                        className=\"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 dark:border-white/10 dark:bg-white/5 dark:text-gray-200\"\n                      />\n                      <p className=\"mt-0.5 text-xs text-gray-400 dark:text-gray-500\">Schaal voor verticale verbruiksbalk</p>\n                    </div>\n                  </>\n                )}\n                  </>\n                )}\n                <div className=\"flex shrink-0 justify-between gap-2 pt-3 mt-2 border-t border-gray-200 dark:border-white/10\">\n                  {editingWidget.type === \"card_group\" && editingGroupChildId ? (\n                    <>\n                      <button\n                        type=\"button\"\n                        onClick={() => setEditingGroupChildId(null)}\n                        className=\"rounded-lg border border-gray-200 px-3 py-1.5 text-sm text-gray-700 dark:border-white/10 dark:text-gray-300\"\n                      >\n                        Terug\n                      </button>\n                      <div className=\"flex gap-2\">\n                        <button\n                          type=\"button\"\n                          onClick={() => {\n                            const nextChildren = (editingWidget.children ?? []).filter((c) => c.id !== editingGroupChildId);\n                            const nextWidgets = widgets.map((w) => (w.id === editingWidget.id ? { ...w, children: nextChildren } : w));\n                            setWidgets(nextWidgets);\n                            setEditingGroupChildId(null);\n                            saveMutation.mutate({ layout, widgets: nextWidgets, welcomeTitle, welcomeSubtitle });\n                          }}\n                          className=\"rounded-lg px-3 py-1.5 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20\"\n                          aria-label=\"Kaart uit groep verwijderen\"\n                        >\n                          Verwijderen\n                        </button>\n                        <button\n                          type=\"button\"\n                          onClick={() => {\n                            const updates = {\n                              title: editForm.title,\n                              entity_id: editForm.entity_id,\n                              icon: editForm.icon || undefined,\n                              conditions: (editForm.conditions ?? []).length > 0 ? editForm.conditions : undefined,\n                              show_state: editForm.show_state !== false,\n                            };\n                            const nextChildren = (editingWidget.children ?? []).map((c) =>\n                              c.id === editingGroupChildId ? { ...c, ...updates } : c\n                            );\n                            const nextWidgets = widgets.map((w) => (w.id === editingWidget.id ? { ...w, children: nextChildren } : w));\n                            setWidgets(nextWidgets);\n                            setEditingGroupChildId(null);\n                            saveMutation.mutate({ layout, widgets: nextWidgets, welcomeTitle, welcomeSubtitle });\n                          }}\n                          className=\"rounded-lg bg-[#4D2FB2] px-3 py-1.5 text-sm text-white hover:opacity-90\"\n                        >\n                          Opslaan\n                        </button>\n                      </div>\n                    </>\n                  ) : editingWidget.type === \"card_group\" ? (\n                    <>\n                      <button\n                        type=\"button\"\n                        onClick={() => {\n                          const newWidgets = widgets.filter((w) => w.id !== editingWidgetId);\n                          const newLayout = layout.filter((item) => item.i !== editingWidgetId);\n                          setWidgets(newWidgets);\n                          setLayout(newLayout);\n                          setEditingWidgetId(null);\n                          saveMutation.mutate({\n                            layout: newLayout,\n                            widgets: newWidgets,\n                            welcomeTitle,\n                            welcomeSubtitle,\n                          });\n                        }}\n                        className=\"rounded-lg px-3 py-1.5 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20\"\n                        aria-label=\"Kaartgroep verwijderen\"\n                      >\n                        Verwijderen\n                      </button>\n                      <button\n                        type=\"button\"\n                        onClick={() => setEditingWidgetId(null)}\n                        className=\"rounded-lg border border-gray-200 px-3 py-1.5 text-sm text-gray-700 dark:border-white/10 dark:text-gray-300\"\n                      >\n                        Annuleren\n                      </button>\n                    </>\n                  ) : (\n                    <>\n                  <button\n                    type=\"button\"\n                    onClick={() => {\n                      const newWidgets = widgets.filter((w) => w.id !== editingWidgetId);\n                      const newLayout = layout.filter((item) => item.i !== editingWidgetId);\n                      setWidgets(newWidgets);\n                      setLayout(newLayout);\n                      setEditingWidgetId(null);\n                      saveMutation.mutate({\n                        layout: newLayout,\n                        widgets: newWidgets,\n                        welcomeTitle,\n                        welcomeSubtitle,\n                      });\n                    }}\n                    className=\"rounded-lg px-3 py-1.5 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20\"\n                    aria-label=\"Kaart verwijderen\"\n                  >\n                    Verwijderen\n                  </button>\n                  <div className=\"flex gap-2\">\n                  <button\n                    type=\"button\"\n                    onClick={() => setEditingWidgetId(null)}\n                    className=\"rounded-lg border border-gray-200 px-3 py-1.5 text-sm text-gray-700 dark:border-white/10 dark:text-gray-300\"\n                  >\n                    Annuleren\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={() => {\n                      const updates = {\n                        title: editForm.title,\n                        ...(editingWidget.entity_id != null && editingWidget.type !== \"energy_monitor_card\" && {\n                          entity_id: editForm.entity_id,\n                        }),\n                        ...(editingWidget.type === \"solar_card\" && {\n                          consumption_entity_id: editForm.consumption_entity_id || undefined,\n                        }),\n                        ...(editingWidget.type === \"energy_monitor_card\" && {\n                          entity_id: editForm.entity_id || undefined,\n                          background_image: editForm.background_image || undefined,\n                          background_image_dark: editForm.background_image_dark || undefined,\n                          image_conditions: (editForm.image_conditions ?? []).filter((c) => c.image?.trim()).length > 0\n                            ? (editForm.image_conditions ?? []).filter((c) => c.image?.trim())\n                            : undefined,\n                          minimal: editForm.minimal ?? false,\n                          scale: editForm.scale ?? 1,\n                        }),\n                        ...(editingWidget.type === \"stat_pill_card\" && {\n                          label: editForm.label || undefined,\n                          icon: editForm.icon || undefined,\n                          color: editForm.color || undefined,\n                          conditions: (editForm.conditions ?? []).length > 0 ? editForm.conditions : undefined,\n                        }),\n                        ...((editingWidget.type === \"climate_card_2\" || editingWidget.type === \"climate_card\") && {\n                          humidity_entity_id: editForm.humidity_entity_id || undefined,\n                          icon: editForm.icon || undefined,\n                          width: editForm.width != null && editForm.width > 0 ? editForm.width : undefined,\n                          height: editForm.height != null && editForm.height > 0 ? editForm.height : undefined,\n                        }),\n                        ...(editingWidget.type === \"light_card\" && {\n                          icon: editForm.icon || undefined,\n                        }),\n                        ...(editingWidget.type === \"weather_card\" && {\n                          show_icon: editForm.show_icon !== false,\n                          width: editForm.width != null && editForm.width > 0 ? editForm.width : undefined,\n                          height: editForm.height != null && editForm.height > 0 ? editForm.height : undefined,\n                        }),\n                        ...(editingWidget.type === \"camera_card\" && {\n                          refresh: editForm.refresh ?? 10,\n                          show_title: editForm.show_title !== false,\n                          width: editForm.width != null && editForm.width > 0 ? editForm.width : undefined,\n                          height: editForm.height != null && editForm.height > 0 ? editForm.height : undefined,\n                        }),\n                        ...(editingWidget.type === \"vacuum_card\" && {\n                          script_ids: editForm.script_ids ?? [],\n                          script_names: editForm.script_names ?? {},\n                          cleaned_area_entity_id: editForm.cleaned_area_entity_id || undefined,\n                          icon: editForm.icon || undefined,\n                        }),\n                        ...(editingWidget.type === \"sensor_card\" && {\n                          icon: editForm.icon || undefined,\n                          show_icon: editForm.show_icon !== false,\n                          size: editForm.size || undefined,\n                          conditions: (editForm.conditions ?? []).length > 0 ? editForm.conditions : undefined,\n                        }),\n                        ...(editingWidget.type === \"pill_card\" && {\n                          icon: editForm.icon || undefined,\n                          conditions: (editForm.conditions ?? []).length > 0 ? editForm.conditions : undefined,\n                          show_state: editForm.show_state !== false,\n                        }),\n                        ...(editingWidget.type === \"nuts_card\" && {\n                          icon: editForm.icon || undefined,\n                          icon_background_color: editForm.icon_background_color || undefined,\n                          entity_id: editForm.entity_id || undefined,\n                          current_entity_id: editForm.current_entity_id || undefined,\n                          max_value: editForm.max_value != null && editForm.max_value > 0 ? editForm.max_value : undefined,\n                          width: editForm.width != null && editForm.width > 0 ? editForm.width : undefined,\n                          height: editForm.height != null && editForm.height > 0 ? editForm.height : undefined,\n                        }),\n                        ...(editingWidget.type === \"room_card\" && {\n                          icon: editForm.icon || undefined,\n                          light_entity_id: editForm.light_entity_id || undefined,\n                          background_image: editForm.background_image || undefined,\n                          icon_background_color: editForm.icon_background_color || undefined,\n                          width: editForm.width != null && editForm.width > 0 ? editForm.width : undefined,\n                          height: editForm.height != null && editForm.height > 0 ? editForm.height : undefined,\n                        }),\n                      };\n                      handleUpdateTile(editingWidgetId, updates);\n                      const newWidgets = widgets.map((w) =>\n                        w.id === editingWidgetId ? { ...w, ...updates } : w\n                      );\n                      saveMutation.mutate({\n                        layout,\n                        widgets: newWidgets,\n                        welcomeTitle,\n                        welcomeSubtitle,\n                      });\n                    }}\n                    className=\"rounded-lg bg-[#4D2FB2] px-3 py-1.5 text-sm text-white hover:opacity-90\"\n                  >\n                    Opslaan\n                  </button>\n                  </div>\n                    </>\n                  )}\n                </div>\n              </div>\n            </div>\n          </>,\n          document.body\n        )}\n      </div>\n    </AppShell>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}