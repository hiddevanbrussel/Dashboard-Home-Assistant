{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HiddevanBrussel/.cursor/dashboard/src/stores/onboarding-store.ts"],"sourcesContent":["import { create } from \"zustand\";\n\nexport type OnboardingStep = 1 | 2 | 3 | 4 | 5 | 6;\n\nexport type ConnectionState = {\n  baseUrl: string;\n  token: string;\n  connectionId?: string;\n};\n\nexport type HaEntity = {\n  entity_id: string;\n  state: string;\n  attributes: Record<string, unknown>;\n};\n\nexport type HaArea = {\n  area_id: string;\n  name: string;\n};\n\nexport type RoomState = {\n  id: string;\n  name: string;\n  entityIds: string[];\n};\n\nexport type WidgetConfig = {\n  id: string;\n  type: string;\n  title: string;\n  entity_id: string;\n  icon?: string;\n  size?: string;\n  thresholds?: string;\n  unit?: string;\n  refresh?: number;\n};\n\nexport type TemplateId = \"overview\" | \"rooms\" | \"energy\";\n\ntype TestResult = { ok: true } | { ok: false; error: string };\n\ntype OnboardingState = {\n  step: OnboardingStep;\n  connection: ConnectionState;\n  testResult: TestResult | null;\n  entities: HaEntity[];\n  selectedEntityIds: string[];\n  areas: HaArea[];\n  rooms: RoomState[];\n  template: TemplateId;\n  dashboardId: string | null;\n  dashboardName: string;\n  widgets: WidgetConfig[];\n  setStep: (step: OnboardingStep) => void;\n  nextStep: () => void;\n  prevStep: () => void;\n  setConnection: (c: Partial<ConnectionState>) => void;\n  setTestResult: (r: TestResult | null) => void;\n  setEntities: (e: HaEntity[]) => void;\n  setSelectedEntityIds: (ids: string[]) => void;\n  toggleEntitySelection: (entityId: string) => void;\n  setAreas: (a: HaArea[]) => void;\n  setRooms: (r: RoomState[]) => void;\n  addRoom: (name: string) => void;\n  assignEntityToRoom: (roomId: string, entityId: string) => void;\n  removeEntityFromRoom: (roomId: string, entityId: string) => void;\n  setTemplate: (t: TemplateId) => void;\n  setDashboard: (id: string | null, name: string) => void;\n  setDashboardName: (name: string) => void;\n  setWidgets: (w: WidgetConfig[]) => void;\n  addWidget: (w: Omit<WidgetConfig, \"id\">) => void;\n  updateWidget: (id: string, updates: Partial<WidgetConfig>) => void;\n  removeWidget: (id: string) => void;\n  reset: () => void;\n};\n\nconst defaultConnection: ConnectionState = {\n  baseUrl: \"http://homeassistant.local:8123\",\n  token: \"\",\n};\n\nconst initialState = {\n  step: 1 as OnboardingStep,\n  connection: defaultConnection,\n  testResult: null as TestResult | null,\n  entities: [] as HaEntity[],\n  selectedEntityIds: [] as string[],\n  areas: [] as HaArea[],\n  rooms: [] as RoomState[],\n  template: \"overview\" as TemplateId,\n  dashboardId: null as string | null,\n  dashboardName: \"My dashboard\",\n  widgets: [] as WidgetConfig[],\n};\n\nexport const useOnboardingStore = create<OnboardingState>((set) => ({\n  ...initialState,\n  setStep: (step) => set({ step }),\n  nextStep: () =>\n    set((s) => ({ step: Math.min(6, s.step + 1) as OnboardingStep })),\n  prevStep: () =>\n    set((s) => ({ step: Math.max(1, s.step - 1) as OnboardingStep })),\n  setConnection: (c) =>\n    set((s) => ({ connection: { ...s.connection, ...c } })),\n  setTestResult: (r) => set({ testResult: r }),\n  setEntities: (e) => set({ entities: e }),\n  setSelectedEntityIds: (ids) => set({ selectedEntityIds: ids }),\n  toggleEntitySelection: (entityId) =>\n    set((s) => ({\n      selectedEntityIds: s.selectedEntityIds.includes(entityId)\n        ? s.selectedEntityIds.filter((id) => id !== entityId)\n        : [...s.selectedEntityIds, entityId],\n    })),\n  setAreas: (a) => set({ areas: a }),\n  setRooms: (r) => set({ rooms: r }),\n  addRoom: (name) =>\n    set((s) => ({\n      rooms: [\n        ...s.rooms,\n        { id: crypto.randomUUID(), name, entityIds: [] },\n      ],\n    })),\n  assignEntityToRoom: (roomId, entityId) =>\n    set((s) => ({\n      rooms: s.rooms.map((r) =>\n        r.id === roomId && !r.entityIds.includes(entityId)\n          ? { ...r, entityIds: [...r.entityIds, entityId] }\n          : r\n      ),\n    })),\n  removeEntityFromRoom: (roomId, entityId) =>\n    set((s) => ({\n      rooms: s.rooms.map((r) =>\n        r.id === roomId\n          ? { ...r, entityIds: r.entityIds.filter((id) => id !== entityId) }\n          : r\n      ),\n    })),\n  setTemplate: (template) => set({ template }),\n  setDashboard: (dashboardId, dashboardName) =>\n    set({ dashboardId, dashboardName }),\n  setDashboardName: (dashboardName) => set({ dashboardName }),\n  setWidgets: (widgets) => set({ widgets }),\n  addWidget: (w) =>\n    set((s) => ({\n      widgets: [...s.widgets, { ...w, id: crypto.randomUUID() }],\n    })),\n  updateWidget: (id, updates) =>\n    set((s) => ({\n      widgets: s.widgets.map((w) => (w.id === id ? { ...w, ...updates } : w)),\n    })),\n  removeWidget: (id) =>\n    set((s) => ({ widgets: s.widgets.filter((w) => w.id !== id) })),\n  reset: () => set(initialState),\n}));\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 127, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HiddevanBrussel/.cursor/dashboard/src/components/onboarding/onboarding-fullscreen-layout.tsx"],"sourcesContent":["\"use client\";\n\nimport { useThemeStore } from \"@/stores/theme-store\";\n\nconst gradientLight =\n  \"linear-gradient(135deg, rgba(246,210,92,0.4) 0%, rgba(180,139,255,0.3) 50%, rgba(100,120,140,0.5) 100%)\";\nconst gradientDark =\n  \"linear-gradient(135deg, rgba(43,63,75,0.9) 0%, rgba(31,47,58,0.95) 50%, rgba(107,228,107,0.15) 100%)\";\n\ntype OnboardingFullscreenLayoutProps = {\n  step: number;\n  title: string;\n  subtitle: string;\n  children: React.ReactNode;\n};\n\n/**\n * Fullscreen onboarding layout: no AppShell/menus, gradient background.\n * Used for all onboarding steps so the user only sees the wizard until done.\n */\nexport function OnboardingFullscreenLayout({\n  step,\n  title,\n  subtitle,\n  children,\n}: OnboardingFullscreenLayoutProps) {\n  const resolved = useThemeStore((s) => s.resolved);\n  const bg = resolved === \"dark\" ? gradientDark : gradientLight;\n\n  return (\n    <div className=\"min-h-screen flex flex-col bg-page-light dark:bg-dark-page\">\n      <div\n        className=\"fixed inset-0 opacity-90 dark:opacity-95\"\n        style={{ background: bg }}\n        aria-hidden\n      />\n      <main className=\"relative z-10 flex-1 flex flex-col items-center p-6 pt-12 pb-24 overflow-auto\">\n        <div className=\"w-full max-w-2xl\">\n          <h1 className=\"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white tracking-tight text-center\">\n            {title}\n          </h1>\n          <p className=\"mt-3 text-base md:text-lg text-gray-700 dark:text-gray-200 text-center\">\n            {subtitle}\n          </p>\n          <div className=\"mt-8 rounded-2xl bg-white/60 dark:bg-black/30 backdrop-blur-sm border border-white/40 dark:border-white/10 p-6 shadow-lg\">\n            {children}\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIA,MAAM,gBACJ;AACF,MAAM,eACJ;AAaK,SAAS,2BAA2B,EACzC,IAAI,EACJ,KAAK,EACL,QAAQ,EACR,QAAQ,EACwB;IAChC,MAAM,WAAW,IAAA,gJAAa,EAAC,CAAC,IAAM,EAAE,QAAQ;IAChD,MAAM,KAAK,aAAa,SAAS,eAAe;IAEhD,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBACC,WAAU;gBACV,OAAO;oBAAE,YAAY;gBAAG;gBACxB,aAAW;;;;;;0BAEb,8OAAC;gBAAK,WAAU;0BACd,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCACX;;;;;;sCAEH,8OAAC;4BAAE,WAAU;sCACV;;;;;;sCAEH,8OAAC;4BAAI,WAAU;sCACZ;;;;;;;;;;;;;;;;;;;;;;;AAMb","debugId":null}},
    {"offset": {"line": 206, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HiddevanBrussel/.cursor/dashboard/src/components/onboarding/step-intro.tsx"],"sourcesContent":["\"use client\";\n\nimport { OnboardingFullscreenLayout } from \"./onboarding-fullscreen-layout\";\n\nexport function StepIntro() {\n  return (\n    <OnboardingFullscreenLayout\n      step={1}\n      title=\"Welcome\"\n      subtitle=\"Set up your dashboard in a few steps. You will connect Home Assistant, choose entities, set up rooms, name your dashboard, and save.\"\n    >\n      <ol className=\"list-decimal list-inside space-y-2 text-sm text-gray-600 dark:text-gray-300\">\n        <li>Connect – Base URL and Long-Lived Access Token</li>\n        <li>Fetch entities – Load and select which entities to use (click tags)</li>\n        <li>Fetch rooms – Import areas or create rooms</li>\n        <li>Name – Give your dashboard a name</li>\n        <li>Save – Create dashboard and finish</li>\n      </ol>\n    </OnboardingFullscreenLayout>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIO,SAAS;IACd,qBACE,8OAAC,oMAA0B;QACzB,MAAM;QACN,OAAM;QACN,UAAS;kBAET,cAAA,8OAAC;YAAG,WAAU;;8BACZ,8OAAC;8BAAG;;;;;;8BACJ,8OAAC;8BAAG;;;;;;8BACJ,8OAAC;8BAAG;;;;;;8BACJ,8OAAC;8BAAG;;;;;;8BACJ,8OAAC;8BAAG;;;;;;;;;;;;;;;;;AAIZ","debugId":null}},
    {"offset": {"line": 274, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HiddevanBrussel/.cursor/dashboard/src/components/onboarding/step-connect.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { OnboardingFullscreenLayout } from \"./onboarding-fullscreen-layout\";\nimport { useOnboardingStore } from \"@/stores/onboarding-store\";\n\nexport function StepConnect() {\n  const { connection, setConnection, setTestResult, testResult, nextStep } =\n    useOnboardingStore();\n  const [testing, setTesting] = useState(false);\n\n  async function handleTest() {\n    setTesting(true);\n    setTestResult(null);\n    try {\n      const res = await fetch(\"/api/ha/test\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          baseUrl: connection.baseUrl,\n          token: connection.token,\n        }),\n      });\n      const data = await res.json();\n      if (data.ok) {\n        setTestResult({ ok: true });\n      } else {\n        setTestResult({ ok: false, error: data.error ?? \"Connection failed\" });\n      }\n    } catch (err) {\n      setTestResult({\n        ok: false,\n        error: err instanceof Error ? err.message : \"Request failed\",\n      });\n    } finally {\n      setTesting(false);\n    }\n  }\n\n  async function handleSaveAndContinue() {\n    if (!testResult?.ok) return;\n    setTesting(true);\n    try {\n      const res = await fetch(\"/api/ha/connection\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          baseUrl: connection.baseUrl,\n          token: connection.token,\n        }),\n      });\n      const data = await res.json();\n      if (data.connectionId) {\n        setConnection({ connectionId: data.connectionId });\n        nextStep();\n      }\n    } finally {\n      setTesting(false);\n    }\n  }\n\n  return (\n    <OnboardingFullscreenLayout\n      step={2}\n      title=\"Connect to Home Assistant\"\n      subtitle=\"Enter your instance URL and Long-Lived Access Token. The connection is saved in this step. Test it, then continue.\"\n    >\n      <div className=\"space-y-4 max-w-md\">\n        <div>\n          <label htmlFor=\"baseUrl\" className=\"block text-sm font-medium mb-1\">\n            Base URL\n          </label>\n          <input\n            id=\"baseUrl\"\n            type=\"url\"\n            value={connection.baseUrl}\n            onChange={(e) => setConnection({ baseUrl: e.target.value })}\n            placeholder=\"http://homeassistant.local:8123\"\n            className=\"w-full rounded-lg border border-gray-300 dark:border-white/20 bg-white dark:bg-white/5 px-3 py-2 text-sm\"\n          />\n        </div>\n        <div>\n          <label htmlFor=\"token\" className=\"block text-sm font-medium mb-1\">\n            Long-Lived Access Token\n          </label>\n          <input\n            id=\"token\"\n            type=\"password\"\n            value={connection.token}\n            onChange={(e) => setConnection({ token: e.target.value })}\n            placeholder=\"Paste your token\"\n            className=\"w-full rounded-lg border border-gray-300 dark:border-white/20 bg-white dark:bg-white/5 px-3 py-2 text-sm\"\n          />\n        </div>\n        <div className=\"flex flex-wrap gap-2\">\n          <button\n            type=\"button\"\n            onClick={handleTest}\n            disabled={testing}\n            className=\"rounded-full bg-accent-yellow dark:bg-accent-green px-4 py-2 text-sm font-medium text-gray-900 disabled:opacity-50\"\n          >\n            Test connection\n          </button>\n          {testResult?.ok && (\n            <button\n              type=\"button\"\n              onClick={handleSaveAndContinue}\n              disabled={testing}\n              className=\"rounded-full bg-white dark:bg-white/10 border border-gray-200 dark:border-white/20 px-4 py-2 text-sm font-medium\"\n            >\n              Save and continue\n            </button>\n          )}\n        </div>\n        {testResult !== null && (\n          <div\n            className={`rounded-lg p-3 text-sm ${\n              testResult.ok\n                ? \"bg-green-50 dark:bg-green-950/30 text-green-800 dark:text-green-200\"\n                : \"bg-red-50 dark:bg-red-950/30 text-red-800 dark:text-red-200\"\n            }`}\n          >\n            {testing && \"Testing…\"}\n            {!testing && testResult.ok && \"Connection successful. Save and continue above.\"}\n            {!testing && !testResult.ok && (\n              <>\n                <p className=\"font-medium\">Connection failed</p>\n                <p className=\"mt-1\">{testResult.error}</p>\n                <p className=\"mt-2 text-xs opacity-90\">\n                  Tip: create a token in HA under Profile → Long-Lived Access Tokens; use HTTPS or a reverse proxy if needed.\n                </p>\n              </>\n            )}\n          </div>\n        )}\n      </div>\n    </OnboardingFullscreenLayout>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMO,SAAS;IACd,MAAM,EAAE,UAAU,EAAE,aAAa,EAAE,aAAa,EAAE,UAAU,EAAE,QAAQ,EAAE,GACtE,IAAA,0JAAkB;IACpB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,eAAe;QACb,WAAW;QACX,cAAc;QACd,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,gBAAgB;gBACtC,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBACnB,SAAS,WAAW,OAAO;oBAC3B,OAAO,WAAW,KAAK;gBACzB;YACF;YACA,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,IAAI,KAAK,EAAE,EAAE;gBACX,cAAc;oBAAE,IAAI;gBAAK;YAC3B,OAAO;gBACL,cAAc;oBAAE,IAAI;oBAAO,OAAO,KAAK,KAAK,IAAI;gBAAoB;YACtE;QACF,EAAE,OAAO,KAAK;YACZ,cAAc;gBACZ,IAAI;gBACJ,OAAO,eAAe,QAAQ,IAAI,OAAO,GAAG;YAC9C;QACF,SAAU;YACR,WAAW;QACb;IACF;IAEA,eAAe;QACb,IAAI,CAAC,YAAY,IAAI;QACrB,WAAW;QACX,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,sBAAsB;gBAC5C,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBACnB,SAAS,WAAW,OAAO;oBAC3B,OAAO,WAAW,KAAK;gBACzB;YACF;YACA,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,IAAI,KAAK,YAAY,EAAE;gBACrB,cAAc;oBAAE,cAAc,KAAK,YAAY;gBAAC;gBAChD;YACF;QACF,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,8OAAC,oMAA0B;QACzB,MAAM;QACN,OAAM;QACN,UAAS;kBAET,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;;sCACC,8OAAC;4BAAM,SAAQ;4BAAU,WAAU;sCAAiC;;;;;;sCAGpE,8OAAC;4BACC,IAAG;4BACH,MAAK;4BACL,OAAO,WAAW,OAAO;4BACzB,UAAU,CAAC,IAAM,cAAc;oCAAE,SAAS,EAAE,MAAM,CAAC,KAAK;gCAAC;4BACzD,aAAY;4BACZ,WAAU;;;;;;;;;;;;8BAGd,8OAAC;;sCACC,8OAAC;4BAAM,SAAQ;4BAAQ,WAAU;sCAAiC;;;;;;sCAGlE,8OAAC;4BACC,IAAG;4BACH,MAAK;4BACL,OAAO,WAAW,KAAK;4BACvB,UAAU,CAAC,IAAM,cAAc;oCAAE,OAAO,EAAE,MAAM,CAAC,KAAK;gCAAC;4BACvD,aAAY;4BACZ,WAAU;;;;;;;;;;;;8BAGd,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BACC,MAAK;4BACL,SAAS;4BACT,UAAU;4BACV,WAAU;sCACX;;;;;;wBAGA,YAAY,oBACX,8OAAC;4BACC,MAAK;4BACL,SAAS;4BACT,UAAU;4BACV,WAAU;sCACX;;;;;;;;;;;;gBAKJ,eAAe,sBACd,8OAAC;oBACC,WAAW,CAAC,uBAAuB,EACjC,WAAW,EAAE,GACT,wEACA,+DACJ;;wBAED,WAAW;wBACX,CAAC,WAAW,WAAW,EAAE,IAAI;wBAC7B,CAAC,WAAW,CAAC,WAAW,EAAE,kBACzB;;8CACE,8OAAC;oCAAE,WAAU;8CAAc;;;;;;8CAC3B,8OAAC;oCAAE,WAAU;8CAAQ,WAAW,KAAK;;;;;;8CACrC,8OAAC;oCAAE,WAAU;8CAA0B;;;;;;;;;;;;;;;;;;;;;;;;;AAUvD","debugId":null}},
    {"offset": {"line": 504, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HiddevanBrussel/.cursor/dashboard/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\r\nimport { twMerge } from \"tailwind-merge\";\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs));\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB","debugId":null}},
    {"offset": {"line": 519, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HiddevanBrussel/.cursor/dashboard/src/components/layout/glass-card.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ntype GlassCardProps = {\r\n  children: React.ReactNode;\r\n  className?: string;\r\n  as?: \"div\" | \"article\" | \"section\";\r\n};\r\n\r\nexport function GlassCard({\r\n  children,\r\n  className,\r\n  as: Component = \"div\",\r\n}: GlassCardProps) {\r\n  return (\r\n    <Component\r\n      className={cn(\r\n        \"glass-card rounded-card border border-white/60 p-4 dark:border-white/10\",\r\n        \"transition-shadow duration-150 hover:shadow-lg dark:hover:shadow-glass-dark\",\r\n        className\r\n      )}\r\n    >\r\n      {children}\r\n    </Component>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAUO,SAAS,UAAU,EACxB,QAAQ,EACR,SAAS,EACT,IAAI,YAAY,KAAK,EACN;IACf,qBACE,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,2EACA,+EACA;kBAGD;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 542, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HiddevanBrussel/.cursor/dashboard/src/components/layout/top-tabs.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\nimport {\r\n  LayoutDashboard,\r\n  DoorOpen,\r\n  Smartphone,\r\n  Users,\r\n  FileText,\r\n} from \"lucide-react\";\r\nimport Link from \"next/link\";\r\n\r\nconst tabs = [\r\n  { href: \"/dashboards\", label: \"Dashboard\", icon: LayoutDashboard },\r\n  { href: \"/rooms\", label: \"Rooms\", icon: DoorOpen },\r\n  { href: \"/devices\", label: \"Devices\", icon: Smartphone },\r\n  { href: \"/family\", label: \"Family\", icon: Users },\r\n  { href: \"/reports\", label: \"Reports\", icon: FileText, badge: 12 },\r\n] as const;\r\n\r\ntype TopTabsProps = {\r\n  activeHref?: string;\r\n  className?: string;\r\n};\r\n\r\nexport function TopTabs({ activeHref, className }: TopTabsProps) {\r\n  return (\r\n    <nav\r\n      className={cn(\r\n        \"flex items-center gap-1 rounded-full bg-black/5 px-1 py-1 dark:bg-white/5\",\r\n        className\r\n      )}\r\n      role=\"tablist\"\r\n    >\r\n      {tabs.map(({ href, label, icon: Icon, badge }) => {\r\n        const isActive = activeHref === href;\r\n        return (\r\n          <Link\r\n            key={href}\r\n            href={href}\r\n            role=\"tab\"\r\n            aria-selected={isActive}\r\n            className={cn(\r\n              \"relative flex items-center gap-2 rounded-full px-4 py-2 text-sm font-medium transition-all duration-150\",\r\n              isActive\r\n                ? \"bg-white text-gray-900 shadow-sm dark:bg-white/95 dark:text-gray-900\"\r\n                : \"text-gray-600 hover:bg-white/50 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-white/10 dark:hover:text-white\"\r\n            )}\r\n          >\r\n            <Icon className=\"h-4 w-4\" aria-hidden />\r\n            {label}\r\n            {badge != null && (\r\n              <span className=\"ml-1 flex h-5 min-w-5 items-center justify-center rounded-full bg-gray-200 px-1.5 text-xs dark:bg-white/20\">\r\n                {badge}\r\n              </span>\r\n            )}\r\n          </Link>\r\n        );\r\n      })}\r\n    </nav>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAOA;AAVA;;;;;AAYA,MAAM,OAAO;IACX;QAAE,MAAM;QAAe,OAAO;QAAa,MAAM,+OAAe;IAAC;IACjE;QAAE,MAAM;QAAU,OAAO;QAAS,MAAM,0NAAQ;IAAC;IACjD;QAAE,MAAM;QAAY,OAAO;QAAW,MAAM,4NAAU;IAAC;IACvD;QAAE,MAAM;QAAW,OAAO;QAAU,MAAM,6MAAK;IAAC;IAChD;QAAE,MAAM;QAAY,OAAO;QAAW,MAAM,0NAAQ;QAAE,OAAO;IAAG;CACjE;AAOM,SAAS,QAAQ,EAAE,UAAU,EAAE,SAAS,EAAgB;IAC7D,qBACE,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,6EACA;QAEF,MAAK;kBAEJ,KAAK,GAAG,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,MAAM,IAAI,EAAE,KAAK,EAAE;YAC3C,MAAM,WAAW,eAAe;YAChC,qBACE,8OAAC,uKAAI;gBAEH,MAAM;gBACN,MAAK;gBACL,iBAAe;gBACf,WAAW,IAAA,yHAAE,EACX,2GACA,WACI,yEACA;;kCAGN,8OAAC;wBAAK,WAAU;wBAAU,aAAW;;;;;;oBACpC;oBACA,SAAS,sBACR,8OAAC;wBAAK,WAAU;kCACb;;;;;;;eAfA;;;;;QAoBX;;;;;;AAGN","debugId":null}},
    {"offset": {"line": 633, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HiddevanBrussel/.cursor/dashboard/src/components/layout/sidebar.tsx"],"sourcesContent":["\"use client\";\n\nimport { cn } from \"@/lib/utils\";\nimport { Home, Settings } from \"lucide-react\";\nimport Link from \"next/link\";\n\nconst mainIcons = [\n  { href: \"/dashboards\", icon: Home, label: \"Home\" },\n  { href: \"/settings\", icon: Settings, label: \"Settings\" },\n] as const;\n\ntype SidebarProps = {\n  activeHref?: string;\n  className?: string;\n};\n\nexport function Sidebar({ activeHref, className }: SidebarProps) {\n  return (\n    <aside\n      className={cn(\n        \"flex w-14 flex-col items-center gap-2 rounded-full bg-gray-900/90 py-3 dark:bg-black/40\",\n        className\n      )}\n      aria-label=\"Sidebar\"\n    >\n      {mainIcons.map(({ href, icon: Icon, label }) => {\n        const isActive = activeHref === href;\n        return (\n          <Link\n            key={label}\n            href={href}\n            aria-label={label}\n            className={cn(\n              \"flex h-10 w-10 items-center justify-center rounded-full transition-all duration-150\",\n              isActive\n                ? \"bg-white text-gray-900\"\n                : \"text-white/80 hover:bg-white/15 hover:text-white\"\n            )}\n          >\n            <Icon className=\"h-5 w-5\" />\n          </Link>\n        );\n      })}\n    </aside>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAJA;;;;;AAMA,MAAM,YAAY;IAChB;QAAE,MAAM;QAAe,MAAM,2MAAI;QAAE,OAAO;IAAO;IACjD;QAAE,MAAM;QAAa,MAAM,sNAAQ;QAAE,OAAO;IAAW;CACxD;AAOM,SAAS,QAAQ,EAAE,UAAU,EAAE,SAAS,EAAgB;IAC7D,qBACE,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,2FACA;QAEF,cAAW;kBAEV,UAAU,GAAG,CAAC,CAAC,EAAE,IAAI,EAAE,MAAM,IAAI,EAAE,KAAK,EAAE;YACzC,MAAM,WAAW,eAAe;YAChC,qBACE,8OAAC,uKAAI;gBAEH,MAAM;gBACN,cAAY;gBACZ,WAAW,IAAA,yHAAE,EACX,uFACA,WACI,2BACA;0BAGN,cAAA,8OAAC;oBAAK,WAAU;;;;;;eAVX;;;;;QAaX;;;;;;AAGN","debugId":null}},
    {"offset": {"line": 692, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HiddevanBrussel/.cursor/dashboard/src/components/layout/floating-toolbar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\nimport { ZoomIn, ZoomOut, Search, X } from \"lucide-react\";\r\n\r\ntype FloatingToolbarProps = {\r\n  className?: string;\r\n  showFamilyHub?: boolean;\r\n};\r\n\r\nexport function FloatingToolbar({\r\n  className,\r\n  showFamilyHub = true,\r\n}: FloatingToolbarProps) {\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"fixed bottom-6 left-1/2 z-50 flex -translate-x-1/2 items-center gap-2 rounded-full bg-gray-900/90 px-3 py-2 shadow-lg dark:bg-black/50\",\r\n        className\r\n      )}\r\n      role=\"toolbar\"\r\n      aria-label=\"Floating toolbar\"\r\n    >\r\n      <button\r\n        type=\"button\"\r\n        aria-label=\"Zoom in\"\r\n        className=\"flex h-9 w-9 items-center justify-center rounded-full text-white/90 hover:bg-white/15 hover:text-white\"\r\n      >\r\n        <ZoomIn className=\"h-4 w-4\" />\r\n      </button>\r\n      <button\r\n        type=\"button\"\r\n        aria-label=\"Zoom out\"\r\n        className=\"flex h-9 w-9 items-center justify-center rounded-full text-white/90 hover:bg-white/15 hover:text-white\"\r\n      >\r\n        <ZoomOut className=\"h-4 w-4\" />\r\n      </button>\r\n      <button\r\n        type=\"button\"\r\n        aria-label=\"Search\"\r\n        className=\"flex h-9 w-9 items-center justify-center rounded-full text-white/90 hover:bg-white/15 hover:text-white\"\r\n      >\r\n        <Search className=\"h-4 w-4\" />\r\n      </button>\r\n      <button\r\n        type=\"button\"\r\n        aria-label=\"Close\"\r\n        className=\"flex h-9 w-9 items-center justify-center rounded-full text-white/90 hover:bg-white/15 hover:text-white\"\r\n      >\r\n        <X className=\"h-4 w-4\" />\r\n      </button>\r\n      {showFamilyHub && (\r\n        <>\r\n          <div className=\"mx-1 h-6 w-px bg-white/20\" />\r\n          <div className=\"flex -space-x-2\">\r\n            {[1, 2, 3].map((i) => (\r\n              <div\r\n                key={i}\r\n                className=\"h-8 w-8 rounded-full border-2 border-gray-900 bg-gray-500 dark:border-dark-page\"\r\n                aria-hidden\r\n              />\r\n            ))}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAHA;;;;AAUO,SAAS,gBAAgB,EAC9B,SAAS,EACT,gBAAgB,IAAI,EACC;IACrB,qBACE,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,0IACA;QAEF,MAAK;QACL,cAAW;;0BAEX,8OAAC;gBACC,MAAK;gBACL,cAAW;gBACX,WAAU;0BAEV,cAAA,8OAAC,oNAAM;oBAAC,WAAU;;;;;;;;;;;0BAEpB,8OAAC;gBACC,MAAK;gBACL,cAAW;gBACX,WAAU;0BAEV,cAAA,8OAAC,uNAAO;oBAAC,WAAU;;;;;;;;;;;0BAErB,8OAAC;gBACC,MAAK;gBACL,cAAW;gBACX,WAAU;0BAEV,cAAA,8OAAC,gNAAM;oBAAC,WAAU;;;;;;;;;;;0BAEpB,8OAAC;gBACC,MAAK;gBACL,cAAW;gBACX,WAAU;0BAEV,cAAA,8OAAC,iMAAC;oBAAC,WAAU;;;;;;;;;;;YAEd,+BACC;;kCACE,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAI,WAAU;kCACZ;4BAAC;4BAAG;4BAAG;yBAAE,CAAC,GAAG,CAAC,CAAC,kBACd,8OAAC;gCAEC,WAAU;gCACV,aAAW;+BAFN;;;;;;;;;;;;;;;;;;AAUrB","debugId":null}},
    {"offset": {"line": 817, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HiddevanBrussel/.cursor/dashboard/src/components/theme-switcher.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useThemeStore, type ThemeMode } from \"@/stores/theme-store\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst options: { value: ThemeMode; label: string }[] = [\r\n  { value: \"auto\", label: \"Auto\" },\r\n  { value: \"light\", label: \"Light\" },\r\n  { value: \"dark\", label: \"Dark\" },\r\n];\r\n\r\nexport function ThemeSwitcher({ className }: { className?: string }) {\r\n  const { mode, setMode } = useThemeStore();\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"flex rounded-full bg-gray-100 p-0.5 dark:bg-white/10\",\r\n        className\r\n      )}\r\n      role=\"radiogroup\"\r\n      aria-label=\"Theme\"\r\n    >\r\n      {options.map(({ value, label }) => (\r\n        <button\r\n          key={value}\r\n          type=\"button\"\r\n          role=\"radio\"\r\n          aria-checked={mode === value}\r\n          onClick={() => setMode(value)}\r\n          className={cn(\r\n            \"rounded-full px-3 py-1.5 text-xs font-medium transition-all duration-200\",\r\n            mode === value\r\n              ? \"bg-white text-gray-900 shadow-sm dark:bg-white/20 dark:text-white\"\r\n              : \"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white\"\r\n          )}\r\n        >\r\n          {label}\r\n        </button>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKA,MAAM,UAAiD;IACrD;QAAE,OAAO;QAAQ,OAAO;IAAO;IAC/B;QAAE,OAAO;QAAS,OAAO;IAAQ;IACjC;QAAE,OAAO;QAAQ,OAAO;IAAO;CAChC;AAEM,SAAS,cAAc,EAAE,SAAS,EAA0B;IACjE,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,gJAAa;IAEvC,qBACE,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,wDACA;QAEF,MAAK;QACL,cAAW;kBAEV,QAAQ,GAAG,CAAC,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,iBAC5B,8OAAC;gBAEC,MAAK;gBACL,MAAK;gBACL,gBAAc,SAAS;gBACvB,SAAS,IAAM,QAAQ;gBACvB,WAAW,IAAA,yHAAE,EACX,4EACA,SAAS,QACL,sEACA;0BAGL;eAZI;;;;;;;;;;AAiBf","debugId":null}},
    {"offset": {"line": 870, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HiddevanBrussel/.cursor/dashboard/src/components/layout/app-shell.tsx"],"sourcesContent":["\"use client\";\n\nimport { cn } from \"@/lib/utils\";\nimport { TopTabs } from \"./top-tabs\";\nimport { Sidebar } from \"./sidebar\";\nimport { FloatingToolbar } from \"./floating-toolbar\";\nimport { ThemeSwitcher } from \"@/components/theme-switcher\";\nimport { usePageBackground } from \"@/components/page-background\";\n\ntype AppShellProps = {\n  children: React.ReactNode;\n  activeTab?: string;\n  showSidebar?: boolean;\n  showFloatingToolbar?: boolean;\n  className?: string;\n};\n\nexport function AppShell({\n  children,\n  activeTab = \"/dashboards\",\n  showSidebar = true,\n  showFloatingToolbar = false,\n  className,\n}: AppShellProps) {\n  const pageBackground = usePageBackground();\n  return (\n    <div\n      className={cn(\n        \"flex min-h-screen flex-col\",\n        pageBackground\n          ? \"bg-white/85 dark:bg-black/50\"\n          : \"bg-page-light dark:bg-dark-page\",\n        className\n      )}\n    >\n      <header className=\"flex shrink-0 items-center justify-between gap-4 border-b border-gray-200/50 px-4 py-3 dark:border-white/10\">\n        <TopTabs activeHref={activeTab} />\n        <div className=\"flex items-center gap-3\">\n          <ThemeSwitcher />\n          <button\n            type=\"button\"\n            aria-label=\"Notifications\"\n            className=\"flex h-9 w-9 items-center justify-center rounded-full text-gray-500 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-white/10\"\n          />\n          <button\n            type=\"button\"\n            aria-label=\"Messages\"\n            className=\"flex h-9 w-9 items-center justify-center rounded-full text-gray-500 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-white/10\"\n          />\n          <div className=\"ml-2 h-8 w-8 rounded-full bg-gray-300 dark:bg-gray-600\" aria-hidden />\n        </div>\n      </header>\n\n      <div className=\"flex flex-1 overflow-hidden\">\n        {showSidebar && (\n          <div className=\"flex shrink-0 flex-col items-center py-4 pl-3\">\n            <Sidebar activeHref={activeTab} />\n          </div>\n        )}\n        <main className=\"flex-1 overflow-auto p-4\">{children}</main>\n      </div>\n\n      {showFloatingToolbar && <FloatingToolbar />}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AAiBO,SAAS,SAAS,EACvB,QAAQ,EACR,YAAY,aAAa,EACzB,cAAc,IAAI,EAClB,sBAAsB,KAAK,EAC3B,SAAS,EACK;IACd,MAAM,iBAAiB,IAAA,6JAAiB;IACxC,qBACE,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,8BACA,iBACI,iCACA,mCACJ;;0BAGF,8OAAC;gBAAO,WAAU;;kCAChB,8OAAC,sJAAO;wBAAC,YAAY;;;;;;kCACrB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,wJAAa;;;;;0CACd,8OAAC;gCACC,MAAK;gCACL,cAAW;gCACX,WAAU;;;;;;0CAEZ,8OAAC;gCACC,MAAK;gCACL,cAAW;gCACX,WAAU;;;;;;0CAEZ,8OAAC;gCAAI,WAAU;gCAAyD,aAAW;;;;;;;;;;;;;;;;;;0BAIvF,8OAAC;gBAAI,WAAU;;oBACZ,6BACC,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,kJAAO;4BAAC,YAAY;;;;;;;;;;;kCAGzB,8OAAC;wBAAK,WAAU;kCAA4B;;;;;;;;;;;;YAG7C,qCAAuB,8OAAC,sKAAe;;;;;;;;;;;AAG9C","debugId":null}},
    {"offset": {"line": 997, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HiddevanBrussel/.cursor/dashboard/src/components/layout/hero-section.tsx"],"sourcesContent":["\"use client\";\n\nimport { cn } from \"@/lib/utils\";\n\ntype HeroSectionProps = {\n  title: string;\n  subtitle: string;\n  /** \"light\" | \"dark\" = gradient (geen afbeelding), string = URL (eigen upload of /hero-...) */\n  backgroundImage?: \"light\" | \"dark\" | string;\n  className?: string;\n  children?: React.ReactNode;\n};\n\nconst gradientLight =\n  \"linear-gradient(135deg, rgba(246,210,92,0.4) 0%, rgba(180,139,255,0.3) 50%, rgba(100,120,140,0.5) 100%)\";\nconst gradientDark =\n  \"linear-gradient(135deg, rgba(43,63,75,0.9) 0%, rgba(31,47,58,0.95) 50%, rgba(107,228,107,0.15) 100%)\";\n\nexport function HeroSection({\n  title,\n  subtitle,\n  backgroundImage,\n  className,\n  children,\n}: HeroSectionProps) {\n  const useGradient =\n    backgroundImage === \"light\" || backgroundImage === \"dark\";\n  const bgUrl =\n    backgroundImage && !useGradient ? backgroundImage : undefined;\n\n  return (\n    <section\n      className={cn(\n        \"relative flex min-h-[320px] flex-col justify-end rounded-card overflow-hidden\",\n        className\n      )}\n    >\n      {useGradient && (\n        <div\n          className=\"absolute inset-0\"\n          style={{\n            background:\n              backgroundImage === \"dark\" ? gradientDark : gradientLight,\n          }}\n          aria-hidden\n        />\n      )}\n      {bgUrl && (\n        <div\n          className=\"absolute inset-0 bg-cover bg-center bg-no-repeat\"\n          style={{ backgroundImage: `url(${bgUrl})` }}\n          aria-hidden\n        />\n      )}\n      <div\n        className=\"absolute inset-0 bg-hero-overlay dark:bg-dark-card/60\"\n        aria-hidden\n      />\n      <div className=\"relative z-10 p-8\">\n        <h1 className=\"text-hero-title font-bold tracking-tight text-white drop-shadow-sm\">\n          {title}\n        </h1>\n        <p className=\"mt-2 text-hero-subtitle text-white/95\">{subtitle}</p>\n        {children}\n      </div>\n    </section>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAaA,MAAM,gBACJ;AACF,MAAM,eACJ;AAEK,SAAS,YAAY,EAC1B,KAAK,EACL,QAAQ,EACR,eAAe,EACf,SAAS,EACT,QAAQ,EACS;IACjB,MAAM,cACJ,oBAAoB,WAAW,oBAAoB;IACrD,MAAM,QACJ,mBAAmB,CAAC,cAAc,kBAAkB;IAEtD,qBACE,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,iFACA;;YAGD,6BACC,8OAAC;gBACC,WAAU;gBACV,OAAO;oBACL,YACE,oBAAoB,SAAS,eAAe;gBAChD;gBACA,aAAW;;;;;;YAGd,uBACC,8OAAC;gBACC,WAAU;gBACV,OAAO;oBAAE,iBAAiB,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;gBAAC;gBAC1C,aAAW;;;;;;0BAGf,8OAAC;gBACC,WAAU;gBACV,aAAW;;;;;;0BAEb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCACX;;;;;;kCAEH,8OAAC;wBAAE,WAAU;kCAAyC;;;;;;oBACrD;;;;;;;;;;;;;AAIT","debugId":null}},
    {"offset": {"line": 1081, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HiddevanBrussel/.cursor/dashboard/src/components/onboarding/onboarding-layout.tsx"],"sourcesContent":["\"use client\";\n\nimport { AppShell } from \"@/components/layout/app-shell\";\nimport { HeroSection } from \"@/components/layout/hero-section\";\nimport { GlassCard } from \"@/components/layout/glass-card\";\n\ntype OnboardingLayoutProps = {\n  step: number;\n  heroTitle: string;\n  heroSubtitle: string;\n  rightCards: React.ReactNode;\n  children: React.ReactNode;\n};\n\nexport function OnboardingLayout({\n  step,\n  heroTitle,\n  heroSubtitle,\n  rightCards,\n  children,\n}: OnboardingLayoutProps) {\n  return (\n    <AppShell activeTab=\"/dashboards\" showFloatingToolbar={false}>\n      <div className=\"flex gap-6\">\n        <div className=\"flex-1 min-w-0 space-y-6\">\n          <HeroSection\n            title={heroTitle}\n            subtitle={heroSubtitle}\n            backgroundImage={step === 1 ? undefined : \"light\"}\n          />\n          <div className=\"rounded-card\">{children}</div>\n        </div>\n        <div className=\"w-[380px] shrink-0 space-y-4 flex flex-col\">\n          {rightCards}\n        </div>\n      </div>\n    </AppShell>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAcO,SAAS,iBAAiB,EAC/B,IAAI,EACJ,SAAS,EACT,YAAY,EACZ,UAAU,EACV,QAAQ,EACc;IACtB,qBACE,8OAAC,wJAAQ;QAAC,WAAU;QAAc,qBAAqB;kBACrD,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,8JAAW;4BACV,OAAO;4BACP,UAAU;4BACV,iBAAiB,SAAS,IAAI,YAAY;;;;;;sCAE5C,8OAAC;4BAAI,WAAU;sCAAgB;;;;;;;;;;;;8BAEjC,8OAAC;oBAAI,WAAU;8BACZ;;;;;;;;;;;;;;;;;AAKX","debugId":null}},
    {"offset": {"line": 1149, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HiddevanBrussel/.cursor/dashboard/src/components/onboarding/step-discovery.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState, useMemo } from \"react\";\nimport { GlassCard } from \"@/components/layout/glass-card\";\nimport { OnboardingLayout } from \"./onboarding-layout\";\nimport { useOnboardingStore } from \"@/stores/onboarding-store\";\n\nconst DOMAIN_FILTERS = [\n  \"light\",\n  \"switch\",\n  \"climate\",\n  \"sensor\",\n  \"media_player\",\n  \"vacuum\",\n] as const;\n\nfunction getDomain(entityId: string): string {\n  return entityId.split(\".\")[0] ?? \"\";\n}\n\nexport function StepDiscovery() {\n  const { setEntities, entities, connectionId } = useOnboardingStore();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [search, setSearch] = useState(\"\");\n  const [domainFilter, setDomainFilter] = useState<string | null>(null);\n\n  useEffect(() => {\n    let cancelled = false;\n    setLoading(true);\n    setError(null);\n    const url = connectionId\n      ? `/api/ha/entities?connectionId=${encodeURIComponent(connectionId)}`\n      : \"/api/ha/entities\";\n    fetch(url)\n      .then((r) => {\n        if (!r.ok) return r.json().then((body) => ({ error: body?.error ?? \"Failed to load\" }));\n        return r.json();\n      })\n      .then((data) => {\n        if (cancelled) return;\n        if (\"error\" in data) {\n          setError(data.error);\n          return;\n        }\n        if (Array.isArray(data)) setEntities(data);\n      })\n      .catch(() => {\n        if (!cancelled) setError(\"Connection failed. Check that Home Assistant is reachable.\");\n      })\n      .finally(() => {\n        if (!cancelled) setLoading(false);\n      });\n    return () => {\n      cancelled = true;\n    };\n  }, [connectionId, setEntities]);\n\n  const filtered = useMemo(() => {\n    let list = entities;\n    if (domainFilter) {\n      list = list.filter((e) => getDomain(e.entity_id) === domainFilter);\n    }\n    if (search.trim()) {\n      const q = search.trim().toLowerCase();\n      list = list.filter(\n        (e) =>\n          e.entity_id.toLowerCase().includes(q) ||\n          String((e.attributes as { friendly_name?: string })?.friendly_name ?? \"\")\n            .toLowerCase()\n            .includes(q)\n      );\n    }\n    return list;\n  }, [entities, domainFilter, search]);\n\n  return (\n    <OnboardingLayout\n      step={3}\n      heroTitle=\"Discover entities\"\n      heroSubtitle=\"Entities from your Home Assistant instance. Filter by domain or search to find the ones you need.\"\n      rightCards={\n        <GlassCard>\n          <h3 className=\"text-card-title font-medium mb-2\">Filters</h3>\n          <p className=\"text-xs text-gray-500 dark:text-gray-400 mb-3\">\n            {entities.length} entities loaded. Use chips and search to narrow.\n          </p>\n          <div className=\"flex flex-wrap gap-1\">\n            <button\n              type=\"button\"\n              onClick={() => setDomainFilter(null)}\n              className={`rounded-full px-2.5 py-1 text-xs font-medium ${\n                domainFilter === null\n                  ? \"bg-accent-yellow dark:bg-accent-green text-gray-900\"\n                  : \"bg-gray-200 dark:bg-white/10 text-gray-600 dark:text-gray-300\"\n              }`}\n            >\n              All\n            </button>\n            {DOMAIN_FILTERS.map((d) => (\n              <button\n                key={d}\n                type=\"button\"\n                onClick={() => setDomainFilter(d)}\n                className={`rounded-full px-2.5 py-1 text-xs font-medium ${\n                  domainFilter === d\n                    ? \"bg-accent-yellow dark:bg-accent-green text-gray-900\"\n                    : \"bg-gray-200 dark:bg-white/10 text-gray-600 dark:text-gray-300\"\n                }`}\n              >\n                {d}\n              </button>\n            ))}\n          </div>\n        </GlassCard>\n      }\n    >\n      <div className=\"space-y-4\">\n        <input\n          type=\"search\"\n          placeholder=\"Search by entity_id or name...\"\n          value={search}\n          onChange={(e) => setSearch(e.target.value)}\n          className=\"w-full max-w-md rounded-lg border border-gray-300 dark:border-white/20 bg-white dark:bg-white/5 px-3 py-2 text-sm\"\n        />\n        {error && (\n          <div className=\"rounded-card border border-amber-200 dark:border-amber-800 bg-amber-50 dark:bg-amber-950/30 p-4 text-sm text-amber-800 dark:text-amber-200\">\n            {error}\n            {error.includes(\"onboarding\") || error.includes(\"connection\") ? (\n              <p className=\"mt-2 text-xs\">\n                Go back to step 2, test the connection and click &quot;Save and continue&quot;.\n              </p>\n            ) : null}\n          </div>\n        )}\n        {loading ? (\n          <p className=\"text-sm text-gray-500\">Loading entities…</p>\n        ) : !error ? (\n          <div className=\"rounded-card border border-gray-200 dark:border-white/10 divide-y divide-gray-200 dark:divide-white/10 max-h-[420px] overflow-auto\">\n            {filtered.slice(0, 100).map((e) => {\n              const name =\n                (e.attributes as { friendly_name?: string })?.friendly_name ??\n                e.entity_id;\n              return (\n                <div\n                  key={e.entity_id}\n                  className=\"flex items-center justify-between px-4 py-2 text-sm\"\n                >\n                  <span className=\"font-medium truncate\">{name}</span>\n                  <span className=\"text-gray-500 dark:text-gray-400 text-xs ml-2 shrink-0\">\n                    {e.entity_id}\n                  </span>\n                  <span\n                    className=\"ml-2 shrink-0 rounded px-2 py-0.5 text-xs bg-gray-100 dark:bg-white/10\"\n                    title=\"State\"\n                  >\n                    {e.state}\n                  </span>\n                </div>\n              );\n            })}\n            {filtered.length > 100 && (\n              <div className=\"px-4 py-2 text-xs text-gray-500\">\n                First 100 of {filtered.length} shown\n              </div>\n            )}\n          </div>\n        ) : null}\n      </div>\n    </OnboardingLayout>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1398, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HiddevanBrussel/.cursor/dashboard/src/components/onboarding/step-rooms.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { GlassCard } from \"@/components/layout/glass-card\";\nimport { OnboardingLayout } from \"./onboarding-layout\";\nimport { useOnboardingStore } from \"@/stores/onboarding-store\";\nimport { Plus } from \"lucide-react\";\n\nexport function StepRooms() {\n  const {\n    rooms,\n    areas,\n    setAreas,\n    addRoom,\n    removeEntityFromRoom,\n    connectionId,\n  } = useOnboardingStore();\n  const [newRoomName, setNewRoomName] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    let cancelled = false;\n    setLoading(true);\n    setError(null);\n    const url = connectionId\n      ? `/api/ha/areas?connectionId=${encodeURIComponent(connectionId)}`\n      : \"/api/ha/areas\";\n    fetch(url)\n      .then((r) => {\n        if (!r.ok) return r.json().then((body) => ({ error: body?.error ?? \"Failed to load\" }));\n        return r.json();\n      })\n      .then((data) => {\n        if (cancelled) return;\n        if (\"error\" in data) {\n          setError(data.error);\n          return;\n        }\n        if (Array.isArray(data)) setAreas(data);\n      })\n      .catch(() => {\n        if (!cancelled) setError(\"Connection failed. Check that Home Assistant is reachable.\");\n      })\n      .finally(() => {\n        if (!cancelled) setLoading(false);\n      });\n    return () => {\n      cancelled = true;\n    };\n  }, [connectionId, setAreas]);\n\n  const importAreasAsRooms = () => {\n    const existingNames = new Set(rooms.map((r) => r.name.toLowerCase()));\n    areas.forEach((a) => {\n      if (a.name && !existingNames.has(a.name.toLowerCase())) {\n        addRoom(a.name);\n        existingNames.add(a.name.toLowerCase());\n      }\n    });\n  };\n\n  return (\n    <OnboardingLayout\n      step={4}\n      heroTitle=\"Rooms\"\n      heroSubtitle=\"Import Home Assistant areas or create rooms. Assign entities to rooms.\"\n      rightCards={\n        <GlassCard>\n          <h3 className=\"text-card-title font-medium mb-2\">Room count</h3>\n          <p className=\"text-2xl font-bold text-accent-orange\">{rooms.length}</p>\n          <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\n            {rooms.reduce((acc, r) => acc + r.entityIds.length, 0)} entities\n          </p>\n        </GlassCard>\n      }\n    >\n      <div className=\"space-y-4\">\n        <div className=\"flex gap-2 items-center\">\n          <input\n            type=\"text\"\n            value={newRoomName}\n            onChange={(e) => setNewRoomName(e.target.value)}\n            placeholder=\"New room name\"\n            className=\"rounded-lg border border-gray-300 dark:border-white/20 bg-white dark:bg-white/5 px-3 py-2 text-sm flex-1 max-w-xs\"\n          />\n          <button\n            type=\"button\"\n            onClick={() => {\n              if (newRoomName.trim()) {\n                addRoom(newRoomName.trim());\n                setNewRoomName(\"\");\n              }\n            }}\n            className=\"rounded-full bg-accent-yellow dark:bg-accent-green p-2 text-gray-900\"\n            aria-label=\"Add room\"\n          >\n            <Plus className=\"h-5 w-5\" />\n          </button>\n        </div>\n        {error && (\n          <div className=\"rounded-card border border-amber-200 dark:border-amber-800 bg-amber-50 dark:bg-amber-950/30 p-4 text-sm text-amber-800 dark:text-amber-200\">\n            {error}\n            {(error.includes(\"onboarding\") || error.includes(\"connection\")) && (\n              <p className=\"mt-2 text-xs\">\n                Go back to step 2, test the connection and click &quot;Save and continue&quot;.\n              </p>\n            )}\n          </div>\n        )}\n        {loading && <p className=\"text-sm text-gray-500\">Loading rooms/areas…</p>}\n        {!loading && !error && areas.length > 0 && (\n          <div className=\"flex flex-wrap items-center gap-2\">\n            <p className=\"text-sm text-gray-600 dark:text-gray-300\">\n              HA-areas: {areas.map((a) => a.name).join(\", \")}\n            </p>\n            <button\n              type=\"button\"\n              onClick={importAreasAsRooms}\n              className=\"rounded-full bg-accent-yellow dark:bg-accent-green px-3 py-1.5 text-sm font-medium text-gray-900\"\n            >\n              Import as rooms\n            </button>\n          </div>\n        )}\n        <div className=\"grid gap-4 sm:grid-cols-2\">\n          {rooms.map((room) => (\n            <GlassCard key={room.id}>\n              <h4 className=\"font-medium mb-2\">{room.name}</h4>\n              <p className=\"text-xs text-gray-500 dark:text-gray-400 mb-2\">\n                {room.entityIds.length} entities\n              </p>\n              <ul className=\"text-sm space-y-1\">\n                {room.entityIds.slice(0, 5).map((id) => (\n                  <li key={id} className=\"flex justify-between items-center\">\n                    <span className=\"truncate\">{id}</span>\n                    <button\n                      type=\"button\"\n                      onClick={() => removeEntityFromRoom(room.id, id)}\n                      className=\"text-red-500 text-xs\"\n                    >\n                      Remove\n                    </button>\n                  </li>\n                ))}\n                {room.entityIds.length > 5 && (\n                  <li className=\"text-gray-500\">\n                    +{room.entityIds.length - 5} more\n                  </li>\n                )}\n              </ul>\n            </GlassCard>\n          ))}\n        </div>\n      </div>\n    </OnboardingLayout>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1696, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HiddevanBrussel/.cursor/dashboard/src/components/onboarding/step-create-dashboard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useOnboardingStore } from \"@/stores/onboarding-store\";\nimport { useThemeStore } from \"@/stores/theme-store\";\n\nconst gradientLight =\n  \"linear-gradient(135deg, rgba(246,210,92,0.4) 0%, rgba(180,139,255,0.3) 50%, rgba(100,120,140,0.5) 100%)\";\nconst gradientDark =\n  \"linear-gradient(135deg, rgba(43,63,75,0.9) 0%, rgba(31,47,58,0.95) 50%, rgba(107,228,107,0.15) 100%)\";\n\nexport function StepCreateDashboard() {\n  const { dashboardName, dashboardId, setDashboard, setDashboardName, nextStep } =\n    useOnboardingStore();\n  const [creating, setCreating] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const resolved = useThemeStore((s) => s.resolved);\n  const bg = resolved === \"dark\" ? gradientDark : gradientLight;\n\n  async function handleCreate() {\n    const name = dashboardName.trim() || \"My dashboard\";\n    setCreating(true);\n    setError(null);\n    try {\n      const res = await fetch(\"/api/dashboards\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ name, theme: \"auto\" }),\n      });\n      const data = await res.json();\n      if (!res.ok) {\n        setError(data?.error ?? \"Failed to create\");\n        return;\n      }\n      if (data?.id) {\n        setDashboard(data.id, name);\n        nextStep();\n      } else {\n        setError(\"No dashboard id received\");\n      }\n    } catch {\n      setError(\"Request failed\");\n    } finally {\n      setCreating(false);\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen flex flex-col items-center justify-center p-8 bg-page-light dark:bg-dark-page\">\n      <div\n        className=\"absolute inset-0 opacity-90 dark:opacity-95\"\n        style={{ background: bg }}\n        aria-hidden\n      />\n      <main className=\"relative z-10 max-w-2xl mx-auto text-center\">\n        <h1 className=\"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white tracking-tight\">\n          Create dashboard\n        </h1>\n        <p className=\"mt-6 text-lg md:text-xl text-gray-700 dark:text-gray-200 leading-relaxed\">\n          Give your dashboard a name. It will be saved; in the next step you choose which widgets to add.\n        </p>\n        <div className=\"mt-8 max-w-sm mx-auto text-left\">\n          <label htmlFor=\"dashboard-name\" className=\"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-200\">\n            Dashboard name\n          </label>\n          <input\n            id=\"dashboard-name\"\n            type=\"text\"\n            value={dashboardName}\n            onChange={(e) => setDashboardName(e.target.value)}\n            placeholder=\"My dashboard\"\n            className=\"w-full rounded-xl border border-gray-300 dark:border-white/20 bg-white dark:bg-white/10 px-4 py-3 text-base text-gray-900 dark:text-white placeholder:text-gray-500\"\n            disabled={!!dashboardId}\n          />\n          {error && (\n            <p className=\"mt-2 text-sm text-red-600 dark:text-red-400\">{error}</p>\n          )}\n        </div>\n        <button\n          type=\"button\"\n          onClick={handleCreate}\n          disabled={creating || !!dashboardId}\n          className=\"mt-10 inline-block rounded-full bg-accent-yellow dark:bg-accent-green px-8 py-4 text-lg font-semibold text-gray-900 shadow-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:pointer-events-none\"\n        >\n          {creating ? \"Creating…\" : dashboardId ? \"Created\" : \"Create dashboard\"}\n        </button>\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMA,MAAM,gBACJ;AACF,MAAM,eACJ;AAEK,SAAS;IACd,MAAM,EAAE,aAAa,EAAE,WAAW,EAAE,YAAY,EAAE,gBAAgB,EAAE,QAAQ,EAAE,GAC5E,IAAA,0JAAkB;IACpB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAClD,MAAM,WAAW,IAAA,gJAAa,EAAC,CAAC,IAAM,EAAE,QAAQ;IAChD,MAAM,KAAK,aAAa,SAAS,eAAe;IAEhD,eAAe;QACb,MAAM,OAAO,cAAc,IAAI,MAAM;QACrC,YAAY;QACZ,SAAS;QACT,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,mBAAmB;gBACzC,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAM,OAAO;gBAAO;YAC7C;YACA,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,IAAI,CAAC,IAAI,EAAE,EAAE;gBACX,SAAS,MAAM,SAAS;gBACxB;YACF;YACA,IAAI,MAAM,IAAI;gBACZ,aAAa,KAAK,EAAE,EAAE;gBACtB;YACF,OAAO;gBACL,SAAS;YACX;QACF,EAAE,OAAM;YACN,SAAS;QACX,SAAU;YACR,YAAY;QACd;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBACC,WAAU;gBACV,OAAO;oBAAE,YAAY;gBAAG;gBACxB,aAAW;;;;;;0BAEb,8OAAC;gBAAK,WAAU;;kCACd,8OAAC;wBAAG,WAAU;kCAA8E;;;;;;kCAG5F,8OAAC;wBAAE,WAAU;kCAA2E;;;;;;kCAGxF,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAM,SAAQ;gCAAiB,WAAU;0CAAkE;;;;;;0CAG5G,8OAAC;gCACC,IAAG;gCACH,MAAK;gCACL,OAAO;gCACP,UAAU,CAAC,IAAM,iBAAiB,EAAE,MAAM,CAAC,KAAK;gCAChD,aAAY;gCACZ,WAAU;gCACV,UAAU,CAAC,CAAC;;;;;;4BAEb,uBACC,8OAAC;gCAAE,WAAU;0CAA+C;;;;;;;;;;;;kCAGhE,8OAAC;wBACC,MAAK;wBACL,SAAS;wBACT,UAAU,YAAY,CAAC,CAAC;wBACxB,WAAU;kCAET,WAAW,cAAc,cAAc,YAAY;;;;;;;;;;;;;;;;;;AAK9D","debugId":null}},
    {"offset": {"line": 1849, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HiddevanBrussel/.cursor/dashboard/src/components/onboarding/step-done.tsx"],"sourcesContent":["\"use client\";\n\nimport { useRouter } from \"next/navigation\";\nimport { GlassCard } from \"@/components/layout/glass-card\";\nimport { OnboardingLayout } from \"./onboarding-layout\";\nimport { useOnboardingStore } from \"@/stores/onboarding-store\";\nimport { setOnboardingCompleted } from \"@/lib/onboarding-completed\";\nimport { useState } from \"react\";\n\nexport function StepDone() {\n  const router = useRouter();\n  const { template, widgets, rooms, dashboardId: storedDashboardId, dashboardName: storedDashboardName } = useOnboardingStore();\n  const [exporting, setExporting] = useState(false);\n\n  function handleExport() {\n    setExporting(true);\n    const config = {\n      template,\n      widgets,\n      rooms: rooms.map((r) => ({ name: r.name, entityIds: r.entityIds })),\n      exportedAt: new Date().toISOString(),\n    };\n    const blob = new Blob([JSON.stringify(config, null, 2)], {\n      type: \"application/json\",\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = \"dashboard-config.json\";\n    a.click();\n    URL.revokeObjectURL(url);\n    setExporting(false);\n  }\n\n  async function handlePublish() {\n    try {\n      let dashboardId = storedDashboardId;\n      if (!dashboardId) {\n        const res = await fetch(\"/api/dashboard\");\n        const d = await res.json();\n        if (d?.id) {\n          dashboardId = d.id;\n        } else {\n          const createRes = await fetch(\"/api/dashboards\", {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify({\n              name: storedDashboardName || \"My dashboard\",\n              theme: \"auto\",\n            }),\n          });\n          const created = await createRes.json();\n          dashboardId = created?.id ?? null;\n        }\n      }\n      if (dashboardId) {\n        const layout = widgets.length\n          ? widgets.map((w, i) => ({\n              i: w.id,\n              x: (i % 3) * 4,\n              y: Math.floor(i / 3) * 2,\n              w: 4,\n              h: 2,\n            }))\n          : [];\n        await fetch(`/api/dashboards/${dashboardId}`, {\n          method: \"PUT\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({\n            widgets: JSON.stringify(widgets),\n            layout: JSON.stringify(layout),\n          }),\n        });\n      }\n    } finally {\n      setOnboardingCompleted();\n      router.push(\"/dashboards\");\n    }\n  }\n\n  return (\n    <OnboardingLayout\n      step={8}\n      heroTitle=\"You're all set\"\n      heroSubtitle=\"Preview your dashboard below. Publish to make it active or export the configuration.\"\n      rightCards={\n        <GlassCard>\n          <h3 className=\"text-card-title font-medium mb-2\">Summary</h3>\n          <p className=\"text-sm text-gray-600 dark:text-gray-300\">\n            Template: {template}\n          </p>\n          <p className=\"text-sm text-gray-600 dark:text-gray-300\">\n            Widgets: {widgets.length}\n          </p>\n          <p className=\"text-sm text-gray-600 dark:text-gray-300\">\n            Rooms: {rooms.length}\n          </p>\n        </GlassCard>\n      }\n    >\n      <div className=\"space-y-4 max-w-md\">\n        <div className=\"rounded-card border-2 border-dashed border-gray-300 dark:border-white/20 p-8 text-center text-gray-500 dark:text-gray-400\">\n          Live preview of the dashboard will appear here.\n        </div>\n        <div className=\"flex gap-2\">\n          <button\n            type=\"button\"\n            onClick={handlePublish}\n            className=\"rounded-full bg-accent-yellow dark:bg-accent-green px-4 py-2 text-sm font-medium text-gray-900\"\n          >\n            Publish dashboard\n          </button>\n          <button\n            type=\"button\"\n            onClick={handleExport}\n            disabled={exporting}\n            className=\"rounded-full bg-white dark:bg-white/10 border border-gray-200 dark:border-white/20 px-4 py-2 text-sm font-medium\"\n          >\n            Export JSON\n          </button>\n        </div>\n      </div>\n    </OnboardingLayout>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AASO,SAAS;IACd,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAE,KAAK,EAAE,aAAa,iBAAiB,EAAE,eAAe,mBAAmB,EAAE,GAAG,IAAA,0JAAkB;IAC3H,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAE3C,SAAS;QACP,aAAa;QACb,MAAM,SAAS;YACb;YACA;YACA,OAAO,MAAM,GAAG,CAAC,CAAC,IAAM,CAAC;oBAAE,MAAM,EAAE,IAAI;oBAAE,WAAW,EAAE,SAAS;gBAAC,CAAC;YACjE,YAAY,IAAI,OAAO,WAAW;QACpC;QACA,MAAM,OAAO,IAAI,KAAK;YAAC,KAAK,SAAS,CAAC,QAAQ,MAAM;SAAG,EAAE;YACvD,MAAM;QACR;QACA,MAAM,MAAM,IAAI,eAAe,CAAC;QAChC,MAAM,IAAI,SAAS,aAAa,CAAC;QACjC,EAAE,IAAI,GAAG;QACT,EAAE,QAAQ,GAAG;QACb,EAAE,KAAK;QACP,IAAI,eAAe,CAAC;QACpB,aAAa;IACf;IAEA,eAAe;QACb,IAAI;YACF,IAAI,cAAc;YAClB,IAAI,CAAC,aAAa;gBAChB,MAAM,MAAM,MAAM,MAAM;gBACxB,MAAM,IAAI,MAAM,IAAI,IAAI;gBACxB,IAAI,GAAG,IAAI;oBACT,cAAc,EAAE,EAAE;gBACpB,OAAO;oBACL,MAAM,YAAY,MAAM,MAAM,mBAAmB;wBAC/C,QAAQ;wBACR,SAAS;4BAAE,gBAAgB;wBAAmB;wBAC9C,MAAM,KAAK,SAAS,CAAC;4BACnB,MAAM,uBAAuB;4BAC7B,OAAO;wBACT;oBACF;oBACA,MAAM,UAAU,MAAM,UAAU,IAAI;oBACpC,cAAc,SAAS,MAAM;gBAC/B;YACF;YACA,IAAI,aAAa;gBACf,MAAM,SAAS,QAAQ,MAAM,GACzB,QAAQ,GAAG,CAAC,CAAC,GAAG,IAAM,CAAC;wBACrB,GAAG,EAAE,EAAE;wBACP,GAAG,AAAC,IAAI,IAAK;wBACb,GAAG,KAAK,KAAK,CAAC,IAAI,KAAK;wBACvB,GAAG;wBACH,GAAG;oBACL,CAAC,KACD,EAAE;gBACN,MAAM,MAAM,CAAC,gBAAgB,EAAE,aAAa,EAAE;oBAC5C,QAAQ;oBACR,SAAS;wBAAE,gBAAgB;oBAAmB;oBAC9C,MAAM,KAAK,SAAS,CAAC;wBACnB,SAAS,KAAK,SAAS,CAAC;wBACxB,QAAQ,KAAK,SAAS,CAAC;oBACzB;gBACF;YACF;QACF,SAAU;YACR,IAAA,+JAAsB;YACtB,OAAO,IAAI,CAAC;QACd;IACF;IAEA,qBACE,8OAAC,4KAAgB;QACf,MAAM;QACN,WAAU;QACV,cAAa;QACb,0BACE,8OAAC,0JAAS;;8BACR,8OAAC;oBAAG,WAAU;8BAAmC;;;;;;8BACjD,8OAAC;oBAAE,WAAU;;wBAA2C;wBAC3C;;;;;;;8BAEb,8OAAC;oBAAE,WAAU;;wBAA2C;wBAC5C,QAAQ,MAAM;;;;;;;8BAE1B,8OAAC;oBAAE,WAAU;;wBAA2C;wBAC9C,MAAM,MAAM;;;;;;;;;;;;;kBAK1B,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;8BAA4H;;;;;;8BAG3I,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BACC,MAAK;4BACL,SAAS;4BACT,WAAU;sCACX;;;;;;sCAGD,8OAAC;4BACC,MAAK;4BACL,SAAS;4BACT,UAAU;4BACV,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;AAOX","debugId":null}},
    {"offset": {"line": 2053, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HiddevanBrussel/.cursor/dashboard/src/app/onboarding/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useRouter } from \"next/navigation\";\nimport { useOnboardingStore } from \"@/stores/onboarding-store\";\nimport { StepIntro } from \"@/components/onboarding/step-intro\";\nimport { StepConnect } from \"@/components/onboarding/step-connect\";\nimport { StepDiscovery } from \"@/components/onboarding/step-discovery\";\nimport { StepRooms } from \"@/components/onboarding/step-rooms\";\nimport { StepCreateDashboard } from \"@/components/onboarding/step-create-dashboard\";\nimport { StepDone } from \"@/components/onboarding/step-done\";\nimport { setOnboardingCompleted } from \"@/lib/onboarding-completed\";\n\nconst STEPS = [\n  StepIntro,\n  StepConnect,\n  StepDiscovery,\n  StepRooms,\n  StepCreateDashboard,\n  StepDone,\n];\n\nexport default function OnboardingPage() {\n  const router = useRouter();\n  const { step, nextStep, prevStep } = useOnboardingStore();\n  const CurrentStep = STEPS[step - 1];\n\n  function handleSkip() {\n    setOnboardingCompleted();\n    router.push(\"/dashboards\");\n  }\n\n  return (\n    <>\n      <CurrentStep />\n      <div className=\"fixed bottom-6 right-6 flex gap-2 z-40\">\n        {step > 1 && (\n          <button\n            type=\"button\"\n            onClick={prevStep}\n            className=\"rounded-full bg-white dark:bg-white/10 border border-gray-200 dark:border-white/20 px-4 py-2 text-sm font-medium shadow-lg\"\n          >\n            Previous\n          </button>\n        )}\n        {step < 6 && (\n          <button\n            type=\"button\"\n            onClick={nextStep}\n            className=\"rounded-full bg-accent-yellow dark:bg-accent-green px-4 py-2 text-sm font-medium text-gray-900 shadow-lg\"\n          >\n            Next\n          </button>\n        )}\n        <button\n          type=\"button\"\n          onClick={handleSkip}\n          className=\"rounded-full bg-gray-200 dark:bg-white/10 px-4 py-2 text-sm font-medium\"\n        >\n          Skip\n        </button>\n      </div>\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;;;;;;;;;;;AAYA,MAAM,QAAQ;IACZ,8JAAS;IACT,kKAAW;IACX,sKAAa;IACb,8JAAS;IACT,sLAAmB;IACnB,4JAAQ;CACT;AAEc,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,IAAA,0JAAkB;IACvD,MAAM,cAAc,KAAK,CAAC,OAAO,EAAE;IAEnC,SAAS;QACP,IAAA,+JAAsB;QACtB,OAAO,IAAI,CAAC;IACd;IAEA,qBACE;;0BACE,8OAAC;;;;;0BACD,8OAAC;gBAAI,WAAU;;oBACZ,OAAO,mBACN,8OAAC;wBACC,MAAK;wBACL,SAAS;wBACT,WAAU;kCACX;;;;;;oBAIF,OAAO,mBACN,8OAAC;wBACC,MAAK;wBACL,SAAS;wBACT,WAAU;kCACX;;;;;;kCAIH,8OAAC;wBACC,MAAK;wBACL,SAAS;wBACT,WAAU;kCACX;;;;;;;;;;;;;;AAMT","debugId":null}}]
}