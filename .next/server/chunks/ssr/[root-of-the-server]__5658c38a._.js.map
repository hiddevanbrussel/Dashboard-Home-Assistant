{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HiddevanBrussel/.cursor/dashboard/src/stores/theme-store.ts"],"sourcesContent":["import { create } from \"zustand\";\r\nimport { persist } from \"zustand/middleware\";\r\n\r\nexport type ThemeMode = \"auto\" | \"light\" | \"dark\";\r\n\r\ntype ThemeStore = {\r\n  mode: ThemeMode;\r\n  setMode: (mode: ThemeMode) => void;\r\n  resolved: \"light\" | \"dark\";\r\n  setResolved: (resolved: \"light\" | \"dark\") => void;\r\n};\r\n\r\nexport const useThemeStore = create<ThemeStore>()(\r\n  persist(\r\n    (set) => ({\r\n      mode: \"auto\",\r\n      resolved: \"light\",\r\n      setMode: (mode) => set({ mode }),\r\n      setResolved: (resolved) => set({ resolved }),\r\n    }),\r\n    { name: \"dashboard-theme\" }\r\n  )\r\n);\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAWO,MAAM,gBAAgB,IAAA,kJAAM,IACjC,IAAA,wJAAO,EACL,CAAC,MAAQ,CAAC;QACR,MAAM;QACN,UAAU;QACV,SAAS,CAAC,OAAS,IAAI;gBAAE;YAAK;QAC9B,aAAa,CAAC,WAAa,IAAI;gBAAE;YAAS;IAC5C,CAAC,GACD;IAAE,MAAM;AAAkB","debugId":null}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HiddevanBrussel/.cursor/dashboard/src/components/theme-provider.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useThemeStore } from \"@/stores/theme-store\";\r\nimport { useCallback, useEffect } from \"react\";\r\n\r\nexport function ThemeProvider({ children }: { children: React.ReactNode }) {\r\n  const { mode, resolved, setResolved } = useThemeStore();\r\n\r\n  const applyTheme = useCallback(() => {\r\n    const root = document.documentElement;\r\n    let next: \"light\" | \"dark\" = resolved;\r\n\r\n    if (mode === \"auto\") {\r\n      next =\r\n        typeof window !== \"undefined\" &&\r\n        window.matchMedia(\"(prefers-color-scheme: dark)\").matches\r\n          ? \"dark\"\r\n          : \"light\";\r\n    } else {\r\n      next = mode;\r\n    }\r\n\r\n    root.classList.remove(\"light\", \"dark\");\r\n    root.classList.add(next);\r\n    setResolved(next);\r\n  }, [mode, resolved, setResolved]);\r\n\r\n  useEffect(() => {\r\n    applyTheme();\r\n  }, [applyTheme]);\r\n\r\n  useEffect(() => {\r\n    if (mode !== \"auto\") return;\r\n    const mq = window.matchMedia(\"(prefers-color-scheme: dark)\");\r\n    const handler = () => applyTheme();\r\n    mq.addEventListener(\"change\", handler);\r\n    return () => mq.removeEventListener(\"change\", handler);\r\n  }, [mode, applyTheme]);\r\n\r\n  return (\r\n    <div className=\"min-h-screen transition-theme duration-theme\" data-theme={resolved}>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKO,SAAS,cAAc,EAAE,QAAQ,EAAiC;IACvE,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,GAAG,IAAA,gJAAa;IAErD,MAAM,aAAa,IAAA,oNAAW,EAAC;QAC7B,MAAM,OAAO,SAAS,eAAe;QACrC,IAAI,OAAyB;QAE7B,IAAI,SAAS,QAAQ;YACnB,OACE,gBAAkB,eAClB,OAAO,UAAU,CAAC,gCAAgC,OAAO,GACrD,0BACA;QACR,OAAO;YACL,OAAO;QACT;QAEA,KAAK,SAAS,CAAC,MAAM,CAAC,SAAS;QAC/B,KAAK,SAAS,CAAC,GAAG,CAAC;QACnB,YAAY;IACd,GAAG;QAAC;QAAM;QAAU;KAAY;IAEhC,IAAA,kNAAS,EAAC;QACR;IACF,GAAG;QAAC;KAAW;IAEf,IAAA,kNAAS,EAAC;QACR,IAAI,SAAS,QAAQ;QACrB,MAAM,KAAK,OAAO,UAAU,CAAC;QAC7B,MAAM,UAAU,IAAM;QACtB,GAAG,gBAAgB,CAAC,UAAU;QAC9B,OAAO,IAAM,GAAG,mBAAmB,CAAC,UAAU;IAChD,GAAG;QAAC;QAAM;KAAW;IAErB,qBACE,8OAAC;QAAI,WAAU;QAA+C,cAAY;kBACvE;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 92, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HiddevanBrussel/.cursor/dashboard/src/stores/screensaver-store.ts"],"sourcesContent":["const STORAGE_KEY_MINUTES = \"dashboard.screensaverMinutes\";\r\nconst STORAGE_KEY_BACKGROUND = \"dashboard.screensaverBackground\";\r\n\r\n/** Screensaver timeout in minutes. 0 = disabled. */\r\nexport function getScreensaverMinutes(): number {\r\n  if (typeof window === \"undefined\") return 0;\r\n  try {\r\n    const v = localStorage.getItem(STORAGE_KEY_MINUTES);\r\n    const n = v ? parseInt(v, 10) : 0;\r\n    return Number.isFinite(n) && n >= 0 ? n : 0;\r\n  } catch {\r\n    return 0;\r\n  }\r\n}\r\n\r\nexport function setScreensaverMinutes(minutes: number): void {\r\n  try {\r\n    localStorage.setItem(STORAGE_KEY_MINUTES, String(Math.max(0, Math.round(minutes))));\r\n    window.dispatchEvent(new CustomEvent(\"screensaver-setting-changed\"));\r\n  } catch {\r\n    // ignore\r\n  }\r\n}\r\n\r\n/** Screensaver background image URL. Empty string = geen afbeelding. */\r\nexport function getScreensaverBackgroundImage(): string {\r\n  if (typeof window === \"undefined\") return \"\";\r\n  try {\r\n    const v = localStorage.getItem(STORAGE_KEY_BACKGROUND);\r\n    return typeof v === \"string\" ? v : \"\";\r\n  } catch {\r\n    return \"\";\r\n  }\r\n}\r\n\r\nexport function setScreensaverBackgroundImage(url: string): void {\r\n  try {\r\n    localStorage.setItem(STORAGE_KEY_BACKGROUND, url || \"\");\r\n    window.dispatchEvent(new CustomEvent(\"screensaver-setting-changed\"));\r\n  } catch {\r\n    // ignore\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA,MAAM,sBAAsB;AAC5B,MAAM,yBAAyB;AAGxB,SAAS;IACd,wCAAmC,OAAO;;;AAQ5C;AAEO,SAAS,sBAAsB,OAAe;IACnD,IAAI;QACF,aAAa,OAAO,CAAC,qBAAqB,OAAO,KAAK,GAAG,CAAC,GAAG,KAAK,KAAK,CAAC;QACxE,OAAO,aAAa,CAAC,IAAI,YAAY;IACvC,EAAE,OAAM;IACN,SAAS;IACX;AACF;AAGO,SAAS;IACd,wCAAmC,OAAO;;;AAO5C;AAEO,SAAS,8BAA8B,GAAW;IACvD,IAAI;QACF,aAAa,OAAO,CAAC,wBAAwB,OAAO;QACpD,OAAO,aAAa,CAAC,IAAI,YAAY;IACvC,EAAE,OAAM;IACN,SAAS;IACX;AACF","debugId":null}},
    {"offset": {"line": 134, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HiddevanBrussel/.cursor/dashboard/src/components/screensaver.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect, useCallback } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport { getScreensaverMinutes, getScreensaverBackgroundImage } from \"@/stores/screensaver-store\";\r\n\r\nconst ACTIVITY_EVENTS = [\"mousemove\", \"mousedown\", \"keydown\", \"touchstart\", \"scroll\", \"click\"] as const;\r\n\r\nfunction useIdleScreensaver() {\r\n  const [active, setActive] = useState(false);\r\n  const [timeoutMinutes, setTimeoutMinutes] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const minutes = getScreensaverMinutes();\r\n    setTimeoutMinutes(minutes);\r\n    const onSettingChange = () => setTimeoutMinutes(getScreensaverMinutes());\r\n    window.addEventListener(\"screensaver-setting-changed\", onSettingChange);\r\n    return () => window.removeEventListener(\"screensaver-setting-changed\", onSettingChange);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (timeoutMinutes <= 0) {\r\n      setActive(false);\r\n      return;\r\n    }\r\n    const delayMs = timeoutMinutes * 60 * 1000;\r\n    let timeoutId: ReturnType<typeof setTimeout> | null = null;\r\n\r\n    const resetTimer = () => {\r\n      setActive(false);\r\n      if (timeoutId) clearTimeout(timeoutId);\r\n      timeoutId = setTimeout(() => setActive(true), delayMs);\r\n    };\r\n\r\n    resetTimer();\r\n\r\n    const onActivity = () => resetTimer();\r\n    for (const ev of ACTIVITY_EVENTS) {\r\n      window.addEventListener(ev, onActivity, { passive: true });\r\n    }\r\n\r\n    return () => {\r\n      for (const ev of ACTIVITY_EVENTS) {\r\n        window.removeEventListener(ev, onActivity);\r\n      }\r\n      if (timeoutId) clearTimeout(timeoutId);\r\n    };\r\n  }, [timeoutMinutes]);\r\n\r\n  return { active, setActive };\r\n}\r\n\r\nfunction ScreensaverClock() {\r\n  const [time, setTime] = useState(() => new Date());\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => setTime(new Date()), 1000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  const str = `${time.getHours().toString().padStart(2, \"0\")}:${time.getMinutes().toString().padStart(2, \"0\")}`;\r\n  const dateStr = time.toLocaleDateString(\"nl-NL\", {\r\n    weekday: \"long\",\r\n    day: \"numeric\",\r\n    month: \"long\",\r\n  });\r\n\r\n  return (\r\n    <div className=\"flex flex-col items-end gap-1\">\r\n      <time\r\n        dateTime={time.toISOString()}\r\n        className=\"text-5xl sm:text-6xl font-light tabular-nums text-white/90 drop-shadow-md\"\r\n      >\r\n        {str}\r\n      </time>\r\n      <span className=\"text-sm text-white/50 tabular-nums\">{dateStr}</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ScreensaverOverlay({ onDismiss }: { onDismiss: () => void }) {\r\n  const backgroundImage = getScreensaverBackgroundImage();\r\n\r\n  return (\r\n    <div\r\n      role=\"button\"\r\n      tabIndex={0}\r\n      aria-label=\"Screensaver aanraken om te sluiten\"\r\n      className=\"fixed inset-0 z-[9999] flex items-end justify-end p-8 cursor-pointer focus:outline-none focus-visible:ring-2 focus-visible:ring-white/50\"\r\n      style={\r\n        backgroundImage\r\n          ? undefined\r\n          : { background: \"linear-gradient(to bottom right, #111827, #1f2937, #000)\" }\r\n      }\r\n      onClick={onDismiss}\r\n      onKeyDown={(e) => {\r\n        if (e.key === \"Enter\" || e.key === \" \") onDismiss();\r\n      }}\r\n    >\r\n      {backgroundImage && (\r\n        <>\r\n          <div\r\n            className=\"absolute inset-0 bg-cover bg-center bg-no-repeat\"\r\n            style={{ backgroundImage: `url(${backgroundImage})` }}\r\n            aria-hidden\r\n          />\r\n          <div className=\"absolute inset-0 bg-black/50\" aria-hidden />\r\n        </>\r\n      )}\r\n      <div className=\"relative z-10\">\r\n        <ScreensaverClock />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function ScreensaverProvider({ children }: { children: React.ReactNode }) {\r\n  const { active, setActive } = useIdleScreensaver();\r\n\r\n  const dismiss = useCallback(() => setActive(false), []);\r\n\r\n  return (\r\n    <>\r\n      {children}\r\n      {active &&\r\n        typeof document !== \"undefined\" &&\r\n        createPortal(\r\n          <ScreensaverOverlay onDismiss={dismiss} />,\r\n          document.body\r\n        )}\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 314, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HiddevanBrussel/.cursor/dashboard/src/components/providers.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\r\nimport { useState } from \"react\";\r\nimport { ThemeProvider } from \"./theme-provider\";\r\nimport { ScreensaverProvider } from \"./screensaver\";\r\n\r\nexport function Providers({ children }: { children: React.ReactNode }) {\r\n  const [queryClient] = useState(\r\n    () =>\r\n      new QueryClient({\r\n        defaultOptions: {\r\n          queries: { staleTime: 60 * 1000 },\r\n        },\r\n      })\r\n  );\r\n\r\n  return (\r\n    <QueryClientProvider client={queryClient}>\r\n      <ThemeProvider>\r\n        <ScreensaverProvider>{children}</ScreensaverProvider>\r\n      </ThemeProvider>\r\n    </QueryClientProvider>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AACA;AACA;AALA;;;;;;AAOO,SAAS,UAAU,EAAE,QAAQ,EAAiC;IACnE,MAAM,CAAC,YAAY,GAAG,IAAA,iNAAQ,EAC5B,IACE,IAAI,4LAAW,CAAC;YACd,gBAAgB;gBACd,SAAS;oBAAE,WAAW,KAAK;gBAAK;YAClC;QACF;IAGJ,qBACE,8OAAC,6MAAmB;QAAC,QAAQ;kBAC3B,cAAA,8OAAC,wJAAa;sBACZ,cAAA,8OAAC,wJAAmB;0BAAE;;;;;;;;;;;;;;;;AAI9B","debugId":null}},
    {"offset": {"line": 381, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HiddevanBrussel/.cursor/dashboard/src/lib/onboarding-completed.ts"],"sourcesContent":["const KEY = \"onboarding_completed\";\r\n\r\nexport function setOnboardingCompleted(): void {\r\n  if (typeof window === \"undefined\") return;\r\n  window.localStorage.setItem(KEY, \"true\");\r\n}\r\n\r\nexport function getOnboardingCompleted(): boolean {\r\n  if (typeof window === \"undefined\") return false;\r\n  return window.localStorage.getItem(KEY) === \"true\";\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA,MAAM,MAAM;AAEL,SAAS;IACd,wCAAmC;;;AAErC;AAEO,SAAS;IACd,wCAAmC,OAAO;;;AAE5C","debugId":null}},
    {"offset": {"line": 402, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HiddevanBrussel/.cursor/dashboard/src/components/onboarding-guard.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { usePathname, useRouter } from \"next/navigation\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { getOnboardingCompleted, setOnboardingCompleted } from \"@/lib/onboarding-completed\";\r\n\r\nexport function OnboardingGuard({ children }: { children: React.ReactNode }) {\r\n  const pathname = usePathname();\r\n  const router = useRouter();\r\n  const [allowed, setAllowed] = useState<boolean | null>(null);\r\n\r\n  useEffect(() => {\r\n    const completed = getOnboardingCompleted();\r\n    const isOnboardingStart = pathname === \"/onboarding/start\";\r\n    const isOnboardingWizard = pathname === \"/onboarding\";\r\n\r\n    if (completed || isOnboardingStart || isOnboardingWizard) {\r\n      setAllowed(true);\r\n      return;\r\n    }\r\n\r\n    // Geen onboarding-flag in localStorage: check of er al een dashboard is (bijv. eerste start na deploy met bestaande data)\r\n    fetch(\"/api/dashboard\")\r\n      .then((r) => r.json())\r\n      .then((d) => {\r\n        if (d?.id) {\r\n          setOnboardingCompleted();\r\n          setAllowed(true);\r\n          if (pathname === \"/\" || pathname === \"/dashboards\") {\r\n            router.replace(`/dashboards/${d.id}`);\r\n          }\r\n        } else {\r\n          router.replace(\"/onboarding/start\");\r\n          setAllowed(false);\r\n        }\r\n      })\r\n      .catch(() => {\r\n        router.replace(\"/onboarding/start\");\r\n        setAllowed(false);\r\n      });\r\n  }, [pathname, router]);\r\n\r\n  if (allowed === null || !allowed) {\r\n    return (\r\n      <div className=\"flex min-h-screen items-center justify-center bg-page-light dark:bg-dark-page\">\r\n        <div className=\"h-8 w-8 animate-spin rounded-full border-2 border-accent-yellow dark:border-accent-green border-t-transparent\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return <>{children}</>;\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMO,SAAS,gBAAgB,EAAE,QAAQ,EAAiC;IACzE,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAiB;IAEvD,IAAA,kNAAS,EAAC;QACR,MAAM,YAAY,IAAA,+JAAsB;QACxC,MAAM,oBAAoB,aAAa;QACvC,MAAM,qBAAqB,aAAa;QAExC,IAAI,aAAa,qBAAqB,oBAAoB;YACxD,WAAW;YACX;QACF;QAEA,0HAA0H;QAC1H,MAAM,kBACH,IAAI,CAAC,CAAC,IAAM,EAAE,IAAI,IAClB,IAAI,CAAC,CAAC;YACL,IAAI,GAAG,IAAI;gBACT,IAAA,+JAAsB;gBACtB,WAAW;gBACX,IAAI,aAAa,OAAO,aAAa,eAAe;oBAClD,OAAO,OAAO,CAAC,CAAC,YAAY,EAAE,EAAE,EAAE,EAAE;gBACtC;YACF,OAAO;gBACL,OAAO,OAAO,CAAC;gBACf,WAAW;YACb;QACF,GACC,KAAK,CAAC;YACL,OAAO,OAAO,CAAC;YACf,WAAW;QACb;IACJ,GAAG;QAAC;QAAU;KAAO;IAErB,IAAI,YAAY,QAAQ,CAAC,SAAS;QAChC,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,qBAAO;kBAAG;;AACZ","debugId":null}},
    {"offset": {"line": 471, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HiddevanBrussel/.cursor/dashboard/src/components/page-background.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { createContext, useContext, useEffect, useState } from \"react\";\r\n\r\nfunction fetchBackground(): Promise<string | null> {\r\n  return fetch(\"/api/dashboard\")\r\n    .then((r) => r.json())\r\n    .then((d) => d?.background ?? null)\r\n    .catch(() => null);\r\n}\r\n\r\nconst PageBackgroundContext = createContext<string | null>(null);\r\n\r\nexport function usePageBackground() {\r\n  return useContext(PageBackgroundContext);\r\n}\r\n\r\nexport function PageBackgroundProvider({\r\n  children,\r\n}: {\r\n  children: React.ReactNode;\r\n}) {\r\n  const [url, setUrl] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    fetchBackground().then(setUrl);\r\n    const onUpdate = () => fetchBackground().then(setUrl);\r\n    window.addEventListener(\"page-background-changed\", onUpdate);\r\n    return () => window.removeEventListener(\"page-background-changed\", onUpdate);\r\n  }, []);\r\n\r\n  return (\r\n    <PageBackgroundContext.Provider value={url}>\r\n      {url ? (\r\n        <div\r\n          className=\"fixed inset-0 -z-10 bg-cover bg-center bg-no-repeat\"\r\n          style={{ backgroundImage: `url(${url})` }}\r\n          aria-hidden\r\n        />\r\n      ) : null}\r\n      {children}\r\n    </PageBackgroundContext.Provider>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAIA,SAAS;IACP,OAAO,MAAM,kBACV,IAAI,CAAC,CAAC,IAAM,EAAE,IAAI,IAClB,IAAI,CAAC,CAAC,IAAM,GAAG,cAAc,MAC7B,KAAK,CAAC,IAAM;AACjB;AAEA,MAAM,sCAAwB,IAAA,sNAAa,EAAgB;AAEpD,SAAS;IACd,OAAO,IAAA,mNAAU,EAAC;AACpB;AAEO,SAAS,uBAAuB,EACrC,QAAQ,EAGT;IACC,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,iNAAQ,EAAgB;IAE9C,IAAA,kNAAS,EAAC;QACR,kBAAkB,IAAI,CAAC;QACvB,MAAM,WAAW,IAAM,kBAAkB,IAAI,CAAC;QAC9C,OAAO,gBAAgB,CAAC,2BAA2B;QACnD,OAAO,IAAM,OAAO,mBAAmB,CAAC,2BAA2B;IACrE,GAAG,EAAE;IAEL,qBACE,8OAAC,sBAAsB,QAAQ;QAAC,OAAO;;YACpC,oBACC,8OAAC;gBACC,WAAU;gBACV,OAAO;oBAAE,iBAAiB,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;gBAAC;gBACxC,aAAW;;;;;uBAEX;YACH;;;;;;;AAGP","debugId":null}}]
}